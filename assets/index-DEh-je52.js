(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))V(A);new MutationObserver(A=>{for(const C of A)if(C.type==="childList")for(const h of C.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&V(h)}).observe(document,{childList:!0,subtree:!0});function R(A){const C={};return A.integrity&&(C.integrity=A.integrity),A.referrerPolicy&&(C.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?C.credentials="include":A.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function V(A){if(A.ep)return;A.ep=!0;const C=R(A);fetch(A.href,C)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Ld={exports:{}},Ia={},Md={exports:{}},Xe={};var jh;function V0(){if(jh)return Xe;jh=1;var f=Symbol.for("react.element"),g=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=M&&F[M]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function T(F,Q,J){this.props=F,this.context=Q,this.refs=w,this.updater=J||y}T.prototype.isReactComponent={},T.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=T.prototype;function p(F,Q,J){this.props=F,this.context=Q,this.refs=w,this.updater=J||y}var c=p.prototype=new I;c.constructor=p,v(c,T.prototype),c.isPureReactComponent=!0;var S=Array.isArray,L=Object.prototype.hasOwnProperty,D={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function z(F,Q,J){var ce,ue={},te=null,W=null;if(Q!=null)for(ce in Q.ref!==void 0&&(W=Q.ref),Q.key!==void 0&&(te=""+Q.key),Q)L.call(Q,ce)&&!X.hasOwnProperty(ce)&&(ue[ce]=Q[ce]);var ne=arguments.length-2;if(ne===1)ue.children=J;else if(1<ne){for(var ve=Array(ne),we=0;we<ne;we++)ve[we]=arguments[we+2];ue.children=ve}if(F&&F.defaultProps)for(ce in ne=F.defaultProps,ne)ue[ce]===void 0&&(ue[ce]=ne[ce]);return{$$typeof:f,type:F,key:te,ref:W,props:ue,_owner:D.current}}function b(F,Q){return{$$typeof:f,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function G(F){return typeof F=="object"&&F!==null&&F.$$typeof===f}function K(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return Q[J]})}var Z=/\/+/g;function re(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?K(""+F.key):Q.toString(36)}function se(F,Q,J,ce,ue){var te=typeof F;(te==="undefined"||te==="boolean")&&(F=null);var W=!1;if(F===null)W=!0;else switch(te){case"string":case"number":W=!0;break;case"object":switch(F.$$typeof){case f:case g:W=!0}}if(W)return W=F,ue=ue(W),F=ce===""?"."+re(W,0):ce,S(ue)?(J="",F!=null&&(J=F.replace(Z,"$&/")+"/"),se(ue,Q,J,"",function(we){return we})):ue!=null&&(G(ue)&&(ue=b(ue,J+(!ue.key||W&&W.key===ue.key?"":(""+ue.key).replace(Z,"$&/")+"/")+F)),Q.push(ue)),1;if(W=0,ce=ce===""?".":ce+":",S(F))for(var ne=0;ne<F.length;ne++){te=F[ne];var ve=ce+re(te,ne);W+=se(te,Q,J,ve,ue)}else if(ve=E(F),typeof ve=="function")for(F=ve.call(F),ne=0;!(te=F.next()).done;)te=te.value,ve=ce+re(te,ne++),W+=se(te,Q,J,ve,ue);else if(te==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return W}function ee(F,Q,J){if(F==null)return F;var ce=[],ue=0;return se(F,ce,"","",function(te){return Q.call(J,te,ue++)}),ce}function he(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var P={current:null},O={transition:null},q={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:D};function U(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:ee,forEach:function(F,Q,J){ee(F,function(){Q.apply(this,arguments)},J)},count:function(F){var Q=0;return ee(F,function(){Q++}),Q},toArray:function(F){return ee(F,function(Q){return Q})||[]},only:function(F){if(!G(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Xe.Component=T,Xe.Fragment=R,Xe.Profiler=A,Xe.PureComponent=p,Xe.StrictMode=V,Xe.Suspense=x,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Xe.act=U,Xe.cloneElement=function(F,Q,J){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ce=v({},F.props),ue=F.key,te=F.ref,W=F._owner;if(Q!=null){if(Q.ref!==void 0&&(te=Q.ref,W=D.current),Q.key!==void 0&&(ue=""+Q.key),F.type&&F.type.defaultProps)var ne=F.type.defaultProps;for(ve in Q)L.call(Q,ve)&&!X.hasOwnProperty(ve)&&(ce[ve]=Q[ve]===void 0&&ne!==void 0?ne[ve]:Q[ve])}var ve=arguments.length-2;if(ve===1)ce.children=J;else if(1<ve){ne=Array(ve);for(var we=0;we<ve;we++)ne[we]=arguments[we+2];ce.children=ne}return{$$typeof:f,type:F.type,key:ue,ref:te,props:ce,_owner:W}},Xe.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:C,_context:F},F.Consumer=F},Xe.createElement=z,Xe.createFactory=function(F){var Q=z.bind(null,F);return Q.type=F,Q},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(F){return{$$typeof:m,render:F}},Xe.isValidElement=G,Xe.lazy=function(F){return{$$typeof:N,_payload:{_status:-1,_result:F},_init:he}},Xe.memo=function(F,Q){return{$$typeof:k,type:F,compare:Q===void 0?null:Q}},Xe.startTransition=function(F){var Q=O.transition;O.transition={};try{F()}finally{O.transition=Q}},Xe.unstable_act=U,Xe.useCallback=function(F,Q){return P.current.useCallback(F,Q)},Xe.useContext=function(F){return P.current.useContext(F)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(F){return P.current.useDeferredValue(F)},Xe.useEffect=function(F,Q){return P.current.useEffect(F,Q)},Xe.useId=function(){return P.current.useId()},Xe.useImperativeHandle=function(F,Q,J){return P.current.useImperativeHandle(F,Q,J)},Xe.useInsertionEffect=function(F,Q){return P.current.useInsertionEffect(F,Q)},Xe.useLayoutEffect=function(F,Q){return P.current.useLayoutEffect(F,Q)},Xe.useMemo=function(F,Q){return P.current.useMemo(F,Q)},Xe.useReducer=function(F,Q,J){return P.current.useReducer(F,Q,J)},Xe.useRef=function(F){return P.current.useRef(F)},Xe.useState=function(F){return P.current.useState(F)},Xe.useSyncExternalStore=function(F,Q,J){return P.current.useSyncExternalStore(F,Q,J)},Xe.useTransition=function(){return P.current.useTransition()},Xe.version="18.3.1",Xe}var Oh;function Bc(){return Oh||(Oh=1,Md.exports=V0()),Md.exports}var zh;function H0(){if(zh)return Ia;zh=1;var f=Bc(),g=Symbol.for("react.element"),R=Symbol.for("react.fragment"),V=Object.prototype.hasOwnProperty,A=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function h(m,x,k){var N,M={},E=null,y=null;k!==void 0&&(E=""+k),x.key!==void 0&&(E=""+x.key),x.ref!==void 0&&(y=x.ref);for(N in x)V.call(x,N)&&!C.hasOwnProperty(N)&&(M[N]=x[N]);if(m&&m.defaultProps)for(N in x=m.defaultProps,x)M[N]===void 0&&(M[N]=x[N]);return{$$typeof:g,type:m,key:E,ref:y,props:M,_owner:A.current}}return Ia.Fragment=R,Ia.jsx=h,Ia.jsxs=h,Ia}var Dh;function W0(){return Dh||(Dh=1,Ld.exports=H0()),Ld.exports}var B=W0(),Ee=Bc();const In=Qd(Ee);var bc={},Fd={exports:{}},ur={},Ad={exports:{}},jd={};var Ih;function q0(){return Ih||(Ih=1,(function(f){function g(O,q){var U=O.length;O.push(q);e:for(;0<U;){var F=U-1>>>1,Q=O[F];if(0<A(Q,q))O[F]=q,O[U]=Q,U=F;else break e}}function R(O){return O.length===0?null:O[0]}function V(O){if(O.length===0)return null;var q=O[0],U=O.pop();if(U!==q){O[0]=U;e:for(var F=0,Q=O.length,J=Q>>>1;F<J;){var ce=2*(F+1)-1,ue=O[ce],te=ce+1,W=O[te];if(0>A(ue,U))te<Q&&0>A(W,ue)?(O[F]=W,O[te]=U,F=te):(O[F]=ue,O[ce]=U,F=ce);else if(te<Q&&0>A(W,U))O[F]=W,O[te]=U,F=te;else break e}}return q}function A(O,q){var U=O.sortIndex-q.sortIndex;return U!==0?U:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var C=performance;f.unstable_now=function(){return C.now()}}else{var h=Date,m=h.now();f.unstable_now=function(){return h.now()-m}}var x=[],k=[],N=1,M=null,E=3,y=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(O){for(var q=R(k);q!==null;){if(q.callback===null)V(k);else if(q.startTime<=O)V(k),q.sortIndex=q.expirationTime,g(x,q);else break;q=R(k)}}function S(O){if(w=!1,c(O),!v)if(R(x)!==null)v=!0,he(L);else{var q=R(k);q!==null&&P(S,q.startTime-O)}}function L(O,q){v=!1,w&&(w=!1,I(z),z=-1),y=!0;var U=E;try{for(c(q),M=R(x);M!==null&&(!(M.expirationTime>q)||O&&!K());){var F=M.callback;if(typeof F=="function"){M.callback=null,E=M.priorityLevel;var Q=F(M.expirationTime<=q);q=f.unstable_now(),typeof Q=="function"?M.callback=Q:M===R(x)&&V(x),c(q)}else V(x);M=R(x)}if(M!==null)var J=!0;else{var ce=R(k);ce!==null&&P(S,ce.startTime-q),J=!1}return J}finally{M=null,E=U,y=!1}}var D=!1,X=null,z=-1,b=5,G=-1;function K(){return!(f.unstable_now()-G<b)}function Z(){if(X!==null){var O=f.unstable_now();G=O;var q=!0;try{q=X(!0,O)}finally{q?re():(D=!1,X=null)}}else D=!1}var re;if(typeof p=="function")re=function(){p(Z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ee=se.port2;se.port1.onmessage=Z,re=function(){ee.postMessage(null)}}else re=function(){T(Z,0)};function he(O){X=O,D||(D=!0,re())}function P(O,q){z=T(function(){O(f.unstable_now())},q)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(O){O.callback=null},f.unstable_continueExecution=function(){v||y||(v=!0,he(L))},f.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<O?Math.floor(1e3/O):5},f.unstable_getCurrentPriorityLevel=function(){return E},f.unstable_getFirstCallbackNode=function(){return R(x)},f.unstable_next=function(O){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var U=E;E=q;try{return O()}finally{E=U}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=E;E=O;try{return q()}finally{E=U}},f.unstable_scheduleCallback=function(O,q,U){var F=f.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,O={id:N++,callback:q,priorityLevel:O,startTime:U,expirationTime:Q,sortIndex:-1},U>F?(O.sortIndex=U,g(k,O),R(x)===null&&O===R(k)&&(w?(I(z),z=-1):w=!0,P(S,U-F))):(O.sortIndex=Q,g(x,O),v||y||(v=!0,he(L))),O},f.unstable_shouldYield=K,f.unstable_wrapCallback=function(O){var q=E;return function(){var U=E;E=q;try{return O.apply(this,arguments)}finally{E=U}}}})(jd)),jd}var bh;function Jd(){return bh||(bh=1,Ad.exports=q0()),Ad.exports}var Gh;function K0(){if(Gh)return ur;Gh=1;var f=Bc(),g=Jd();function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V=new Set,A={};function C(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(A[e]=t,e=0;e<t.length;e++)V.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},M={};function E(e){return x.call(M,e)?!0:x.call(N,e)?!1:k.test(e)?M[e]=!0:(N[e]=!0,!1)}function y(e,t,i,s){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v(e,t,i,s){if(t===null||typeof t>"u"||y(e,t,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,i,s,a,d,j){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=j}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,p);T[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,p);T[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,p);T[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function c(e,t,i,s){var a=T.hasOwnProperty(t)?T[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v(t,i,a,s)&&(i=null),s||a===null?E(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,s=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}var S=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),D=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),O=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,F;function Q(e){if(F===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return`
`+F+e}var J=!1;function ce(e,t){if(!e||J)return"";J=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(pe){var s=pe}Reflect.construct(e,[],t)}else{try{t.call()}catch(pe){s=pe}e.call(t.prototype)}else{try{throw Error()}catch(pe){s=pe}e()}}catch(pe){if(pe&&s&&typeof pe.stack=="string"){for(var a=pe.stack.split(`
`),d=s.stack.split(`
`),j=a.length-1,Y=d.length-1;1<=j&&0<=Y&&a[j]!==d[Y];)Y--;for(;1<=j&&0<=Y;j--,Y--)if(a[j]!==d[Y]){if(j!==1||Y!==1)do if(j--,Y--,0>Y||a[j]!==d[Y]){var $=`
`+a[j].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=j&&0<=Y);break}}}finally{J=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Q(e):""}function ue(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case D:return"Portal";case b:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:te(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return te(e(t))}catch{}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(t);case 8:return t===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e){var t=ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(j){s=""+j,d.call(this,j)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(j){s=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ne(e){e._valueTracker||(e._valueTracker=we(e))}function De(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=ve(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Oe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function et(e,t){var i=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ge(e,t){var i=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;i=ne(t.value!=null?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mt(e,t){t=t.checked,t!=null&&c(e,"checked",t,!1)}function nt(e,t){Mt(e,t);var i=ne(t.value),s=t.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xr(e,t.type,i):t.hasOwnProperty("defaultValue")&&xr(e,t.type,ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function xr(e,t,i){(t!=="number"||Oe(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Et=Array.isArray;function $n(e,t,i,s){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&s&&(e[i].defaultSelected=!0)}else{for(i=""+ne(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ln(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(R(92));if(Et(i)){if(1<i.length)throw Error(R(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ne(i)}}function $t(e,t){var i=ne(t.value),s=ne(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function Sr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function en(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?en(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,bn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,s,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(e){Si.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),At[t]=At[e]})});function Qo(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||At.hasOwnProperty(e)&&At[e]?(""+t).trim():t+"px"}function wi(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=i.indexOf("--")===0,a=Qo(i,t[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,a):e[i]=a}}var Il=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(e,t){if(t){if(Il[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function As(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ul=null,to=null,no=null;function Ru(e){if(e=ms(e)){if(typeof Ul!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Qt(t),Ul(e.stateNode,e.type,t))}}function Bl(e){to?no?no.push(e):no=[e]:to=e}function Vl(){if(to){var e=to,t=no;if(no=to=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function Tu(e,t){return e(t)}function js(){}var Os=!1;function Hl(e,t,i){if(Os)return e(t,i);Os=!0;try{return Tu(e,t,i)}finally{Os=!1,(to!==null||no!==null)&&(js(),Vl())}}function Zo(e,t){var i=e.stateNode;if(i===null)return null;var s=Qt(i);if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(R(231,t,typeof i));return i}var Wl=!1;if(m)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Wl=!1}function Lu(e,t,i,s,a,d,j,Y,$){var pe=Array.prototype.slice.call(arguments,3);try{t.apply(i,pe)}catch(_e){this.onError(_e)}}var ki=!1,zs=null,Ds=!1,ro=null,qc={onError:function(e){ki=!0,zs=e}};function Kc(e,t,i,s,a,d,j,Y,$){ki=!1,zs=null,Lu.apply(qc,arguments)}function Yc(e,t,i,s,a,d,j,Y,$){if(Kc.apply(this,arguments),ki){if(ki){var pe=zs;ki=!1,zs=null}else throw Error(R(198));Ds||(Ds=!0,ro=pe)}}function Ci(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fu(e){if(Ci(e)!==e)throw Error(R(188))}function Xc(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(R(188));return t!==e?null:e}for(var i=e,s=t;;){var a=i.return;if(a===null)break;var d=a.alternate;if(d===null){if(s=a.return,s!==null){i=s;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===i)return Fu(a),e;if(d===s)return Fu(a),t;d=d.sibling}throw Error(R(188))}if(i.return!==s.return)i=a,s=d;else{for(var j=!1,Y=a.child;Y;){if(Y===i){j=!0,i=a,s=d;break}if(Y===s){j=!0,s=a,i=d;break}Y=Y.sibling}if(!j){for(Y=d.child;Y;){if(Y===i){j=!0,i=d,s=a;break}if(Y===s){j=!0,s=d,i=a;break}Y=Y.sibling}if(!j)throw Error(R(189))}}if(i.alternate!==s)throw Error(R(190))}if(i.tag!==3)throw Error(R(188));return i.stateNode.current===i?e:t}function Au(e){return e=Xc(e),e!==null?ju(e):null}function ju(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ju(e);if(t!==null)return t;e=e.sibling}return null}var Ou=g.unstable_scheduleCallback,zu=g.unstable_cancelCallback,Qc=g.unstable_shouldYield,Jc=g.unstable_requestPaint,Rt=g.unstable_now,ql=g.unstable_getCurrentPriorityLevel,Ei=g.unstable_ImmediatePriority,Is=g.unstable_UserBlockingPriority,io=g.unstable_NormalPriority,Zc=g.unstable_LowPriority,bs=g.unstable_IdlePriority,zr=null,tn=null;function gt(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(zr,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Mn,Zr=Math.log,cn=Math.LN2;function Mn(e){return e>>>=0,e===0?32:31-(Zr(e)/cn|0)|0}var wr=64,Dr=4194304;function Kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ni(e,t){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,d=e.pingedLanes,j=i&268435455;if(j!==0){var Y=j&~a;Y!==0?s=Kt(Y):(d&=j,d!==0&&(s=Kt(d)))}else j=i&~a,j!==0?s=Kt(j):d!==0&&(s=Kt(d));if(s===0)return 0;if(t!==0&&t!==s&&(t&a)===0&&(a=s&-s,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((s&4)!==0&&(s|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)i=31-Ke(t),a=1<<i,s|=e[i],t&=~a;return s}function Du(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var j=31-Ke(d),Y=1<<j,$=a[j];$===-1?((Y&i)===0||(Y&s)!==0)&&(a[j]=Du(Y,t)):$<=t&&(e.expiredLanes|=Y),d&=~Y}}function oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kl(){var e=wr;return wr<<=1,(wr&4194240)===0&&(wr=64),e}function Gn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function es(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=i}function $c(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Ke(i),d=1<<a;t[a]=0,s[a]=-1,e[a]=-1,i&=~d}}function Yl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Ke(i),a=1<<s;a&t|e[s]&t&&(e[s]|=t),i&=~a}}var tt=0;function ts(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var so,lo,bu,Gu,Gs,Us=!1,ao=[],tr=null,$r=null,kr=null,Ye=new Map,uo=new Map,Cr=[],Uu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ye.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function ns(e,t,i,s,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:d,targetContainers:[a]},t!==null&&(t=ms(t),t!==null&&lo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Yt(e,t,i,s,a){switch(t){case"focusin":return tr=ns(tr,e,t,i,s,a),!0;case"dragenter":return $r=ns($r,e,t,i,s,a),!0;case"mouseover":return kr=ns(kr,e,t,i,s,a),!0;case"pointerover":var d=a.pointerId;return Ye.set(d,ns(Ye.get(d)||null,e,t,i,s,a)),!0;case"gotpointercapture":return d=a.pointerId,uo.set(d,ns(uo.get(d)||null,e,t,i,s,a)),!0}return!1}function Bs(e){var t=ui(e.target);if(t!==null){var i=Ci(t);if(i!==null){if(t=i.tag,t===13){if(t=Mu(i),t!==null){e.blockedOn=t,Gs(e.priority,function(){bu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=qs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);bl=s,i.target.dispatchEvent(s),bl=null}else return t=ms(i),t!==null&&lo(t),e.blockedOn=i,!1;t.shift()}return!0}function Hs(e,t,i){Vs(e)&&i.delete(t)}function ed(){Us=!1,tr!==null&&Vs(tr)&&(tr=null),$r!==null&&Vs($r)&&($r=null),kr!==null&&Vs(kr)&&(kr=null),Ye.forEach(Hs),uo.forEach(Hs)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Us||(Us=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,ed)))}function Fn(e){function t(a){return ei(a,e)}if(0<ao.length){ei(ao[0],e);for(var i=1;i<ao.length;i++){var s=ao[i];s.blockedOn===e&&(s.blockedOn=null)}}for(tr!==null&&ei(tr,e),$r!==null&&ei($r,e),kr!==null&&ei(kr,e),Ye.forEach(t),uo.forEach(t),i=0;i<Cr.length;i++)s=Cr[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Cr.length&&(i=Cr[0],i.blockedOn===null);)Bs(i),i.blockedOn===null&&Cr.shift()}var co=S.ReactCurrentBatchConfig,Ws=!0;function hr(e,t,i,s){var a=tt,d=co.transition;co.transition=null;try{tt=1,ho(e,t,i,s)}finally{tt=a,co.transition=d}}function Ir(e,t,i,s){var a=tt,d=co.transition;co.transition=null;try{tt=4,ho(e,t,i,s)}finally{tt=a,co.transition=d}}function ho(e,t,i,s){if(Ws){var a=qs(e,t,i,s);if(a===null)al(e,t,s,fo,i),Bu(e,s);else if(Yt(a,e,t,i,s))s.stopPropagation();else if(Bu(e,s),t&4&&-1<Uu.indexOf(e)){for(;a!==null;){var d=ms(a);if(d!==null&&so(d),d=qs(e,t,i,s),d===null&&al(e,t,s,fo,i),d===a)break;a=d}a!==null&&s.stopPropagation()}else al(e,t,s,null,i)}}var fo=null;function qs(e,t,i,s){if(fo=null,e=Gl(s),e=ui(e),e!==null)if(t=Ci(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Mu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fo=e,null}function Vu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ql()){case Ei:return 1;case Is:return 4;case io:case Zc:return 16;case bs:return 536870912;default:return 16}default:return 16}}var nn=null,ti=null,br=null;function rs(){if(br)return br;var e,t=ti,i=t.length,s,a="value"in nn?nn.value:nn.textContent,d=a.length;for(e=0;e<i&&t[e]===a[e];e++);var j=i-e;for(s=1;s<=j&&t[i-s]===a[d-s];s++);return br=a.slice(e,1<s?1-s:void 0)}function Pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xn(){return!0}function Un(){return!1}function bt(e){function t(i,s,a,d,j){this._reactName=i,this._targetInst=a,this.type=s,this.nativeEvent=d,this.target=j,this.currentTarget=null;for(var Y in e)e.hasOwnProperty(Y)&&(i=e[Y],this[Y]=i?i(d):d[Y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xn:Un,this.isPropagationStopped=Un,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=bt(An),pr=U({},An,{view:0,detail:0}),Hu=bt(pr),is,os,rn,Sn=U({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(is=e.screenX-rn.screenX,os=e.screenY-rn.screenY):os=is=0,rn=e),is)},movementY:function(e){return"movementY"in e?e.movementY:os}}),mt=bt(Sn),ss=U({},Sn,{dataTransfer:0}),gr=bt(ss),Wu=U({},pr,{relatedTarget:0}),Ks=bt(Wu),Xl=U({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=bt(Xl),qu=U({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ys=bt(qu),Ku=U({},An,{data:0}),Ri=bt(Ku),Jl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xs[e])?!!t[e]:!1}function Ti(){return nd}var Qs=U({},pr,{key:function(e){if(e.key){var t=Jl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?td[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yu=bt(Qs),Xu=U({},Sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=bt(Xu),Qu=U({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Js=bt(Qu),Zs=U({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),po=bt(Zs),Zl=U({},Sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=bt(Zl),Ju=[9,13,27,32],ls=m&&"CompositionEvent"in window,Mi=null;m&&"documentMode"in document&&(Mi=document.documentMode);var go=m&&"TextEvent"in window&&!Mi,Bn=m&&(!ls||Mi&&8<Mi&&11>=Mi),ni=" ",$s=!1;function ea(e,t){switch(e){case"keyup":return Ju.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function ta(e,t){switch(e){case"compositionend":return mr(t);case"keypress":return t.which!==32?null:($s=!0,ni);case"textInput":return e=t.data,e===ni&&$s?null:e;default:return null}}function Zu(e,t){if(Vn)return e==="compositionend"||!ls&&ea(e,t)?(e=rs(),br=ti=nn=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&t.locale!=="ko"?null:t.data;default:return null}}var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gr[e.type]:t==="textarea"}function as(e,t,i,s){Bl(s),t=ul(t,"onChange"),0<t.length&&(i=new fr("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var mo=null,ri=null;function $u(e){ha(e,0)}function ii(e){var t=Ut(e);if(De(t))return e}function nr(e,t){if(e==="change")return t}var vo=!1;if(m){var oi;if(m){var rr="oninput"in document;if(!rr){var el=document.createElement("div");el.setAttribute("oninput","return;"),rr=typeof el.oninput=="function"}oi=rr}else oi=!1;vo=oi&&(!document.documentMode||9<document.documentMode)}function Fi(){mo&&(mo.detachEvent("onpropertychange",na),ri=mo=null)}function na(e){if(e.propertyName==="value"&&ii(ri)){var t=[];as(t,ri,e,Gl(e)),Hl($u,t)}}function ra(e,t,i){e==="focusin"?(Fi(),mo=t,ri=i,mo.attachEvent("onpropertychange",na)):e==="focusout"&&Fi()}function Ct(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ri)}function tl(e,t){if(e==="click")return ii(t)}function ia(e,t){if(e==="input"||e==="change")return ii(t)}function oa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:oa;function Ai(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var a=i[s];if(!x.call(t,a)||!jn(e[a],t[a]))return!1}return!0}function si(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xt(e,t){var i=si(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=si(i)}}function jt(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jt(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gt(){for(var e=window,t=Oe();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Oe(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function us(e){var t=Gt(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&jt(i.ownerDocument.documentElement,i)){if(s!==null&&yo(i)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,d=Math.min(s.start,a);s=s.end===void 0?d:Math.min(s.end,a),!e.extend&&d>s&&(a=s,s=d,d=a),a=xt(i,d);var j=xt(i,s);a&&j&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==j.node||e.focusOffset!==j.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>s?(e.addRange(t),e.extend(j.node,j.offset)):(t.setEnd(j.node,j.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cs=m&&"documentMode"in document&&11>=document.documentMode,_o=null,Xt=null,ji=null,ds=!1;function nl(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ds||_o==null||_o!==Oe(s)||(s=_o,"selectionStart"in s&&yo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ji&&Ai(ji,s)||(ji=s,s=ul(Xt,"onSelect"),0<s.length&&(t=new fr("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=_o)))}function Hn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var on={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionend:Hn("Transition","TransitionEnd")},Oi={},rl={};m&&(rl=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function xo(e){if(Oi[e])return Oi[e];if(!on[e])return e;var t=on[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in rl)return Oi[e]=t[i];return e}var sa=xo("animationend"),la=xo("animationiteration"),aa=xo("animationstart"),ua=xo("transitionend"),ca=new Map,da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){ca.set(e,t),C(t,[e])}for(var il=0;il<da.length;il++){var zi=da[il],ec=zi.toLowerCase(),ol=zi[0].toUpperCase()+zi.slice(1);Br(ec,"on"+ol)}Br(sa,"onAnimationEnd"),Br(la,"onAnimationIteration"),Br(aa,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(ua,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tc=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function sl(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,Yc(s,t,void 0,e),e.currentTarget=null}function ha(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],a=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var j=s.length-1;0<=j;j--){var Y=s[j],$=Y.instance,pe=Y.currentTarget;if(Y=Y.listener,$!==d&&a.isPropagationStopped())break e;sl(a,Y,pe),d=$}else for(j=0;j<s.length;j++){if(Y=s[j],$=Y.instance,pe=Y.currentTarget,Y=Y.listener,$!==d&&a.isPropagationStopped())break e;sl(a,Y,pe),d=$}}}if(Ds)throw e=ro,Ds=!1,ro=null,e}function dt(e,t){var i=t[dl];i===void 0&&(i=t[dl]=new Set);var s=e+"__bubble";i.has(s)||(fa(t,e,2,!1),i.add(s))}function ll(e,t,i){var s=0;t&&(s|=4),fa(i,e,s,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[hs]){e[hs]=!0,V.forEach(function(i){i!=="selectionchange"&&(tc.has(i)||ll(i,!1,e),ll(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,ll("selectionchange",!1,t))}}function fa(e,t,i,s){switch(Vu(t)){case 1:var a=hr;break;case 4:a=Ir;break;default:a=ho}i=a.bind(null,t,i,e),a=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function al(e,t,i,s,a){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var j=s.tag;if(j===3||j===4){var Y=s.stateNode.containerInfo;if(Y===a||Y.nodeType===8&&Y.parentNode===a)break;if(j===4)for(j=s.return;j!==null;){var $=j.tag;if(($===3||$===4)&&($=j.stateNode.containerInfo,$===a||$.nodeType===8&&$.parentNode===a))return;j=j.return}for(;Y!==null;){if(j=ui(Y),j===null)return;if($=j.tag,$===5||$===6){s=d=j;continue e}Y=Y.parentNode}}s=s.return}Hl(function(){var pe=d,_e=Gl(i),xe=[];e:{var ye=ca.get(e);if(ye!==void 0){var Te=fr,Fe=e;switch(e){case"keypress":if(Pi(i)===0)break e;case"keydown":case"keyup":Te=Yu;break;case"focusin":Fe="focus",Te=Ks;break;case"focusout":Fe="blur",Te=Ks;break;case"beforeblur":case"afterblur":Te=Ks;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Js;break;case sa:case la:case aa:Te=Ql;break;case ua:Te=po;break;case"scroll":Te=Hu;break;case"wheel":Te=$l;break;case"copy":case"cut":case"paste":Te=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Li}var Ae=(t&4)!==0,Wt=!Ae&&e==="scroll",ae=Ae?ye!==null?ye+"Capture":null:ye;Ae=[];for(var ie=pe,de;ie!==null;){de=ie;var ke=de.stateNode;if(de.tag===5&&ke!==null&&(de=ke,ae!==null&&(ke=Zo(ie,ae),ke!=null&&Ae.push(So(ie,ke,de)))),Wt)break;ie=ie.return}0<Ae.length&&(ye=new Te(ye,Fe,null,i,_e),xe.push({event:ye,listeners:Ae}))}}if((t&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",ye&&i!==bl&&(Fe=i.relatedTarget||i.fromElement)&&(ui(Fe)||Fe[Nr]))break e;if((Te||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,Te?(Fe=i.relatedTarget||i.toElement,Te=pe,Fe=Fe?ui(Fe):null,Fe!==null&&(Wt=Ci(Fe),Fe!==Wt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Te=null,Fe=pe),Te!==Fe)){if(Ae=mt,ke="onMouseLeave",ae="onMouseEnter",ie="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Li,ke="onPointerLeave",ae="onPointerEnter",ie="pointer"),Wt=Te==null?ye:Ut(Te),de=Fe==null?ye:Ut(Fe),ye=new Ae(ke,ie+"leave",Te,i,_e),ye.target=Wt,ye.relatedTarget=de,ke=null,ui(_e)===pe&&(Ae=new Ae(ae,ie+"enter",Fe,i,_e),Ae.target=de,Ae.relatedTarget=Wt,ke=Ae),Wt=ke,Te&&Fe)t:{for(Ae=Te,ae=Fe,ie=0,de=Ae;de;de=Ii(de))ie++;for(de=0,ke=ae;ke;ke=Ii(ke))de++;for(;0<ie-de;)Ae=Ii(Ae),ie--;for(;0<de-ie;)ae=Ii(ae),de--;for(;ie--;){if(Ae===ae||ae!==null&&Ae===ae.alternate)break t;Ae=Ii(Ae),ae=Ii(ae)}Ae=null}else Ae=null;Te!==null&&nc(xe,ye,Te,Ae,!1),Fe!==null&&Wt!==null&&nc(xe,Wt,Fe,Ae,!0)}}e:{if(ye=pe?Ut(pe):window,Te=ye.nodeName&&ye.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ye.type==="file")var je=nr;else if(Ur(ye))if(vo)je=ia;else{je=Ct;var Ie=ra}else(Te=ye.nodeName)&&Te.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(je=tl);if(je&&(je=je(e,pe))){as(xe,je,i,_e);break e}Ie&&Ie(e,ye,pe),e==="focusout"&&(Ie=ye._wrapperState)&&Ie.controlled&&ye.type==="number"&&xr(ye,"number",ye.value)}switch(Ie=pe?Ut(pe):window,e){case"focusin":(Ur(Ie)||Ie.contentEditable==="true")&&(_o=Ie,Xt=pe,ji=null);break;case"focusout":ji=Xt=_o=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,nl(xe,i,_e);break;case"selectionchange":if(cs)break;case"keydown":case"keyup":nl(xe,i,_e)}var be;if(ls)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Vn?ea(e,i)&&(Ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ue="onCompositionStart");Ue&&(Bn&&i.locale!=="ko"&&(Vn||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Vn&&(be=rs()):(nn=_e,ti="value"in nn?nn.value:nn.textContent,Vn=!0)),Ie=ul(pe,Ue),0<Ie.length&&(Ue=new Ri(Ue,e,null,i,_e),xe.push({event:Ue,listeners:Ie}),be?Ue.data=be:(be=mr(i),be!==null&&(Ue.data=be)))),(be=go?ta(e,i):Zu(e,i))&&(pe=ul(pe,"onBeforeInput"),0<pe.length&&(_e=new Ri("onBeforeInput","beforeinput",null,i,_e),xe.push({event:_e,listeners:pe}),_e.data=be))}ha(xe,t)})}function So(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ul(e,t){for(var i=t+"Capture",s=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Zo(e,i),d!=null&&s.unshift(So(e,d,a)),d=Zo(e,t),d!=null&&s.push(So(e,d,a))),e=e.return}return s}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nc(e,t,i,s,a){for(var d=t._reactName,j=[];i!==null&&i!==s;){var Y=i,$=Y.alternate,pe=Y.stateNode;if($!==null&&$===s)break;Y.tag===5&&pe!==null&&(Y=pe,a?($=Zo(i,d),$!=null&&j.unshift(So(i,$,Y))):a||($=Zo(i,d),$!=null&&j.push(So(i,$,Y)))),i=i.return}j.length!==0&&e.push({event:t,listeners:j})}var rd=/\r\n?/g,rc=/\u0000|\uFFFD/g;function pa(e){return(typeof e=="string"?e:""+e).replace(rd,`
`).replace(rc,"")}function fs(e,t,i){if(t=pa(t),pa(e)!==t&&i)throw Error(R(425))}function bi(){}var ga=null,ma=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wn=typeof setTimeout=="function"?setTimeout:void 0,ya=typeof clearTimeout=="function"?clearTimeout:void 0,ps=typeof Promise=="function"?Promise:void 0,ic=typeof queueMicrotask=="function"?queueMicrotask:typeof ps<"u"?function(e){return ps.resolve(null).then(e).catch(oc)}:Wn;function oc(e){setTimeout(function(){throw e})}function cl(e,t){var i=t,s=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(s===0){e.removeChild(a),Fn(t);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=a}while(i);Fn(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),ir="__reactFiber$"+ai,gs="__reactProps$"+ai,Nr="__reactContainer$"+ai,dl="__reactEvents$"+ai,sc="__reactListeners$"+ai,lc="__reactHandles$"+ai;function ui(e){var t=e[ir];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Nr]||i[ir]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Gi(e);e!==null;){if(i=e[ir])return i;e=Gi(e)}return t}e=i,i=e.parentNode}return null}function ms(e){return e=e[ir]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ut(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Qt(e){return e[gs]||null}var hl=[],Ui=-1;function Vr(e){return{current:e}}function ht(e){0>Ui||(e.current=hl[Ui],hl[Ui]=null,Ui--)}function ut(e,t){Ui++,hl[Ui]=e.current,e.current=t}var Pr={},sn=Vr(Pr),dn=Vr(!1),ci=Pr;function Bi(e,t){var i=e.type.contextTypes;if(!i)return Pr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in i)a[d]=t[d];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hn(e){return e=e.childContextTypes,e!=null}function wo(){ht(dn),ht(sn)}function _a(e,t,i){if(sn.current!==Pr)throw Error(R(168));ut(sn,t),ut(dn,i)}function fl(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(R(108,W(e)||"Unknown",a));return U({},i,s)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,ci=sn.current,ut(sn,e),ut(dn,dn.current),!0}function ac(e,t,i){var s=e.stateNode;if(!s)throw Error(R(169));i?(e=fl(e,t,ci),s.__reactInternalMemoizedMergedChildContext=e,ht(dn),ht(sn),ut(sn,e)):ht(dn),ut(dn,i)}var Rr=null,ko=!1,pl=!1;function vs(e){Rr===null?Rr=[e]:Rr.push(e)}function Hr(e){ko=!0,vs(e)}function di(){if(!pl&&Rr!==null){pl=!0;var e=0,t=tt;try{var i=Rr;for(tt=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}Rr=null,ko=!1}catch(a){throw Rr!==null&&(Rr=Rr.slice(e+1)),Ou(Ei,di),a}finally{tt=t,pl=!1}}return null}var wn=[],Hi=0,hi=null,fi=0,kn=[],Cn=0,pi=null,qn=1,St="";function Wi(e,t){wn[Hi++]=fi,wn[Hi++]=hi,hi=e,fi=t}function uc(e,t,i){kn[Cn++]=qn,kn[Cn++]=St,kn[Cn++]=pi,pi=e;var s=qn;e=St;var a=32-Ke(s)-1;s&=~(1<<a),i+=1;var d=32-Ke(t)+a;if(30<d){var j=a-a%5;d=(s&(1<<j)-1).toString(32),s>>=j,a-=j,qn=1<<32-Ke(t)+a|i<<a|s,St=d+e}else qn=1<<d|i<<a|s,St=e}function Co(e){e.return!==null&&(Wi(e,1),uc(e,1,0))}function Jt(e){for(;e===hi;)hi=wn[--Hi],wn[Hi]=null,fi=wn[--Hi],wn[Hi]=null;for(;e===pi;)pi=kn[--Cn],kn[Cn]=null,St=kn[--Cn],kn[Cn]=null,qn=kn[--Cn],kn[Cn]=null}var Kn=null,Ce=null,ot=!1,Yn=null;function xa(e,t){var i=Or(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function cc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,Ce=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=pi!==null?{id:qn,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Or(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Kn=e,Ce=null,!0):!1;default:return!1}}function qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(ot){var t=Ce;if(t){var i=t;if(!cc(e,t)){if(qi(e))throw Error(R(418));t=Er(i.nextSibling);var s=Kn;t&&cc(e,t)?xa(s,i):(e.flags=e.flags&-4097|2,ot=!1,Kn=e)}}else{if(qi(e))throw Error(R(418));e.flags=e.flags&-4097|2,ot=!1,Kn=e}}}function gl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function ys(e){if(e!==Kn)return!1;if(!ot)return gl(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=Ce)){if(qi(e))throw Sa(),Error(R(418));for(;t;)xa(e,t),t=Er(t.nextSibling)}if(gl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ce=Er(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=Kn?Er(e.stateNode.nextSibling):null;return!0}function Sa(){for(var e=Ce;e;)e=Er(e.nextSibling)}function Ki(){Ce=Kn=null,ot=!1}function _s(e){Yn===null?Yn=[e]:Yn.push(e)}var wa=S.ReactCurrentBatchConfig;function Tt(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(R(309));var s=i.stateNode}if(!s)throw Error(R(147,e));var a=s,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(j){var Y=a.refs;j===null?delete Y[d]:Y[d]=j},t._stringRef=d,t)}if(typeof e!="string")throw Error(R(284));if(!i._owner)throw Error(R(290,e))}return e}function On(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vr(e){var t=e._init;return t(e._payload)}function ml(e){function t(ae,ie){if(e){var de=ae.deletions;de===null?(ae.deletions=[ie],ae.flags|=16):de.push(ie)}}function i(ae,ie){if(!e)return null;for(;ie!==null;)t(ae,ie),ie=ie.sibling;return null}function s(ae,ie){for(ae=new Map;ie!==null;)ie.key!==null?ae.set(ie.key,ie):ae.set(ie.index,ie),ie=ie.sibling;return ae}function a(ae,ie){return ae=Wo(ae,ie),ae.index=0,ae.sibling=null,ae}function d(ae,ie,de){return ae.index=de,e?(de=ae.alternate,de!==null?(de=de.index,de<ie?(ae.flags|=2,ie):de):(ae.flags|=2,ie)):(ae.flags|=1048576,ie)}function j(ae){return e&&ae.alternate===null&&(ae.flags|=2),ae}function Y(ae,ie,de,ke){return ie===null||ie.tag!==6?(ie=Cd(de,ae.mode,ke),ie.return=ae,ie):(ie=a(ie,de),ie.return=ae,ie)}function $(ae,ie,de,ke){var je=de.type;return je===X?_e(ae,ie,de.props.children,ke,de.key):ie!==null&&(ie.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===he&&vr(je)===ie.type)?(ke=a(ie,de.props),ke.ref=Tt(ae,ie,de),ke.return=ae,ke):(ke=Mc(de.type,de.key,de.props,null,ae.mode,ke),ke.ref=Tt(ae,ie,de),ke.return=ae,ke)}function pe(ae,ie,de,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Ed(de,ae.mode,ke),ie.return=ae,ie):(ie=a(ie,de.children||[]),ie.return=ae,ie)}function _e(ae,ie,de,ke,je){return ie===null||ie.tag!==7?(ie=Ls(de,ae.mode,ke,je),ie.return=ae,ie):(ie=a(ie,de),ie.return=ae,ie)}function xe(ae,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Cd(""+ie,ae.mode,de),ie.return=ae,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:return de=Mc(ie.type,ie.key,ie.props,null,ae.mode,de),de.ref=Tt(ae,null,ie),de.return=ae,de;case D:return ie=Ed(ie,ae.mode,de),ie.return=ae,ie;case he:var ke=ie._init;return xe(ae,ke(ie._payload),de)}if(Et(ie)||q(ie))return ie=Ls(ie,ae.mode,de,null),ie.return=ae,ie;On(ae,ie)}return null}function ye(ae,ie,de,ke){var je=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return je!==null?null:Y(ae,ie,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case L:return de.key===je?$(ae,ie,de,ke):null;case D:return de.key===je?pe(ae,ie,de,ke):null;case he:return je=de._init,ye(ae,ie,je(de._payload),ke)}if(Et(de)||q(de))return je!==null?null:_e(ae,ie,de,ke,null);On(ae,de)}return null}function Te(ae,ie,de,ke,je){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ae=ae.get(de)||null,Y(ie,ae,""+ke,je);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case L:return ae=ae.get(ke.key===null?de:ke.key)||null,$(ie,ae,ke,je);case D:return ae=ae.get(ke.key===null?de:ke.key)||null,pe(ie,ae,ke,je);case he:var Ie=ke._init;return Te(ae,ie,de,Ie(ke._payload),je)}if(Et(ke)||q(ke))return ae=ae.get(de)||null,_e(ie,ae,ke,je,null);On(ie,ke)}return null}function Fe(ae,ie,de,ke){for(var je=null,Ie=null,be=ie,Ue=ie=0,yn=null;be!==null&&Ue<de.length;Ue++){be.index>Ue?(yn=be,be=null):yn=be.sibling;var it=ye(ae,be,de[Ue],ke);if(it===null){be===null&&(be=yn);break}e&&be&&it.alternate===null&&t(ae,be),ie=d(it,ie,Ue),Ie===null?je=it:Ie.sibling=it,Ie=it,be=yn}if(Ue===de.length)return i(ae,be),ot&&Wi(ae,Ue),je;if(be===null){for(;Ue<de.length;Ue++)be=xe(ae,de[Ue],ke),be!==null&&(ie=d(be,ie,Ue),Ie===null?je=be:Ie.sibling=be,Ie=be);return ot&&Wi(ae,Ue),je}for(be=s(ae,be);Ue<de.length;Ue++)yn=Te(be,ae,Ue,de[Ue],ke),yn!==null&&(e&&yn.alternate!==null&&be.delete(yn.key===null?Ue:yn.key),ie=d(yn,ie,Ue),Ie===null?je=yn:Ie.sibling=yn,Ie=yn);return e&&be.forEach(function(qo){return t(ae,qo)}),ot&&Wi(ae,Ue),je}function Ae(ae,ie,de,ke){var je=q(de);if(typeof je!="function")throw Error(R(150));if(de=je.call(de),de==null)throw Error(R(151));for(var Ie=je=null,be=ie,Ue=ie=0,yn=null,it=de.next();be!==null&&!it.done;Ue++,it=de.next()){be.index>Ue?(yn=be,be=null):yn=be.sibling;var qo=ye(ae,be,it.value,ke);if(qo===null){be===null&&(be=yn);break}e&&be&&qo.alternate===null&&t(ae,be),ie=d(qo,ie,Ue),Ie===null?je=qo:Ie.sibling=qo,Ie=qo,be=yn}if(it.done)return i(ae,be),ot&&Wi(ae,Ue),je;if(be===null){for(;!it.done;Ue++,it=de.next())it=xe(ae,it.value,ke),it!==null&&(ie=d(it,ie,Ue),Ie===null?je=it:Ie.sibling=it,Ie=it);return ot&&Wi(ae,Ue),je}for(be=s(ae,be);!it.done;Ue++,it=de.next())it=Te(be,ae,Ue,it.value,ke),it!==null&&(e&&it.alternate!==null&&be.delete(it.key===null?Ue:it.key),ie=d(it,ie,Ue),Ie===null?je=it:Ie.sibling=it,Ie=it);return e&&be.forEach(function(B0){return t(ae,B0)}),ot&&Wi(ae,Ue),je}function Wt(ae,ie,de,ke){if(typeof de=="object"&&de!==null&&de.type===X&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case L:e:{for(var je=de.key,Ie=ie;Ie!==null;){if(Ie.key===je){if(je=de.type,je===X){if(Ie.tag===7){i(ae,Ie.sibling),ie=a(Ie,de.props.children),ie.return=ae,ae=ie;break e}}else if(Ie.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===he&&vr(je)===Ie.type){i(ae,Ie.sibling),ie=a(Ie,de.props),ie.ref=Tt(ae,Ie,de),ie.return=ae,ae=ie;break e}i(ae,Ie);break}else t(ae,Ie);Ie=Ie.sibling}de.type===X?(ie=Ls(de.props.children,ae.mode,ke,de.key),ie.return=ae,ae=ie):(ke=Mc(de.type,de.key,de.props,null,ae.mode,ke),ke.ref=Tt(ae,ie,de),ke.return=ae,ae=ke)}return j(ae);case D:e:{for(Ie=de.key;ie!==null;){if(ie.key===Ie)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){i(ae,ie.sibling),ie=a(ie,de.children||[]),ie.return=ae,ae=ie;break e}else{i(ae,ie);break}else t(ae,ie);ie=ie.sibling}ie=Ed(de,ae.mode,ke),ie.return=ae,ae=ie}return j(ae);case he:return Ie=de._init,Wt(ae,ie,Ie(de._payload),ke)}if(Et(de))return Fe(ae,ie,de,ke);if(q(de))return Ae(ae,ie,de,ke);On(ae,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(i(ae,ie.sibling),ie=a(ie,de),ie.return=ae,ae=ie):(i(ae,ie),ie=Cd(de,ae.mode,ke),ie.return=ae,ae=ie),j(ae)):i(ae,ie)}return Wt}var Yi=ml(!0),or=ml(!1),xs=Vr(null),Xn=null,No=null,vl=null;function yl(){vl=No=Xn=null}function _l(e){var t=xs.current;ht(xs),e._currentValue=t}function xl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Wr(e,t){Xn=e,vl=No=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(vl!==e)if(e={context:e,memoizedValue:t,next:null},No===null){if(Xn===null)throw Error(R(308));No=e,Xn.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var Tr=null;function Po(e){Tr===null?Tr=[e]:Tr.push(e)}function Ss(e,t,i,s){var a=t.interleaved;return a===null?(i.next=i,Po(t)):(i.next=a.next,a.next=i),t.interleaved=i,Qn(e,s)}function Qn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Lr=!1;function ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(rt&2)!==0){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Qn(e,i)}return a=s.interleaved,a===null?(t.next=t,Po(s)):(t.next=a.next,a.next=t),s.interleaved=t,Qn(e,i)}function wl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Yl(e,i)}}function ks(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var a=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var j={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?a=d=j:d=d.next=j,i=i.next}while(i!==null);d===null?a=d=t:d=d.next=t}else a=d=t;i={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ro(e,t,i,s){var a=e.updateQueue;Lr=!1;var d=a.firstBaseUpdate,j=a.lastBaseUpdate,Y=a.shared.pending;if(Y!==null){a.shared.pending=null;var $=Y,pe=$.next;$.next=null,j===null?d=pe:j.next=pe,j=$;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==j&&(Y===null?_e.firstBaseUpdate=pe:Y.next=pe,_e.lastBaseUpdate=$))}if(d!==null){var xe=a.baseState;j=0,_e=pe=$=null,Y=d;do{var ye=Y.lane,Te=Y.eventTime;if((s&ye)===ye){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Fe=e,Ae=Y;switch(ye=t,Te=i,Ae.tag){case 1:if(Fe=Ae.payload,typeof Fe=="function"){xe=Fe.call(Te,xe,ye);break e}xe=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ae.payload,ye=typeof Fe=="function"?Fe.call(Te,xe,ye):Fe,ye==null)break e;xe=U({},xe,ye);break e;case 2:Lr=!0}}Y.callback!==null&&Y.lane!==0&&(e.flags|=64,ye=a.effects,ye===null?a.effects=[Y]:ye.push(Y))}else Te={eventTime:Te,lane:ye,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(pe=_e=Te,$=xe):_e=_e.next=Te,j|=ye;if(Y=Y.next,Y===null){if(Y=a.shared.pending,Y===null)break;ye=Y,Y=ye.next,ye.next=null,a.lastBaseUpdate=ye,a.shared.pending=null}}while(!0);if(_e===null&&($=xe),a.baseState=$,a.firstBaseUpdate=pe,a.lastBaseUpdate=_e,t=a.shared.interleaved,t!==null){a=t;do j|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);Ns|=j,e.lanes=j,e.memoizedState=xe}}function Nt(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=i,typeof a!="function")throw Error(R(191,a));a.call(s)}}}var He={},ct=Vr(He),wt=Vr(He),Lt=Vr(He);function Bt(e){if(e===He)throw Error(R(174));return e}function gi(e,t){switch(ut(Lt,t),ut(wt,e),ut(ct,He),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=er(t,e)}ht(ct),ut(ct,t)}function kt(){ht(ct),ht(wt),ht(Lt)}function To(e){Bt(Lt.current);var t=Bt(ct.current),i=er(t,e.type);t!==i&&(ut(wt,e),ut(ct,i))}function qr(e){wt.current===e&&(ht(ct),ht(wt))}var ft=Vr(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xi=[];function fn(){for(var e=0;e<Xi.length;e++)Xi[e]._workInProgressVersionPrimary=null;Xi.length=0}var Mo=S.ReactCurrentDispatcher,Cs=S.ReactCurrentBatchConfig,Nn=0,at=null,Pt=null,Ot=null,yr=!1,mi=!1,sr=0,kl=0;function zt(){throw Error(R(321))}function Es(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jn(e[i],t[i]))return!1;return!0}function Fo(e,t,i,s,a,d){if(Nn=d,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?od:_i,e=i(s,a),mi){d=0;do{if(mi=!1,sr=0,25<=d)throw Error(R(301));d+=1,Ot=Pt=null,t.updateQueue=null,Mo.current=Rl,e=i(s,a)}while(mi)}if(Mo.current=zo,t=Pt!==null&&Pt.next!==null,Nn=0,Ot=Pt=at=null,yr=!1,t)throw Error(R(300));return e}function Ao(){var e=sr!==0;return sr=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?at.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Vt(){if(Pt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Ot===null?at.memoizedState:Ot.next;if(t!==null)Ot=t,Pt=e;else{if(e===null)throw Error(R(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?at.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function pn(e,t){return typeof t=="function"?t(e):t}function gn(e){var t=Vt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var s=Pt,a=s.baseQueue,d=i.pending;if(d!==null){if(a!==null){var j=a.next;a.next=d.next,d.next=j}s.baseQueue=a=d,i.pending=null}if(a!==null){d=a.next,s=s.baseState;var Y=j=null,$=null,pe=d;do{var _e=pe.lane;if((Nn&_e)===_e)$!==null&&($=$.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),s=pe.hasEagerState?pe.eagerState:e(s,pe.action);else{var xe={lane:_e,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};$===null?(Y=$=xe,j=s):$=$.next=xe,at.lanes|=_e,Ns|=_e}pe=pe.next}while(pe!==null&&pe!==d);$===null?j=s:$.next=Y,jn(s,t.memoizedState)||(_=!0),t.memoizedState=s,t.baseState=j,t.baseQueue=$,i.lastRenderedState=s}if(e=i.interleaved,e!==null){a=e;do d=a.lane,at.lanes|=d,Ns|=d,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Cl(e){var t=Vt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var s=i.dispatch,a=i.pending,d=t.memoizedState;if(a!==null){i.pending=null;var j=a=a.next;do d=e(d,j.action),j=j.next;while(j!==a);jn(d,t.memoizedState)||(_=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,s]}function El(){}function Nl(e,t){var i=at,s=Vt(),a=t(),d=!jn(s.memoizedState,a);if(d&&(s.memoizedState=a,_=!0),s=s.queue,Na(ka.bind(null,i,s,e),[e]),s.getSnapshot!==t||d||Ot!==null&&Ot.memoizedState.tag&1){if(i.flags|=2048,jo(9,Kr.bind(null,i,s,a,t),void 0,null),vn===null)throw Error(R(349));(Nn&30)!==0||dc(i,t,a)}return a}function dc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Kr(e,t,i,s){t.value=i,t.getSnapshot=s,Ca(t)&&Pl(e)}function ka(e,t,i){return i(function(){Ca(t)&&Pl(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jn(e,i)}catch{return!0}}function Pl(e){var t=Qn(e,1);t!==null&&Jr(t,e,1,-1)}function vi(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},t.queue=e,e=e.dispatch=vc.bind(null,at,e),[t.memoizedState,e]}function jo(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e)),e}function Ea(){return Vt().memoizedState}function Oo(e,t,i,s){var a=vt();at.flags|=e,a.memoizedState=jo(1|t,i,void 0,s===void 0?null:s)}function Qi(e,t,i,s){var a=Vt();s=s===void 0?null:s;var d=void 0;if(Pt!==null){var j=Pt.memoizedState;if(d=j.destroy,s!==null&&Es(s,j.deps)){a.memoizedState=jo(t,i,d,s);return}}at.flags|=e,a.memoizedState=jo(1|t,i,d,s)}function hc(e,t){return Oo(8390656,8,e,t)}function Na(e,t){return Qi(2048,8,e,t)}function Pa(e,t){return Qi(4,2,e,t)}function Ra(e,t){return Qi(4,4,e,t)}function yi(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fc(e,t,i){return i=i!=null?i.concat([e]):null,Qi(4,4,yi.bind(null,t,e),i)}function Yr(){}function Ta(e,t){var i=Vt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&Es(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function yt(e,t){var i=Vt();t=t===void 0?null:t;var s=i.memoizedState;return s!==null&&t!==null&&Es(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function pc(e,t,i){return(Nn&21)===0?(e.baseState&&(e.baseState=!1,_=!0),e.memoizedState=i):(jn(i,t)||(i=Kl(),at.lanes|=i,Ns|=i,e.baseState=!0),t)}function gc(e,t){var i=tt;tt=i!==0&&4>i?i:4,e(!0);var s=Cs.transition;Cs.transition={};try{e(!1),t()}finally{tt=i,Cs.transition=s}}function mc(){return Vt().memoizedState}function id(e,t,i){var s=Vo(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},La(e))yc(t,i);else if(i=Ss(e,t,i,s),i!==null){var a=Zn();Jr(i,e,s,a),Jn(i,t,s)}}function vc(e,t,i){var s=Vo(e),a={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(La(e))yc(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var j=t.lastRenderedState,Y=d(j,i);if(a.hasEagerState=!0,a.eagerState=Y,jn(Y,j)){var $=t.interleaved;$===null?(a.next=a,Po(t)):(a.next=$.next,$.next=a),t.interleaved=a;return}}catch{}finally{}i=Ss(e,t,a,s),i!==null&&(a=Zn(),Jr(i,e,s,a),Jn(i,t,s))}}function La(e){var t=e.alternate;return e===at||t!==null&&t===at}function yc(e,t){mi=yr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jn(e,t,i){if((i&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Yl(e,i)}}var zo={readContext:En,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},od={readContext:En,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:hc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Oo(4194308,4,yi.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var i=vt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=vt();return t=i!==void 0?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=id.bind(null,at,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:vi,useDebugValue:Yr,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=vi(!1),t=e[0];return e=gc.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=at,a=vt();if(ot){if(i===void 0)throw Error(R(407));i=i()}else{if(i=t(),vn===null)throw Error(R(349));(Nn&30)!==0||dc(s,t,i)}a.memoizedState=i;var d={value:i,getSnapshot:t};return a.queue=d,hc(ka.bind(null,s,d,e),[e]),s.flags|=2048,jo(9,Kr.bind(null,s,d,i,t),void 0,null),i},useId:function(){var e=vt(),t=vn.identifierPrefix;if(ot){var i=St,s=qn;i=(s&~(1<<32-Ke(s)-1)).toString(32)+i,t=":"+t+"R"+i,i=sr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=kl++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_i={readContext:En,useCallback:Ta,useContext:En,useEffect:Na,useImperativeHandle:fc,useInsertionEffect:Pa,useLayoutEffect:Ra,useMemo:yt,useReducer:gn,useRef:Ea,useState:function(){return gn(pn)},useDebugValue:Yr,useDeferredValue:function(e){var t=Vt();return pc(t,Pt.memoizedState,e)},useTransition:function(){var e=gn(pn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:El,useSyncExternalStore:Nl,useId:mc,unstable_isNewReconciler:!1},Rl={readContext:En,useCallback:Ta,useContext:En,useEffect:Na,useImperativeHandle:fc,useInsertionEffect:Pa,useLayoutEffect:Ra,useMemo:yt,useReducer:Cl,useRef:Ea,useState:function(){return Cl(pn)},useDebugValue:Yr,useDeferredValue:function(e){var t=Vt();return Pt===null?t.memoizedState=e:pc(t,Pt.memoizedState,e)},useTransition:function(){var e=Cl(pn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:El,useSyncExternalStore:Nl,useId:mc,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=U({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Do(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:U({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Io={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Zn(),a=Vo(e),d=Mr(s,a);d.payload=t,i!=null&&(d.callback=i),t=Fr(e,d,a),t!==null&&(Jr(t,e,a,s),wl(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Zn(),a=Vo(e),d=Mr(s,a);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Fr(e,d,a),t!==null&&(Jr(t,e,a,s),wl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zn(),s=Vo(e),a=Mr(i,s);a.tag=2,t!=null&&(a.callback=t),t=Fr(e,a,s),t!==null&&(Jr(t,e,s,i),wl(t,e,s))}};function Tl(e,t,i,s,a,d,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,j):t.prototype&&t.prototype.isPureReactComponent?!Ai(i,s)||!Ai(a,d):!0}function _c(e,t,i){var s=!1,a=Pr,d=t.contextType;return typeof d=="object"&&d!==null?d=En(d):(a=hn(t)?ci:sn.current,s=t.contextTypes,d=(s=s!=null)?Bi(e,a):Pr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Io,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function Ma(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Ll(e,t,i,s){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},ws(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=En(d):(d=hn(t)?ci:sn.current,a.context=Bi(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Do(e,t,d,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Io.enqueueReplaceState(a,a.state,null),Ro(e,i,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,t){try{var i="",s=t;do i+=ue(s),s=s.return;while(s);var a=i}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function Ml(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var sd=typeof WeakMap=="function"?WeakMap:Map;function xc(e,t,i){i=Mr(-1,i),i.tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){Ec||(Ec=!0,md=s),bo(e,t)},i}function n(e,t,i){i=Mr(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;i.payload=function(){return s(a)},i.callback=function(){bo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){bo(e,t),typeof s!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var j=t.stack;this.componentDidCatch(t.value,{componentStack:j!==null?j:""})}),i}function r(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new sd;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(i)||(a.add(i),e=M0.bind(null,e,t,i),t.then(e,e))}function o(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function l(e,t,i,s,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Mr(-1,1),t.tag=2,Fr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var u=S.ReactCurrentOwner,_=!1;function H(e,t,i,s){t.child=e===null?or(t,null,i,s):Yi(t,e.child,i,s)}function oe(e,t,i,s,a){i=i.render;var d=t.ref;return Wr(t,a),s=Fo(e,t,i,s,d,a),i=Ao(),e!==null&&!_?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(ot&&i&&Co(t),t.flags|=1,H(e,t,s,a),t.child)}function ge(e,t,i,s,a){if(e===null){var d=i.type;return typeof d=="function"&&!kd(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Se(e,t,d,s,a)):(e=Mc(i.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var j=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ai,i(j,s)&&e.ref===t.ref)return mn(e,t,a)}return t.flags|=1,e=Wo(d,s),e.ref=t.ref,e.return=t,t.child=e}function Se(e,t,i,s,a){if(e!==null){var d=e.memoizedProps;if(Ai(d,s)&&e.ref===t.ref)if(_=!1,t.pendingProps=s=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(_=!0);else return t.lanes=e.lanes,mn(e,t,a)}return Pe(e,t,i,s,a)}function Le(e,t,i){var s=t.pendingProps,a=s.children,d=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Al,_r),_r|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(Al,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=d!==null?d.baseLanes:i,ut(Al,_r),_r|=s}else d!==null?(s=d.baseLanes|i,t.memoizedState=null):s=i,ut(Al,_r),_r|=s;return H(e,t,a,i),t.child}function Be(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Pe(e,t,i,s,a){var d=hn(i)?ci:sn.current;return d=Bi(t,d),Wr(t,a),i=Fo(e,t,i,s,d,a),s=Ao(),e!==null&&!_?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(ot&&s&&Co(t),t.flags|=1,H(e,t,i,a),t.child)}function pt(e,t,i,s,a){if(hn(i)){var d=!0;Vi(t)}else d=!1;if(Wr(t,a),t.stateNode===null)Qe(e,t),_c(t,i,s),Ll(t,i,s,a),s=!0;else if(e===null){var j=t.stateNode,Y=t.memoizedProps;j.props=Y;var $=j.context,pe=i.contextType;typeof pe=="object"&&pe!==null?pe=En(pe):(pe=hn(i)?ci:sn.current,pe=Bi(t,pe));var _e=i.getDerivedStateFromProps,xe=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function";xe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Y!==s||$!==pe)&&Ma(t,j,s,pe),Lr=!1;var ye=t.memoizedState;j.state=ye,Ro(t,s,j,a),$=t.memoizedState,Y!==s||ye!==$||dn.current||Lr?(typeof _e=="function"&&(Do(t,i,_e,s),$=t.memoizedState),(Y=Lr||Tl(t,i,Y,s,ye,$,pe))?(xe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(t.flags|=4194308)):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=$),j.props=s,j.state=$,j.context=pe,s=Y):(typeof j.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{j=t.stateNode,Sl(e,t),Y=t.memoizedProps,pe=t.type===t.elementType?Y:ln(t.type,Y),j.props=pe,xe=t.pendingProps,ye=j.context,$=i.contextType,typeof $=="object"&&$!==null?$=En($):($=hn(i)?ci:sn.current,$=Bi(t,$));var Te=i.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Y!==xe||ye!==$)&&Ma(t,j,s,$),Lr=!1,ye=t.memoizedState,j.state=ye,Ro(t,s,j,a);var Fe=t.memoizedState;Y!==xe||ye!==Fe||dn.current||Lr?(typeof Te=="function"&&(Do(t,i,Te,s),Fe=t.memoizedState),(pe=Lr||Tl(t,i,pe,s,ye,Fe,$)||!1)?(_e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(s,Fe,$),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(s,Fe,$)),typeof j.componentDidUpdate=="function"&&(t.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof j.componentDidUpdate!="function"||Y===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Fe),j.props=s,j.state=Fe,j.context=$,s=pe):(typeof j.componentDidUpdate!="function"||Y===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Y===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),s=!1)}return st(e,t,i,s,d,a)}function st(e,t,i,s,a,d){Be(e,t);var j=(t.flags&128)!==0;if(!s&&!j)return a&&ac(t,i,!1),mn(e,t,d);s=t.stateNode,u.current=t;var Y=j&&typeof i.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&j?(t.child=Yi(t,e.child,null,d),t.child=Yi(t,null,Y,d)):H(e,t,Y,d),t.memoizedState=s.state,a&&ac(t,i,!0),t.child}function Pn(e){var t=e.stateNode;t.pendingContext?_a(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_a(e,t.context,!1),gi(e,t.containerInfo)}function Ar(e,t,i,s,a){return Ki(),_s(a),t.flags|=256,H(e,t,i,s),t.child}var fe={dehydrated:null,treeContext:null,retryLane:0};function le(e){return{baseLanes:e,cachePool:null,transitions:null}}function me(e,t,i){var s=t.pendingProps,a=ft.current,d=!1,j=(t.flags&128)!==0,Y;if((Y=j)||(Y=e!==null&&e.memoizedState===null?!1:(a&2)!==0),Y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ut(ft,a&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(j=s.children,e=s.fallback,d?(s=t.mode,d=t.child,j={mode:"hidden",children:j},(s&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=j):d=Fc(j,s,0,null),e=Ls(e,s,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=le(i),t.memoizedState=fe,e):Re(t,j));if(a=e.memoizedState,a!==null&&(Y=a.dehydrated,Y!==null))return We(e,t,j,s,Y,a,i);if(d){d=s.fallback,j=t.mode,a=e.child,Y=a.sibling;var $={mode:"hidden",children:s.children};return(j&1)===0&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=$,t.deletions=null):(s=Wo(a,$),s.subtreeFlags=a.subtreeFlags&14680064),Y!==null?d=Wo(Y,d):(d=Ls(d,j,i,null),d.flags|=2),d.return=t,s.return=t,s.sibling=d,t.child=s,s=d,d=t.child,j=e.child.memoizedState,j=j===null?le(i):{baseLanes:j.baseLanes|i,cachePool:null,transitions:j.transitions},d.memoizedState=j,d.childLanes=e.childLanes&~i,t.memoizedState=fe,s}return d=e.child,e=d.sibling,s=Wo(d,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=i),s.return=t,s.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=s,t.memoizedState=null,s}function Re(e,t){return t=Fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ze(e,t,i,s){return s!==null&&_s(s),Yi(t,e.child,null,i),e=Re(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function We(e,t,i,s,a,d,j){if(i)return t.flags&256?(t.flags&=-257,s=Ml(Error(R(422))),ze(e,t,j,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=s.fallback,a=t.mode,s=Fc({mode:"visible",children:s.children},a,0,null),d=Ls(d,a,j,null),d.flags|=2,s.return=t,d.return=t,s.sibling=d,t.child=s,(t.mode&1)!==0&&Yi(t,e.child,null,j),t.child.memoizedState=le(j),t.memoizedState=fe,d);if((t.mode&1)===0)return ze(e,t,j,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var Y=s.dgst;return s=Y,d=Error(R(419)),s=Ml(d,s,void 0),ze(e,t,j,s)}if(Y=(j&e.childLanes)!==0,_||Y){if(s=vn,s!==null){switch(j&-j){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(s.suspendedLanes|j))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Qn(e,a),Jr(s,e,a,-1))}return wd(),s=Ml(Error(R(421))),ze(e,t,j,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=F0.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,Ce=Er(a.nextSibling),Kn=t,ot=!0,Yn=null,e!==null&&(kn[Cn++]=qn,kn[Cn++]=St,kn[Cn++]=pi,qn=e.id,St=e.overflow,pi=t),t=Re(t,s.children),t.flags|=4096,t)}function Ve(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xl(e.return,t,i)}function Ze(e,t,i,s,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=a)}function Ht(e,t,i){var s=t.pendingProps,a=s.revealOrder,d=s.tail;if(H(e,t,s.children,i),s=ft.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ve(e,i,t);else if(e.tag===19)Ve(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ut(ft,s),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&Lo(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),Ze(t,!1,a,i,d);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Lo(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}Ze(t,!0,i,null,d);break;case"together":Ze(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qe(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ns|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,i=Wo(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Wo(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ld(e,t,i){switch(t.tag){case 3:Pn(t),Ki();break;case 5:To(t);break;case 1:hn(t.type)&&Vi(t);break;case 4:gi(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ut(xs,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ut(ft,ft.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?me(e,t,i):(ut(ft,ft.current&1),e=mn(e,t,i),e!==null?e.sibling:null);ut(ft,ft.current&1);break;case 19:if(s=(i&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Ht(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ut(ft,ft.current),s)break;return null;case 22:case 23:return t.lanes=0,Le(e,t,i)}return mn(e,t,i)}var ih,ad,oh,sh;ih=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ad=function(){},oh=function(e,t,i,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Bt(ct.current);var d=null;switch(i){case"input":a=et(e,a),s=et(e,s),d=[];break;case"select":a=U({},a,{value:void 0}),s=U({},s,{value:void 0}),d=[];break;case"textarea":a=lt(e,a),s=lt(e,s),d=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=bi)}Jo(i,s);var j;i=null;for(pe in a)if(!s.hasOwnProperty(pe)&&a.hasOwnProperty(pe)&&a[pe]!=null)if(pe==="style"){var Y=a[pe];for(j in Y)Y.hasOwnProperty(j)&&(i||(i={}),i[j]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(A.hasOwnProperty(pe)?d||(d=[]):(d=d||[]).push(pe,null));for(pe in s){var $=s[pe];if(Y=a?.[pe],s.hasOwnProperty(pe)&&$!==Y&&($!=null||Y!=null))if(pe==="style")if(Y){for(j in Y)!Y.hasOwnProperty(j)||$&&$.hasOwnProperty(j)||(i||(i={}),i[j]="");for(j in $)$.hasOwnProperty(j)&&Y[j]!==$[j]&&(i||(i={}),i[j]=$[j])}else i||(d||(d=[]),d.push(pe,i)),i=$;else pe==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,Y=Y?Y.__html:void 0,$!=null&&Y!==$&&(d=d||[]).push(pe,$)):pe==="children"?typeof $!="string"&&typeof $!="number"||(d=d||[]).push(pe,""+$):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(A.hasOwnProperty(pe)?($!=null&&pe==="onScroll"&&dt("scroll",e),d||Y===$||(d=[])):(d=d||[]).push(pe,$))}i&&(d=d||[]).push("style",i);var pe=d;(t.updateQueue=pe)&&(t.flags|=4)}},sh=function(e,t,i,s){i!==s&&(t.flags|=4)};function Fa(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function S0(e,t,i){var s=t.pendingProps;switch(Jt(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(t),null;case 1:return hn(t.type)&&wo(),zn(t),null;case 3:return s=t.stateNode,kt(),ht(dn),ht(sn),fn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yn!==null&&(_d(Yn),Yn=null))),ad(e,t),zn(t),null;case 5:qr(t);var a=Bt(Lt.current);if(i=t.type,e!==null&&t.stateNode!=null)oh(e,t,i,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(R(166));return zn(t),null}if(e=Bt(ct.current),ys(t)){s=t.stateNode,i=t.type;var d=t.memoizedProps;switch(s[ir]=t,s[gs]=d,e=(t.mode&1)!==0,i){case"dialog":dt("cancel",s),dt("close",s);break;case"iframe":case"object":case"embed":dt("load",s);break;case"video":case"audio":for(a=0;a<li.length;a++)dt(li[a],s);break;case"source":dt("error",s);break;case"img":case"image":case"link":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"input":Ge(s,d),dt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!d.multiple},dt("invalid",s);break;case"textarea":Ln(s,d),dt("invalid",s)}Jo(i,d),a=null;for(var j in d)if(d.hasOwnProperty(j)){var Y=d[j];j==="children"?typeof Y=="string"?s.textContent!==Y&&(d.suppressHydrationWarning!==!0&&fs(s.textContent,Y,e),a=["children",Y]):typeof Y=="number"&&s.textContent!==""+Y&&(d.suppressHydrationWarning!==!0&&fs(s.textContent,Y,e),a=["children",""+Y]):A.hasOwnProperty(j)&&Y!=null&&j==="onScroll"&&dt("scroll",s)}switch(i){case"input":Ne(s),_t(s,d,!0);break;case"textarea":Ne(s),Sr(s);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(s.onclick=bi)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{j=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=en(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=j.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=j.createElement(i,{is:s.is}):(e=j.createElement(i),i==="select"&&(j=e,s.multiple?j.multiple=!0:s.size&&(j.size=s.size))):e=j.createElementNS(e,i),e[ir]=t,e[gs]=s,ih(e,t,!1,!1),t.stateNode=e;e:{switch(j=As(i,s),i){case"dialog":dt("cancel",e),dt("close",e),a=s;break;case"iframe":case"object":case"embed":dt("load",e),a=s;break;case"video":case"audio":for(a=0;a<li.length;a++)dt(li[a],e);a=s;break;case"source":dt("error",e),a=s;break;case"img":case"image":case"link":dt("error",e),dt("load",e),a=s;break;case"details":dt("toggle",e),a=s;break;case"input":Ge(e,s),a=et(e,s),dt("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=U({},s,{value:void 0}),dt("invalid",e);break;case"textarea":Ln(e,s),a=lt(e,s),dt("invalid",e);break;default:a=s}Jo(i,a),Y=a;for(d in Y)if(Y.hasOwnProperty(d)){var $=Y[d];d==="style"?wi(e,$):d==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&bn(e,$)):d==="children"?typeof $=="string"?(i!=="textarea"||$!=="")&&Ft(e,$):typeof $=="number"&&Ft(e,""+$):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(A.hasOwnProperty(d)?$!=null&&d==="onScroll"&&dt("scroll",e):$!=null&&c(e,d,$,j))}switch(i){case"input":Ne(e),_t(e,s,!1);break;case"textarea":Ne(e),Sr(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ne(s.value));break;case"select":e.multiple=!!s.multiple,d=s.value,d!=null?$n(e,!!s.multiple,d,!1):s.defaultValue!=null&&$n(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bi)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zn(t),null;case 6:if(e&&t.stateNode!=null)sh(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(R(166));if(i=Bt(Lt.current),Bt(ct.current),ys(t)){if(s=t.stateNode,i=t.memoizedProps,s[ir]=t,(d=s.nodeValue!==i)&&(e=Kn,e!==null))switch(e.tag){case 3:fs(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(s.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[ir]=t,t.stateNode=s}return zn(t),null;case 13:if(ht(ft),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Ce!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sa(),Ki(),t.flags|=98560,d=!1;else if(d=ys(t),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(R(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(R(317));d[ir]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zn(t),d=!1}else Yn!==null&&(_d(Yn),Yn=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ft.current&1)!==0?an===0&&(an=3):wd())),t.updateQueue!==null&&(t.flags|=4),zn(t),null);case 4:return kt(),ad(e,t),e===null&&Di(t.stateNode.containerInfo),zn(t),null;case 10:return _l(t.type._context),zn(t),null;case 17:return hn(t.type)&&wo(),zn(t),null;case 19:if(ht(ft),d=t.memoizedState,d===null)return zn(t),null;if(s=(t.flags&128)!==0,j=d.rendering,j===null)if(s)Fa(d,!1);else{if(an!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(j=Lo(e),j!==null){for(t.flags|=128,Fa(d,!1),s=j.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;i!==null;)d=i,e=s,d.flags&=14680066,j=d.alternate,j===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=j.childLanes,d.lanes=j.lanes,d.child=j.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=j.memoizedProps,d.memoizedState=j.memoizedState,d.updateQueue=j.updateQueue,d.type=j.type,e=j.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ut(ft,ft.current&1|2),t.child}e=e.sibling}d.tail!==null&&Rt()>jl&&(t.flags|=128,s=!0,Fa(d,!1),t.lanes=4194304)}else{if(!s)if(e=Lo(j),e!==null){if(t.flags|=128,s=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Fa(d,!0),d.tail===null&&d.tailMode==="hidden"&&!j.alternate&&!ot)return zn(t),null}else 2*Rt()-d.renderingStartTime>jl&&i!==1073741824&&(t.flags|=128,s=!0,Fa(d,!1),t.lanes=4194304);d.isBackwards?(j.sibling=t.child,t.child=j):(i=d.last,i!==null?i.sibling=j:t.child=j,d.last=j)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Rt(),t.sibling=null,i=ft.current,ut(ft,s?i&1|2:i&1),t):(zn(t),null);case 22:case 23:return Sd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(_r&1073741824)!==0&&(zn(t),t.subtreeFlags&6&&(t.flags|=8192)):zn(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function w0(e,t){switch(Jt(t),t.tag){case 1:return hn(t.type)&&wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kt(),ht(dn),ht(sn),fn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return qr(t),null;case 13:if(ht(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ht(ft),null;case 4:return kt(),null;case 10:return _l(t.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Sc=!1,Dn=!1,k0=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Fl(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){Dt(e,t,s)}else i.current=null}function ud(e,t,i){try{i()}catch(s){Dt(e,t,s)}}var lh=!1;function C0(e,t){if(ga=Ws,e=Gt(),yo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var a=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var j=0,Y=-1,$=-1,pe=0,_e=0,xe=e,ye=null;t:for(;;){for(var Te;xe!==i||a!==0&&xe.nodeType!==3||(Y=j+a),xe!==d||s!==0&&xe.nodeType!==3||($=j+s),xe.nodeType===3&&(j+=xe.nodeValue.length),(Te=xe.firstChild)!==null;)ye=xe,xe=Te;for(;;){if(xe===e)break t;if(ye===i&&++pe===a&&(Y=j),ye===d&&++_e===s&&($=j),(Te=xe.nextSibling)!==null)break;xe=ye,ye=xe.parentNode}xe=Te}i=Y===-1||$===-1?null:{start:Y,end:$}}else i=null}i=i||{start:0,end:0}}else i=null;for(ma={focusedElem:e,selectionRange:i},Ws=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var Fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Ae=Fe.memoizedProps,Wt=Fe.memoizedState,ae=t.stateNode,ie=ae.getSnapshotBeforeUpdate(t.elementType===t.type?Ae:ln(t.type,Ae),Wt);ae.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var de=t.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(ke){Dt(t,t.return,ke)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return Fe=lh,lh=!1,Fe}function Aa(e,t,i){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&ud(t,i,d)}a=a.next}while(a!==s)}}function wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function cd(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[gs],delete t[dl],delete t[sc],delete t[lc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uh(e){return e.tag===5||e.tag===3||e.tag===4}function ch(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=bi));else if(s!==4&&(e=e.child,e!==null))for(dd(e,t,i),e=e.sibling;e!==null;)dd(e,t,i),e=e.sibling}function hd(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(hd(e,t,i),e=e.sibling;e!==null;)hd(e,t,i),e=e.sibling}var Rn=null,Xr=!1;function Go(e,t,i){for(i=i.child;i!==null;)dh(e,t,i),i=i.sibling}function dh(e,t,i){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(zr,i)}catch{}switch(i.tag){case 5:Dn||Fl(i,t);case 6:var s=Rn,a=Xr;Rn=null,Go(e,t,i),Rn=s,Xr=a,Rn!==null&&(Xr?(e=Rn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Rn.removeChild(i.stateNode));break;case 18:Rn!==null&&(Xr?(e=Rn,i=i.stateNode,e.nodeType===8?cl(e.parentNode,i):e.nodeType===1&&cl(e,i),Fn(e)):cl(Rn,i.stateNode));break;case 4:s=Rn,a=Xr,Rn=i.stateNode.containerInfo,Xr=!0,Go(e,t,i),Rn=s,Xr=a;break;case 0:case 11:case 14:case 15:if(!Dn&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var d=a,j=d.destroy;d=d.tag,j!==void 0&&((d&2)!==0||(d&4)!==0)&&ud(i,t,j),a=a.next}while(a!==s)}Go(e,t,i);break;case 1:if(!Dn&&(Fl(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(Y){Dt(i,t,Y)}Go(e,t,i);break;case 21:Go(e,t,i);break;case 22:i.mode&1?(Dn=(s=Dn)||i.memoizedState!==null,Go(e,t,i),Dn=s):Go(e,t,i);break;default:Go(e,t,i)}}function hh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new k0),t.forEach(function(s){var a=A0.bind(null,e,s);i.has(s)||(i.add(s),s.then(a,a))})}}function Qr(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];try{var d=e,j=t,Y=j;e:for(;Y!==null;){switch(Y.tag){case 5:Rn=Y.stateNode,Xr=!1;break e;case 3:Rn=Y.stateNode.containerInfo,Xr=!0;break e;case 4:Rn=Y.stateNode.containerInfo,Xr=!0;break e}Y=Y.return}if(Rn===null)throw Error(R(160));dh(d,j,a),Rn=null,Xr=!1;var $=a.alternate;$!==null&&($.return=null),a.return=null}catch(pe){Dt(a,t,pe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fh(t,e),t=t.sibling}function fh(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),xi(e),s&4){try{Aa(3,e,e.return),wc(3,e)}catch(Ae){Dt(e,e.return,Ae)}try{Aa(5,e,e.return)}catch(Ae){Dt(e,e.return,Ae)}}break;case 1:Qr(t,e),xi(e),s&512&&i!==null&&Fl(i,i.return);break;case 5:if(Qr(t,e),xi(e),s&512&&i!==null&&Fl(i,i.return),e.flags&32){var a=e.stateNode;try{Ft(a,"")}catch(Ae){Dt(e,e.return,Ae)}}if(s&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,j=i!==null?i.memoizedProps:d,Y=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{Y==="input"&&d.type==="radio"&&d.name!=null&&Mt(a,d),As(Y,j);var pe=As(Y,d);for(j=0;j<$.length;j+=2){var _e=$[j],xe=$[j+1];_e==="style"?wi(a,xe):_e==="dangerouslySetInnerHTML"?bn(a,xe):_e==="children"?Ft(a,xe):c(a,_e,xe,pe)}switch(Y){case"input":nt(a,d);break;case"textarea":$t(a,d);break;case"select":var ye=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var Te=d.value;Te!=null?$n(a,!!d.multiple,Te,!1):ye!==!!d.multiple&&(d.defaultValue!=null?$n(a,!!d.multiple,d.defaultValue,!0):$n(a,!!d.multiple,d.multiple?[]:"",!1))}a[gs]=d}catch(Ae){Dt(e,e.return,Ae)}}break;case 6:if(Qr(t,e),xi(e),s&4){if(e.stateNode===null)throw Error(R(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(Ae){Dt(e,e.return,Ae)}}break;case 3:if(Qr(t,e),xi(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(Ae){Dt(e,e.return,Ae)}break;case 4:Qr(t,e),xi(e);break;case 13:Qr(t,e),xi(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(gd=Rt())),s&4&&hh(e);break;case 22:if(_e=i!==null&&i.memoizedState!==null,e.mode&1?(Dn=(pe=Dn)||_e,Qr(t,e),Dn=pe):Qr(t,e),xi(e),s&8192){if(pe=e.memoizedState!==null,(e.stateNode.isHidden=pe)&&!_e&&(e.mode&1)!==0)for(Me=e,_e=e.child;_e!==null;){for(xe=Me=_e;Me!==null;){switch(ye=Me,Te=ye.child,ye.tag){case 0:case 11:case 14:case 15:Aa(4,ye,ye.return);break;case 1:Fl(ye,ye.return);var Fe=ye.stateNode;if(typeof Fe.componentWillUnmount=="function"){s=ye,i=ye.return;try{t=s,Fe.props=t.memoizedProps,Fe.state=t.memoizedState,Fe.componentWillUnmount()}catch(Ae){Dt(s,i,Ae)}}break;case 5:Fl(ye,ye.return);break;case 22:if(ye.memoizedState!==null){mh(xe);continue}}Te!==null?(Te.return=ye,Me=Te):mh(xe)}_e=_e.sibling}e:for(_e=null,xe=e;;){if(xe.tag===5){if(_e===null){_e=xe;try{a=xe.stateNode,pe?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(Y=xe.stateNode,$=xe.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null,Y.style.display=Qo("display",j))}catch(Ae){Dt(e,e.return,Ae)}}}else if(xe.tag===6){if(_e===null)try{xe.stateNode.nodeValue=pe?"":xe.memoizedProps}catch(Ae){Dt(e,e.return,Ae)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===e)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===e)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===e)break e;_e===xe&&(_e=null),xe=xe.return}_e===xe&&(_e=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Qr(t,e),xi(e),s&4&&hh(e);break;case 21:break;default:Qr(t,e),xi(e)}}function xi(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(uh(i)){var s=i;break e}i=i.return}throw Error(R(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Ft(a,""),s.flags&=-33);var d=ch(e);hd(e,d,a);break;case 3:case 4:var j=s.stateNode.containerInfo,Y=ch(e);dd(e,Y,j);break;default:throw Error(R(161))}}catch($){Dt(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0(e,t,i){Me=e,ph(e)}function ph(e,t,i){for(var s=(e.mode&1)!==0;Me!==null;){var a=Me,d=a.child;if(a.tag===22&&s){var j=a.memoizedState!==null||Sc;if(!j){var Y=a.alternate,$=Y!==null&&Y.memoizedState!==null||Dn;Y=Sc;var pe=Dn;if(Sc=j,(Dn=$)&&!pe)for(Me=a;Me!==null;)j=Me,$=j.child,j.tag===22&&j.memoizedState!==null?vh(a):$!==null?($.return=j,Me=$):vh(a);for(;d!==null;)Me=d,ph(d),d=d.sibling;Me=a,Sc=Y,Dn=pe}gh(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,Me=d):gh(e)}}function gh(e){for(;Me!==null;){var t=Me;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Dn||wc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Dn)if(i===null)s.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:ln(t.type,i.memoizedProps);s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Nt(t,d,s);break;case 3:var j=t.updateQueue;if(j!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Nt(t,j,i)}break;case 5:var Y=t.stateNode;if(i===null&&t.flags&4){i=Y;var $=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&i.focus();break;case"img":$.src&&(i.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var pe=t.alternate;if(pe!==null){var _e=pe.memoizedState;if(_e!==null){var xe=_e.dehydrated;xe!==null&&Fn(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Dn||t.flags&512&&cd(t)}catch(ye){Dt(t,t.return,ye)}}if(t===e){Me=null;break}if(i=t.sibling,i!==null){i.return=t.return,Me=i;break}Me=t.return}}function mh(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Me=i;break}Me=t.return}}function vh(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{wc(4,t)}catch($){Dt(t,i,$)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch($){Dt(t,a,$)}}var d=t.return;try{cd(t)}catch($){Dt(t,d,$)}break;case 5:var j=t.return;try{cd(t)}catch($){Dt(t,j,$)}}}catch($){Dt(t,t.return,$)}if(t===e){Me=null;break}var Y=t.sibling;if(Y!==null){Y.return=t.return,Me=Y;break}Me=t.return}}var N0=Math.ceil,kc=S.ReactCurrentDispatcher,fd=S.ReactCurrentOwner,jr=S.ReactCurrentBatchConfig,rt=0,vn=null,Zt=null,Tn=0,_r=0,Al=Vr(0),an=0,ja=null,Ns=0,Cc=0,pd=0,Oa=null,lr=null,gd=0,jl=1/0,Zi=null,Ec=!1,md=null,Uo=null,Nc=!1,Bo=null,Pc=0,za=0,vd=null,Rc=-1,Tc=0;function Zn(){return(rt&6)!==0?Rt():Rc!==-1?Rc:Rc=Rt()}function Vo(e){return(e.mode&1)===0?1:(rt&2)!==0&&Tn!==0?Tn&-Tn:wa.transition!==null?(Tc===0&&(Tc=Kl()),Tc):(e=tt,e!==0||(e=window.event,e=e===void 0?16:Vu(e.type)),e)}function Jr(e,t,i,s){if(50<za)throw za=0,vd=null,Error(R(185));es(e,i,s),((rt&2)===0||e!==vn)&&(e===vn&&((rt&2)===0&&(Cc|=i),an===4&&Ho(e,Tn)),ar(e,s),i===1&&rt===0&&(t.mode&1)===0&&(jl=Rt()+500,ko&&di()))}function ar(e,t){var i=e.callbackNode;Iu(e,t);var s=Ni(e,e===vn?Tn:0);if(s===0)i!==null&&zu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(i!=null&&zu(i),t===1)e.tag===0?Hr(_h.bind(null,e)):vs(_h.bind(null,e)),ic(function(){(rt&6)===0&&di()}),i=null;else{switch(ts(s)){case 1:i=Ei;break;case 4:i=Is;break;case 16:i=io;break;case 536870912:i=bs;break;default:i=io}i=Ph(i,yh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function yh(e,t){if(Rc=-1,Tc=0,(rt&6)!==0)throw Error(R(327));var i=e.callbackNode;if(Ol()&&e.callbackNode!==i)return null;var s=Ni(e,e===vn?Tn:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Lc(e,s);else{t=s;var a=rt;rt|=2;var d=Sh();(vn!==e||Tn!==t)&&(Zi=null,jl=Rt()+500,Rs(e,t));do try{T0();break}catch(Y){xh(e,Y)}while(!0);yl(),kc.current=d,rt=a,Zt!==null?t=0:(vn=null,Tn=0,t=an)}if(t!==0){if(t===2&&(a=oo(e),a!==0&&(s=a,t=yd(e,a))),t===1)throw i=ja,Rs(e,0),Ho(e,s),ar(e,Rt()),i;if(t===6)Ho(e,s);else{if(a=e.current.alternate,(s&30)===0&&!P0(a)&&(t=Lc(e,s),t===2&&(d=oo(e),d!==0&&(s=d,t=yd(e,d))),t===1))throw i=ja,Rs(e,0),Ho(e,s),ar(e,Rt()),i;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(R(345));case 2:Ts(e,lr,Zi);break;case 3:if(Ho(e,s),(s&130023424)===s&&(t=gd+500-Rt(),10<t)){if(Ni(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wn(Ts.bind(null,e,lr,Zi),t);break}Ts(e,lr,Zi);break;case 4:if(Ho(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var j=31-Ke(s);d=1<<j,j=t[j],j>a&&(a=j),s&=~d}if(s=a,s=Rt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*N0(s/1960))-s,10<s){e.timeoutHandle=Wn(Ts.bind(null,e,lr,Zi),s);break}Ts(e,lr,Zi);break;case 5:Ts(e,lr,Zi);break;default:throw Error(R(329))}}}return ar(e,Rt()),e.callbackNode===i?yh.bind(null,e):null}function yd(e,t){var i=Oa;return e.current.memoizedState.isDehydrated&&(Rs(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=lr,lr=i,t!==null&&_d(t)),e}function _d(e){lr===null?lr=e:lr.push.apply(lr,e)}function P0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var a=i[s],d=a.getSnapshot;a=a.value;try{if(!jn(d(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t){for(t&=~pd,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ke(t),s=1<<i;e[i]=-1,t&=~s}}function _h(e){if((rt&6)!==0)throw Error(R(327));Ol();var t=Ni(e,0);if((t&1)===0)return ar(e,Rt()),null;var i=Lc(e,t);if(e.tag!==0&&i===2){var s=oo(e);s!==0&&(t=s,i=yd(e,s))}if(i===1)throw i=ja,Rs(e,0),Ho(e,t),ar(e,Rt()),i;if(i===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ts(e,lr,Zi),ar(e,Rt()),null}function xd(e,t){var i=rt;rt|=1;try{return e(t)}finally{rt=i,rt===0&&(jl=Rt()+500,ko&&di())}}function Ps(e){Bo!==null&&Bo.tag===0&&(rt&6)===0&&Ol();var t=rt;rt|=1;var i=jr.transition,s=tt;try{if(jr.transition=null,tt=1,e)return e()}finally{tt=s,jr.transition=i,rt=t,(rt&6)===0&&di()}}function Sd(){_r=Al.current,ht(Al)}function Rs(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ya(i)),Zt!==null)for(i=Zt.return;i!==null;){var s=i;switch(Jt(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wo();break;case 3:kt(),ht(dn),ht(sn),fn();break;case 5:qr(s);break;case 4:kt();break;case 13:ht(ft);break;case 19:ht(ft);break;case 10:_l(s.type._context);break;case 22:case 23:Sd()}i=i.return}if(vn=e,Zt=e=Wo(e.current,null),Tn=_r=t,an=0,ja=null,pd=Cc=Ns=0,lr=Oa=null,Tr!==null){for(t=0;t<Tr.length;t++)if(i=Tr[t],s=i.interleaved,s!==null){i.interleaved=null;var a=s.next,d=i.pending;if(d!==null){var j=d.next;d.next=a,s.next=j}i.pending=s}Tr=null}return e}function xh(e,t){do{var i=Zt;try{if(yl(),Mo.current=zo,yr){for(var s=at.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}yr=!1}if(Nn=0,Ot=Pt=at=null,mi=!1,sr=0,fd.current=null,i===null||i.return===null){an=1,ja=t,Zt=null;break}e:{var d=e,j=i.return,Y=i,$=t;if(t=Tn,Y.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var pe=$,_e=Y,xe=_e.tag;if((_e.mode&1)===0&&(xe===0||xe===11||xe===15)){var ye=_e.alternate;ye?(_e.updateQueue=ye.updateQueue,_e.memoizedState=ye.memoizedState,_e.lanes=ye.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=o(j);if(Te!==null){Te.flags&=-257,l(Te,j,Y,d,t),Te.mode&1&&r(d,pe,t),t=Te,$=pe;var Fe=t.updateQueue;if(Fe===null){var Ae=new Set;Ae.add($),t.updateQueue=Ae}else Fe.add($);break e}else{if((t&1)===0){r(d,pe,t),wd();break e}$=Error(R(426))}}else if(ot&&Y.mode&1){var Wt=o(j);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),l(Wt,j,Y,d,t),_s(Ji($,Y));break e}}d=$=Ji($,Y),an!==4&&(an=2),Oa===null?Oa=[d]:Oa.push(d),d=j;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var ae=xc(d,$,t);ks(d,ae);break e;case 1:Y=$;var ie=d.type,de=d.stateNode;if((d.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Uo===null||!Uo.has(de)))){d.flags|=65536,t&=-t,d.lanes|=t;var ke=n(d,Y,t);ks(d,ke);break e}}d=d.return}while(d!==null)}kh(i)}catch(je){t=je,Zt===i&&i!==null&&(Zt=i=i.return);continue}break}while(!0)}function Sh(){var e=kc.current;return kc.current=zo,e===null?zo:e}function wd(){(an===0||an===3||an===2)&&(an=4),vn===null||(Ns&268435455)===0&&(Cc&268435455)===0||Ho(vn,Tn)}function Lc(e,t){var i=rt;rt|=2;var s=Sh();(vn!==e||Tn!==t)&&(Zi=null,Rs(e,t));do try{R0();break}catch(a){xh(e,a)}while(!0);if(yl(),rt=i,kc.current=s,Zt!==null)throw Error(R(261));return vn=null,Tn=0,an}function R0(){for(;Zt!==null;)wh(Zt)}function T0(){for(;Zt!==null&&!Qc();)wh(Zt)}function wh(e){var t=Nh(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?kh(e):Zt=t,fd.current=null}function kh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=S0(i,t,_r),i!==null){Zt=i;return}}else{if(i=w0(i,t),i!==null){i.flags&=32767,Zt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{an=6,Zt=null;return}}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);an===0&&(an=5)}function Ts(e,t,i){var s=tt,a=jr.transition;try{jr.transition=null,tt=1,L0(e,t,i,s)}finally{jr.transition=a,tt=s}return null}function L0(e,t,i,s){do Ol();while(Bo!==null);if((rt&6)!==0)throw Error(R(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if($c(e,d),e===vn&&(Zt=vn=null,Tn=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Nc||(Nc=!0,Ph(io,function(){return Ol(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=jr.transition,jr.transition=null;var j=tt;tt=1;var Y=rt;rt|=4,fd.current=null,C0(e,i),fh(i,e),us(ma),Ws=!!ga,ma=ga=null,e.current=i,E0(i),Jc(),rt=Y,tt=j,jr.transition=d}else e.current=i;if(Nc&&(Nc=!1,Bo=e,Pc=a),d=e.pendingLanes,d===0&&(Uo=null),gt(i.stateNode),ar(e,Rt()),t!==null)for(s=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ec)throw Ec=!1,e=md,md=null,e;return(Pc&1)!==0&&e.tag!==0&&Ol(),d=e.pendingLanes,(d&1)!==0?e===vd?za++:(za=0,vd=e):za=0,di(),null}function Ol(){if(Bo!==null){var e=ts(Pc),t=jr.transition,i=tt;try{if(jr.transition=null,tt=16>e?16:e,Bo===null)var s=!1;else{if(e=Bo,Bo=null,Pc=0,(rt&6)!==0)throw Error(R(331));var a=rt;for(rt|=4,Me=e.current;Me!==null;){var d=Me,j=d.child;if((Me.flags&16)!==0){var Y=d.deletions;if(Y!==null){for(var $=0;$<Y.length;$++){var pe=Y[$];for(Me=pe;Me!==null;){var _e=Me;switch(_e.tag){case 0:case 11:case 15:Aa(8,_e,d)}var xe=_e.child;if(xe!==null)xe.return=_e,Me=xe;else for(;Me!==null;){_e=Me;var ye=_e.sibling,Te=_e.return;if(ah(_e),_e===pe){Me=null;break}if(ye!==null){ye.return=Te,Me=ye;break}Me=Te}}}var Fe=d.alternate;if(Fe!==null){var Ae=Fe.child;if(Ae!==null){Fe.child=null;do{var Wt=Ae.sibling;Ae.sibling=null,Ae=Wt}while(Ae!==null)}}Me=d}}if((d.subtreeFlags&2064)!==0&&j!==null)j.return=d,Me=j;else e:for(;Me!==null;){if(d=Me,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Aa(9,d,d.return)}var ae=d.sibling;if(ae!==null){ae.return=d.return,Me=ae;break e}Me=d.return}}var ie=e.current;for(Me=ie;Me!==null;){j=Me;var de=j.child;if((j.subtreeFlags&2064)!==0&&de!==null)de.return=j,Me=de;else e:for(j=ie;Me!==null;){if(Y=Me,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:wc(9,Y)}}catch(je){Dt(Y,Y.return,je)}if(Y===j){Me=null;break e}var ke=Y.sibling;if(ke!==null){ke.return=Y.return,Me=ke;break e}Me=Y.return}}if(rt=a,di(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(zr,e)}catch{}s=!0}return s}finally{tt=i,jr.transition=t}}return!1}function Ch(e,t,i){t=Ji(i,t),t=xc(e,t,1),e=Fr(e,t,1),t=Zn(),e!==null&&(es(e,1,t),ar(e,t))}function Dt(e,t,i){if(e.tag===3)Ch(e,e,i);else for(;t!==null;){if(t.tag===3){Ch(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Uo===null||!Uo.has(s))){e=Ji(i,e),e=n(t,e,1),t=Fr(t,e,1),e=Zn(),t!==null&&(es(t,1,e),ar(t,e));break}}t=t.return}}function M0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&i,vn===e&&(Tn&i)===i&&(an===4||an===3&&(Tn&130023424)===Tn&&500>Rt()-gd?Rs(e,0):pd|=i),ar(e,t)}function Eh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Dr,Dr<<=1,(Dr&130023424)===0&&(Dr=4194304)));var i=Zn();e=Qn(e,t),e!==null&&(es(e,t,i),ar(e,i))}function F0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Eh(e,i)}function A0(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(R(314))}s!==null&&s.delete(t),Eh(e,i)}var Nh;Nh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)_=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return _=!1,ld(e,t,i);_=(e.flags&131072)!==0}else _=!1,ot&&(t.flags&1048576)!==0&&uc(t,fi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Qe(e,t),e=t.pendingProps;var a=Bi(t,sn.current);Wr(t,i),a=Fo(null,t,s,e,a,i);var d=Ao();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hn(s)?(d=!0,Vi(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ws(t),a.updater=Io,t.stateNode=a,a._reactInternals=t,Ll(t,s,e,i),t=st(null,t,s,!0,d,i)):(t.tag=0,ot&&d&&Co(t),H(null,t,a,i),t=t.child),t;case 16:s=t.elementType;e:{switch(Qe(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=O0(s),e=ln(s,e),a){case 0:t=Pe(null,t,s,e,i);break e;case 1:t=pt(null,t,s,e,i);break e;case 11:t=oe(null,t,s,e,i);break e;case 14:t=ge(null,t,s,ln(s.type,e),i);break e}throw Error(R(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ln(s,a),Pe(e,t,s,a,i);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ln(s,a),pt(e,t,s,a,i);case 3:e:{if(Pn(t),e===null)throw Error(R(387));s=t.pendingProps,d=t.memoizedState,a=d.element,Sl(e,t),Ro(t,s,null,i);var j=t.memoizedState;if(s=j.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=Ji(Error(R(423)),t),t=Ar(e,t,s,i,a);break e}else if(s!==a){a=Ji(Error(R(424)),t),t=Ar(e,t,s,i,a);break e}else for(Ce=Er(t.stateNode.containerInfo.firstChild),Kn=t,ot=!0,Yn=null,i=or(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ki(),s===a){t=mn(e,t,i);break e}H(e,t,s,i)}t=t.child}return t;case 5:return To(t),e===null&&Eo(t),s=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,j=a.children,va(s,a)?j=null:d!==null&&va(s,d)&&(t.flags|=32),Be(e,t),H(e,t,j,i),t.child;case 6:return e===null&&Eo(t),null;case 13:return me(e,t,i);case 4:return gi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yi(t,null,s,i):H(e,t,s,i),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ln(s,a),oe(e,t,s,a,i);case 7:return H(e,t,t.pendingProps,i),t.child;case 8:return H(e,t,t.pendingProps.children,i),t.child;case 12:return H(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,d=t.memoizedProps,j=a.value,ut(xs,s._currentValue),s._currentValue=j,d!==null)if(jn(d.value,j)){if(d.children===a.children&&!dn.current){t=mn(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var Y=d.dependencies;if(Y!==null){j=d.child;for(var $=Y.firstContext;$!==null;){if($.context===s){if(d.tag===1){$=Mr(-1,i&-i),$.tag=2;var pe=d.updateQueue;if(pe!==null){pe=pe.shared;var _e=pe.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),pe.pending=$}}d.lanes|=i,$=d.alternate,$!==null&&($.lanes|=i),xl(d.return,i,t),Y.lanes|=i;break}$=$.next}}else if(d.tag===10)j=d.type===t.type?null:d.child;else if(d.tag===18){if(j=d.return,j===null)throw Error(R(341));j.lanes|=i,Y=j.alternate,Y!==null&&(Y.lanes|=i),xl(j,i,t),j=d.sibling}else j=d.child;if(j!==null)j.return=d;else for(j=d;j!==null;){if(j===t){j=null;break}if(d=j.sibling,d!==null){d.return=j.return,j=d;break}j=j.return}d=j}H(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Wr(t,i),a=En(a),s=s(a),t.flags|=1,H(e,t,s,i),t.child;case 14:return s=t.type,a=ln(s,t.pendingProps),a=ln(s.type,a),ge(e,t,s,a,i);case 15:return Se(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ln(s,a),Qe(e,t),t.tag=1,hn(s)?(e=!0,Vi(t)):e=!1,Wr(t,i),_c(t,s,a),Ll(t,s,a,i),st(null,t,s,!0,e,i);case 19:return Ht(e,t,i);case 22:return Le(e,t,i)}throw Error(R(156,t.tag))};function Ph(e,t){return Ou(e,t)}function j0(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,i,s){return new j0(e,t,i,s)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O0(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===ee)return 14}return 2}function Wo(e,t){var i=e.alternate;return i===null?(i=Or(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Mc(e,t,i,s,a,d){var j=2;if(s=e,typeof e=="function")kd(e)&&(j=1);else if(typeof e=="string")j=5;else e:switch(e){case X:return Ls(i.children,a,d,t);case z:j=8,a|=8;break;case b:return e=Or(12,i,t,a|2),e.elementType=b,e.lanes=d,e;case re:return e=Or(13,i,t,a),e.elementType=re,e.lanes=d,e;case se:return e=Or(19,i,t,a),e.elementType=se,e.lanes=d,e;case P:return Fc(i,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:j=10;break e;case K:j=9;break e;case Z:j=11;break e;case ee:j=14;break e;case he:j=16,s=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Or(j,i,t,a),t.elementType=e,t.type=s,t.lanes=d,t}function Ls(e,t,i,s){return e=Or(7,e,s,t),e.lanes=i,e}function Fc(e,t,i,s){return e=Or(22,e,s,t),e.elementType=P,e.lanes=i,e.stateNode={isHidden:!1},e}function Cd(e,t,i){return e=Or(6,e,null,t),e.lanes=i,e}function Ed(e,t,i){return t=Or(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0(e,t,i,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gn(0),this.expirationTimes=Gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Nd(e,t,i,s,a,d,j,Y,$){return e=new z0(e,t,i,Y,$),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Or(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ws(d),e}function D0(e,t,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:s==null?null:""+s,children:e,containerInfo:t,implementation:i}}function Rh(e){if(!e)return Pr;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var i=e.type;if(hn(i))return fl(e,i,t)}return t}function Th(e,t,i,s,a,d,j,Y,$){return e=Nd(i,s,!0,e,a,d,j,Y,$),e.context=Rh(null),i=e.current,s=Zn(),a=Vo(i),d=Mr(s,a),d.callback=t??null,Fr(i,d,a),e.current.lanes=a,es(e,a,s),ar(e,s),e}function Ac(e,t,i,s){var a=t.current,d=Zn(),j=Vo(a);return i=Rh(i),t.context===null?t.context=i:t.pendingContext=i,t=Mr(d,j),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Fr(a,t,j),e!==null&&(Jr(e,a,j,d),wl(e,a,j)),j}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Pd(e,t){Lh(e,t),(e=e.alternate)&&Lh(e,t)}function I0(){return null}var Mh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}Oc.prototype.render=Rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ac(e,t,null,null)},Oc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ps(function(){Ac(null,e,null,null)}),t[Nr]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Cr.length&&t!==0&&t<Cr[i].priority;i++);Cr.splice(i,0,e),i===0&&Bs(e)}};function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function b0(e,t,i,s,a){if(a){if(typeof s=="function"){var d=s;s=function(){var pe=jc(j);d.call(pe)}}var j=Th(t,s,e,0,null,!1,!1,"",Fh);return e._reactRootContainer=j,e[Nr]=j.current,Di(e.nodeType===8?e.parentNode:e),Ps(),j}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var Y=s;s=function(){var pe=jc($);Y.call(pe)}}var $=Nd(e,0,!1,null,null,!1,!1,"",Fh);return e._reactRootContainer=$,e[Nr]=$.current,Di(e.nodeType===8?e.parentNode:e),Ps(function(){Ac(t,$,i,s)}),$}function Dc(e,t,i,s,a){var d=i._reactRootContainer;if(d){var j=d;if(typeof a=="function"){var Y=a;a=function(){var $=jc(j);Y.call($)}}Ac(t,j,e,a)}else j=b0(i,t,e,a,s);return jc(j)}so=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Kt(t.pendingLanes);i!==0&&(Yl(t,i|1),ar(t,Rt()),(rt&6)===0&&(jl=Rt()+500,di()))}break;case 13:Ps(function(){var s=Qn(e,1);if(s!==null){var a=Zn();Jr(s,e,1,a)}}),Pd(e,1)}},lo=function(e){if(e.tag===13){var t=Qn(e,134217728);if(t!==null){var i=Zn();Jr(t,e,134217728,i)}Pd(e,134217728)}},bu=function(e){if(e.tag===13){var t=Vo(e),i=Qn(e,t);if(i!==null){var s=Zn();Jr(i,e,t,s)}Pd(e,t)}},Gu=function(){return tt},Gs=function(e,t){var i=tt;try{return tt=e,t()}finally{tt=i}},Ul=function(e,t,i){switch(t){case"input":if(nt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var a=Qt(s);if(!a)throw Error(R(90));De(s),nt(s,a)}}}break;case"textarea":$t(e,i);break;case"select":t=i.value,t!=null&&$n(e,!!i.multiple,t,!1)}},Tu=xd,js=Ps;var G0={usingClientEntryPoint:!1,Events:[ms,Ut,Qt,Bl,Vl,xd]},Da={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U0={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Au(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{zr=Ic.inject(U0),tn=Ic}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G0,ur.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(t))throw Error(R(200));return D0(e,t,null,i)},ur.createRoot=function(e,t){if(!Td(e))throw Error(R(299));var i=!1,s="",a=Mh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Nd(e,1,!1,null,null,i,!1,s,a),e[Nr]=t.current,Di(e.nodeType===8?e.parentNode:e),new Rd(t)},ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Au(t),e=e===null?null:e.stateNode,e},ur.flushSync=function(e){return Ps(e)},ur.hydrate=function(e,t,i){if(!zc(t))throw Error(R(200));return Dc(null,e,t,!0,i)},ur.hydrateRoot=function(e,t,i){if(!Td(e))throw Error(R(405));var s=i!=null&&i.hydratedSources||null,a=!1,d="",j=Mh;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),t=Th(t,null,e,1,i??null,a,!1,d,j),e[Nr]=t.current,Di(e),s)for(e=0;e<s.length;e++)i=s[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new Oc(t)},ur.render=function(e,t,i){if(!zc(t))throw Error(R(200));return Dc(null,e,t,!1,i)},ur.unmountComponentAtNode=function(e){if(!zc(e))throw Error(R(40));return e._reactRootContainer?(Ps(function(){Dc(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1},ur.unstable_batchedUpdates=xd,ur.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!zc(i))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Dc(e,t,i,!1,s)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var Uh;function Y0(){if(Uh)return Fd.exports;Uh=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(g){console.error(g)}}return f(),Fd.exports=K0(),Fd.exports}var Bh;function X0(){if(Bh)return bc;Bh=1;var f=Y0();return bc.createRoot=f.createRoot,bc.hydrateRoot=f.hydrateRoot,bc}var Q0=X0();function Fs(f){if(!f)return f;const g=String(f);if(/^(https?:)?\/\//i.test(g)||g.startsWith("data:")||g.startsWith("blob:"))return g;const R="https://key-studios.github.io/muba-test/";if(g.startsWith(R))return g;const V=g.startsWith("/")?"":"/";return`${R}${V}${g}`}const J0=({categories:f,onAddFurniture:g,existingFurniture:R,hidden:V,onToggle:A,isEmbedded:C=!1})=>{const[h,m]=Ee.useState(f[0]?.id||null),[x,k]=Ee.useState(""),N=(w,T)=>{const I={name:T.name,image:Fs(T.image),width:T.width,height:T.height};w.dataTransfer.effectAllowed="copy",w.dataTransfer.setData("application/json",JSON.stringify(I))},M=w=>{m(h===w?null:w)},E=Ee.useMemo(()=>{if(!x.trim())return f;const w=x.toLowerCase();return f.map(T=>({...T,furniture:T.furniture.filter(I=>I.name.toLowerCase().includes(w))})).filter(T=>T.furniture.length>0)},[f,x]);if(V)return B.jsx("button",{onClick:A,className:"absolute top-4 left-4 z-50 px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-text text-xs shadow transition-colors",children:"Mostrar catlogo"});const y=()=>B.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),v=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})});return B.jsxs("div",{className:`${C?"h-full":"w-80 max-h-[85vh]"} flex flex-col overflow-hidden relative ${C?"":"glass border border-border rounded-2xl shadow-2xl backdrop-blur-xl"} w-full md:w-80`,children:[!C&&B.jsx("button",{onClick:A,className:"absolute -right-3 top-4 bg-white border-2 border-border rounded-full w-9 h-9 flex items-center justify-center text-base font-bold shadow-lg hover:bg-red-50 hover:border-red-300 hover:text-red-600 active:scale-95 transition-all text-text z-10",title:"Ocultar catlogo",children:B.jsx(y,{})}),C&&B.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b border-border bg-gradient-to-r from-indigo-50 to-purple-50 flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:B.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),B.jsxs("div",{children:[B.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Catlogo"}),B.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Arrastra muebles al canvas"})]})]}),B.jsx("button",{onClick:A,className:"w-8 h-8 rounded-lg bg-white border border-border hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-all flex items-center justify-center",title:"Ocultar catlogo",children:B.jsx(y,{})})]}),!C&&B.jsxs("div",{className:"px-6 py-5 border-b border-border bg-gradient-to-r from-indigo-50 to-purple-50",children:[B.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[B.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:B.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),B.jsxs("div",{children:[B.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Catlogo"}),B.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"Arrastra muebles al canvas"})]})]}),B.jsxs("div",{className:"relative mt-4",children:[B.jsx(v,{}),B.jsx("input",{type:"text",value:x,onChange:w=>k(w.target.value),placeholder:"Buscar muebles...",className:"w-full text-sm px-4 pl-10 py-2.5 border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white shadow-sm transition-all"}),B.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:B.jsx(v,{})})]})]}),C&&B.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b border-border bg-gradient-to-r from-indigo-50 to-purple-50",children:B.jsxs("div",{className:"relative",children:[B.jsx("input",{type:"text",value:x,onChange:w=>k(w.target.value),placeholder:"Buscar muebles...",className:"w-full text-sm px-4 pl-10 py-2.5 border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white shadow-sm transition-all"}),B.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:B.jsx(v,{})})]})}),B.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 bg-gradient-to-b from-white to-indigo-50/30",children:[E.map(w=>B.jsxs("div",{className:"mb-4",children:[B.jsxs("button",{onClick:()=>M(w.id),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 rounded-xl font-semibold text-sm text-gray-800 transition-all flex items-center justify-between border border-border bg-white shadow-sm hover:shadow-md group",children:[B.jsxs("span",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),w.name]}),B.jsx("span",{className:"text-lg text-indigo-500 font-bold transition-transform group-hover:scale-110",children:h===w.id?"":"+"})]}),h===w.id&&B.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[w.furniture.map(T=>B.jsxs("div",{draggable:!0,onDragStart:I=>N(I,T),className:"p-3 bg-white border border-border rounded-xl hover:border-indigo-300 hover:shadow-lg cursor-move transition-all group hover:-translate-y-1",children:[B.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gradient-to-br from-gray-50 to-gray-100 mb-2 aspect-square flex items-center justify-center",children:[B.jsx("img",{src:Fs(T.image),alt:T.name,className:"w-full h-full object-contain p-2 group-hover:scale-105 transition-transform",draggable:!1}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),B.jsx("p",{className:"text-xs font-medium text-gray-700 text-center truncate group-hover:text-indigo-600 transition-colors",children:T.name})]},T.id)),w.furniture.length===0&&B.jsx("p",{className:"col-span-2 text-xs text-gray-400 px-2 text-center py-4",children:"Sin resultados"})]})]},w.id)),E.length===0&&B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:B.jsx(v,{})}),B.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No hay coincidencias"}),B.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Intenta con otro trmino de bsqueda"})]})]}),B.jsx("div",{className:"border-t border-border bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4",children:B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Muebles en canvas:"}),B.jsx("span",{className:"font-bold text-lg text-indigo-600 bg-white px-3 py-1 rounded-lg border border-indigo-200 shadow-sm",children:R})]})})]})};var Uc={exports:{}},ba={},Od={},zd={},Vh;function qe(){return Vh||(Vh=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f._registerNode=f.Konva=f.glob=void 0;const g=Math.PI/180;function R(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}f.glob=typeof Ah<"u"?Ah:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},f.Konva={_global:f.glob,version:"9.3.22",isBrowser:R(),isUnminified:/param/.test((function(A){}).toString()),dblClickWindow:400,getAngle(A){return f.Konva.angleDeg?A*g:A},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return f.Konva.DD.isDragging},isTransforming(){var A;return(A=f.Konva.Transformer)===null||A===void 0?void 0:A.isTransforming()},isDragReady(){return!!f.Konva.DD.node},releaseCanvasOnDestroy:!0,document:f.glob.document,_injectGlobal(A){f.glob.Konva=A}};const V=A=>{f.Konva[A.prototype.getClassName()]=A};f._registerNode=V,f.Konva._injectGlobal(f.Konva)})(zd)),zd}var Dd={},Hh;function It(){return Hh||(Hh=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Util=f.Transform=void 0;const g=qe();class R{constructor(S=[1,0,0,1,0,0]){this.dirty=!1,this.m=S&&S.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new R(this.m)}copyInto(S){S.m[0]=this.m[0],S.m[1]=this.m[1],S.m[2]=this.m[2],S.m[3]=this.m[3],S.m[4]=this.m[4],S.m[5]=this.m[5]}point(S){const L=this.m;return{x:L[0]*S.x+L[2]*S.y+L[4],y:L[1]*S.x+L[3]*S.y+L[5]}}translate(S,L){return this.m[4]+=this.m[0]*S+this.m[2]*L,this.m[5]+=this.m[1]*S+this.m[3]*L,this}scale(S,L){return this.m[0]*=S,this.m[1]*=S,this.m[2]*=L,this.m[3]*=L,this}rotate(S){const L=Math.cos(S),D=Math.sin(S),X=this.m[0]*L+this.m[2]*D,z=this.m[1]*L+this.m[3]*D,b=this.m[0]*-D+this.m[2]*L,G=this.m[1]*-D+this.m[3]*L;return this.m[0]=X,this.m[1]=z,this.m[2]=b,this.m[3]=G,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(S,L){const D=this.m[0]+this.m[2]*L,X=this.m[1]+this.m[3]*L,z=this.m[2]+this.m[0]*S,b=this.m[3]+this.m[1]*S;return this.m[0]=D,this.m[1]=X,this.m[2]=z,this.m[3]=b,this}multiply(S){const L=this.m[0]*S.m[0]+this.m[2]*S.m[1],D=this.m[1]*S.m[0]+this.m[3]*S.m[1],X=this.m[0]*S.m[2]+this.m[2]*S.m[3],z=this.m[1]*S.m[2]+this.m[3]*S.m[3],b=this.m[0]*S.m[4]+this.m[2]*S.m[5]+this.m[4],G=this.m[1]*S.m[4]+this.m[3]*S.m[5]+this.m[5];return this.m[0]=L,this.m[1]=D,this.m[2]=X,this.m[3]=z,this.m[4]=b,this.m[5]=G,this}invert(){const S=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),L=this.m[3]*S,D=-this.m[1]*S,X=-this.m[2]*S,z=this.m[0]*S,b=S*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),G=S*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=L,this.m[1]=D,this.m[2]=X,this.m[3]=z,this.m[4]=b,this.m[5]=G,this}getMatrix(){return this.m}decompose(){const S=this.m[0],L=this.m[1],D=this.m[2],X=this.m[3],z=this.m[4],b=this.m[5],G=S*X-L*D,K={x:z,y:b,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(S!=0||L!=0){const Z=Math.sqrt(S*S+L*L);K.rotation=L>0?Math.acos(S/Z):-Math.acos(S/Z),K.scaleX=Z,K.scaleY=G/Z,K.skewX=(S*D+L*X)/G,K.skewY=0}else if(D!=0||X!=0){const Z=Math.sqrt(D*D+X*X);K.rotation=Math.PI/2-(X>0?Math.acos(-D/Z):-Math.acos(D/Z)),K.scaleX=G/Z,K.scaleY=Z,K.skewX=0,K.skewY=(S*D+L*X)/G}return K.rotation=f.Util._getRotation(K.rotation),K}}f.Transform=R;const V="[object Array]",A="[object Number]",C="[object String]",h="[object Boolean]",m=Math.PI/180,x=180/Math.PI,k="#",N="",M="0",E="Konva warning: ",y="Konva error: ",v="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let I=[];const p=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};f.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===V},_isNumber(c){return Object.prototype.toString.call(c)===A&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===C},_isBoolean(c){return Object.prototype.toString.call(c)===h},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;const S=c[0];return S==="#"||S==="."||S===S.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){I.push(c),I.length===1&&p(function(){const S=I;I=[],S.forEach(function(L){L()})})},createCanvasElement(){const c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,S){const L=f.Util.createImageElement();L.onload=function(){S(L)},L.src=c},_rgbToHex(c,S,L){return((1<<24)+(c<<16)+(S<<8)+L).toString(16).slice(1)},_hexToRgb(c){c=c.replace(k,N);const S=parseInt(c,16);return{r:S>>16&255,g:S>>8&255,b:S&255}},getRandomColor(){let c=(Math.random()*16777215<<0).toString(16);for(;c.length<6;)c=M+c;return k+c},getRGB(c){let S;return c in w?(S=w[c],{r:S[0],g:S[1],b:S[2]}):c[0]===k?this._hexToRgb(c.substring(1)):c.substr(0,4)===v?(S=T.exec(c.replace(/ /g,"")),{r:parseInt(S[1],10),g:parseInt(S[2],10),b:parseInt(S[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",f.Util._namedColorToRBA(c)||f.Util._hex3ColorToRGBA(c)||f.Util._hex4ColorToRGBA(c)||f.Util._hex6ColorToRGBA(c)||f.Util._hex8ColorToRGBA(c)||f.Util._rgbColorToRGBA(c)||f.Util._rgbaColorToRGBA(c)||f.Util._hslColorToRGBA(c)},_namedColorToRBA(c){const S=w[c.toLowerCase()];return S?{r:S[0],g:S[1],b:S[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];const S=c.split(/ *, */).map(Number);return{r:S[0],g:S[1],b:S[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];const S=c.split(/ *, */).map((L,D)=>L.slice(-1)==="%"?D===3?parseInt(L)/100:parseInt(L)/100*255:Number(L));return{r:S[0],g:S[1],b:S[2],a:S[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[S,...L]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),D=Number(L[0])/360,X=Number(L[1])/100,z=Number(L[2])/100;let b,G,K;if(X===0)return K=z*255,{r:Math.round(K),g:Math.round(K),b:Math.round(K),a:1};z<.5?b=z*(1+X):b=z+X-z*X;const Z=2*z-b,re=[0,0,0];for(let se=0;se<3;se++)G=D+1/3*-(se-1),G<0&&G++,G>1&&G--,6*G<1?K=Z+(b-Z)*6*G:2*G<1?K=b:3*G<2?K=Z+(b-Z)*(2/3-G)*6:K=Z,re[se]=K*255;return{r:Math.round(re[0]),g:Math.round(re[1]),b:Math.round(re[2]),a:1}}},haveIntersection(c,S){return!(S.x>c.x+c.width||S.x+S.width<c.x||S.y>c.y+c.height||S.y+S.height<c.y)},cloneObject(c){const S={};for(const L in c)this._isPlainObject(c[L])?S[L]=this.cloneObject(c[L]):this._isArray(c[L])?S[L]=this.cloneArray(c[L]):S[L]=c[L];return S},cloneArray(c){return c.slice(0)},degToRad(c){return c*m},radToDeg(c){return c*x},_degToRad(c){return f.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),f.Util.degToRad(c)},_radToDeg(c){return f.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),f.Util.radToDeg(c)},_getRotation(c){return g.Konva.angleDeg?f.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(y+c)},error(c){console.error(y+c)},warn(c){g.Konva.showWarnings&&console.warn(E+c)},each(c,S){for(const L in c)S(L,c[L])},_inRange(c,S,L){return S<=c&&c<L},_getProjectionToSegment(c,S,L,D,X,z){let b,G,K;const Z=(c-L)*(c-L)+(S-D)*(S-D);if(Z==0)b=c,G=S,K=(X-L)*(X-L)+(z-D)*(z-D);else{const re=((X-c)*(L-c)+(z-S)*(D-S))/Z;re<0?(b=c,G=S,K=(c-X)*(c-X)+(S-z)*(S-z)):re>1?(b=L,G=D,K=(L-X)*(L-X)+(D-z)*(D-z)):(b=c+re*(L-c),G=S+re*(D-S),K=(b-X)*(b-X)+(G-z)*(G-z))}return[b,G,K]},_getProjectionToLine(c,S,L){const D=f.Util.cloneObject(c);let X=Number.MAX_VALUE;return S.forEach(function(z,b){if(!L&&b===S.length-1)return;const G=S[(b+1)%S.length],K=f.Util._getProjectionToSegment(z.x,z.y,G.x,G.y,c.x,c.y),Z=K[0],re=K[1],se=K[2];se<X&&(D.x=Z,D.y=re,X=se)}),D},_prepareArrayForTween(c,S,L){const D=[],X=[];if(c.length>S.length){const b=S;S=c,c=b}for(let b=0;b<c.length;b+=2)D.push({x:c[b],y:c[b+1]});for(let b=0;b<S.length;b+=2)X.push({x:S[b],y:S[b+1]});const z=[];return X.forEach(function(b){const G=f.Util._getProjectionToLine(b,D,L);z.push(G.x),z.push(G.y)}),z},_prepareToStringify(c){let S;c.visitedByCircularReferenceRemoval=!0;for(const L in c)if(c.hasOwnProperty(L)&&c[L]&&typeof c[L]=="object"){if(S=Object.getOwnPropertyDescriptor(c,L),c[L].visitedByCircularReferenceRemoval||f.Util._isElement(c[L]))if(S.configurable)delete c[L];else return null;else if(f.Util._prepareToStringify(c[L])===null)if(S.configurable)delete c[L];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,S){for(const L in S)c[L]=S[L];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){g.Konva.releaseCanvasOnDestroy&&c.forEach(S=>{S.width=0,S.height=0})},drawRoundedRectPath(c,S,L,D){let X=0,z=0,b=0,G=0;typeof D=="number"?X=z=b=G=Math.min(D,S/2,L/2):(X=Math.min(D[0]||0,S/2,L/2),z=Math.min(D[1]||0,S/2,L/2),G=Math.min(D[2]||0,S/2,L/2),b=Math.min(D[3]||0,S/2,L/2)),c.moveTo(X,0),c.lineTo(S-z,0),c.arc(S-z,z,z,Math.PI*3/2,0,!1),c.lineTo(S,L-G),c.arc(S-G,L-G,G,0,Math.PI/2,!1),c.lineTo(b,L),c.arc(b,L-b,b,Math.PI/2,Math.PI,!1),c.lineTo(0,X),c.arc(X,X,X,Math.PI,Math.PI*3/2,!1)}}})(Dd)),Dd}var Ga={},$i={},eo={},Wh;function l0(){if(Wh)return eo;Wh=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.HitContext=eo.SceneContext=eo.Context=void 0;const f=It(),g=qe();function R(I){const p=[],c=I.length,S=f.Util;for(let L=0;L<c;L++){let D=I[L];S._isNumber(D)?D=Math.round(D*1e3)/1e3:S._isString(D)||(D=D+""),p.push(D)}return p}const V=",",A="(",C=")",h="([",m="])",x=";",k="()",N="=",M=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],E=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100;let v=class{constructor(p){this.canvas=p,g.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(p){p.fillEnabled()&&this._fill(p)}_fill(p){}strokeShape(p){p.hasStroke()&&this._stroke(p)}_stroke(p){}fillStrokeShape(p){p.attrs.fillAfterStrokeEnabled?(this.strokeShape(p),this.fillShape(p)):(this.fillShape(p),this.strokeShape(p))}getTrace(p,c){let S=this.traceArr,L=S.length,D="",X,z,b,G;for(X=0;X<L;X++)z=S[X],b=z.method,b?(G=z.args,D+=b,p?D+=k:f.Util._isArray(G[0])?D+=h+G.join(V)+m:(c&&(G=G.map(K=>typeof K=="number"?Math.floor(K):K)),D+=A+G.join(V)+C)):(D+=z.property,p||(D+=N+z.val)),D+=x;return D}clearTrace(){this.traceArr=[]}_trace(p){let c=this.traceArr,S;c.push(p),S=c.length,S>=y&&c.shift()}reset(){const p=this.getCanvas().getPixelRatio();this.setTransform(1*p,0,0,1*p,0,0)}getCanvas(){return this.canvas}clear(p){const c=this.getCanvas();p?this.clearRect(p.x||0,p.y||0,p.width||0,p.height||0):this.clearRect(0,0,c.getWidth()/c.pixelRatio,c.getHeight()/c.pixelRatio)}_applyLineCap(p){const c=p.attrs.lineCap;c&&this.setAttr("lineCap",c)}_applyOpacity(p){const c=p.getAbsoluteOpacity();c!==1&&this.setAttr("globalAlpha",c)}_applyLineJoin(p){const c=p.attrs.lineJoin;c&&this.setAttr("lineJoin",c)}setAttr(p,c){this._context[p]=c}arc(p,c,S,L,D,X){this._context.arc(p,c,S,L,D,X)}arcTo(p,c,S,L,D){this._context.arcTo(p,c,S,L,D)}beginPath(){this._context.beginPath()}bezierCurveTo(p,c,S,L,D,X){this._context.bezierCurveTo(p,c,S,L,D,X)}clearRect(p,c,S,L){this._context.clearRect(p,c,S,L)}clip(...p){this._context.clip.apply(this._context,p)}closePath(){this._context.closePath()}createImageData(p,c){const S=arguments;if(S.length===2)return this._context.createImageData(p,c);if(S.length===1)return this._context.createImageData(p)}createLinearGradient(p,c,S,L){return this._context.createLinearGradient(p,c,S,L)}createPattern(p,c){return this._context.createPattern(p,c)}createRadialGradient(p,c,S,L,D,X){return this._context.createRadialGradient(p,c,S,L,D,X)}drawImage(p,c,S,L,D,X,z,b,G){const K=arguments,Z=this._context;K.length===3?Z.drawImage(p,c,S):K.length===5?Z.drawImage(p,c,S,L,D):K.length===9&&Z.drawImage(p,c,S,L,D,X,z,b,G)}ellipse(p,c,S,L,D,X,z,b){this._context.ellipse(p,c,S,L,D,X,z,b)}isPointInPath(p,c,S,L){return S?this._context.isPointInPath(S,p,c,L):this._context.isPointInPath(p,c,L)}fill(...p){this._context.fill.apply(this._context,p)}fillRect(p,c,S,L){this._context.fillRect(p,c,S,L)}strokeRect(p,c,S,L){this._context.strokeRect(p,c,S,L)}fillText(p,c,S,L){L?this._context.fillText(p,c,S,L):this._context.fillText(p,c,S)}measureText(p){return this._context.measureText(p)}getImageData(p,c,S,L){return this._context.getImageData(p,c,S,L)}lineTo(p,c){this._context.lineTo(p,c)}moveTo(p,c){this._context.moveTo(p,c)}rect(p,c,S,L){this._context.rect(p,c,S,L)}roundRect(p,c,S,L,D){this._context.roundRect(p,c,S,L,D)}putImageData(p,c,S){this._context.putImageData(p,c,S)}quadraticCurveTo(p,c,S,L){this._context.quadraticCurveTo(p,c,S,L)}restore(){this._context.restore()}rotate(p){this._context.rotate(p)}save(){this._context.save()}scale(p,c){this._context.scale(p,c)}setLineDash(p){this._context.setLineDash?this._context.setLineDash(p):"mozDash"in this._context?this._context.mozDash=p:"webkitLineDash"in this._context&&(this._context.webkitLineDash=p)}getLineDash(){return this._context.getLineDash()}setTransform(p,c,S,L,D,X){this._context.setTransform(p,c,S,L,D,X)}stroke(p){p?this._context.stroke(p):this._context.stroke()}strokeText(p,c,S,L){this._context.strokeText(p,c,S,L)}transform(p,c,S,L,D,X){this._context.transform(p,c,S,L,D,X)}translate(p,c){this._context.translate(p,c)}_enableTrace(){let p=this,c=M.length,S=this.setAttr,L,D;const X=function(z){let b=p[z],G;p[z]=function(){return D=R(Array.prototype.slice.call(arguments,0)),G=b.apply(p,arguments),p._trace({method:z,args:D}),G}};for(L=0;L<c;L++)X(M[L]);p.setAttr=function(){S.apply(p,arguments);const z=arguments[0];let b=arguments[1];(z==="shadowOffsetX"||z==="shadowOffsetY"||z==="shadowBlur")&&(b=b/this.canvas.getPixelRatio()),p._trace({property:z,val:b})}}_applyGlobalCompositeOperation(p){const c=p.attrs.globalCompositeOperation;!c||c==="source-over"||this.setAttr("globalCompositeOperation",c)}};eo.Context=v,E.forEach(function(I){Object.defineProperty(v.prototype,I,{get(){return this._context[I]},set(p){this._context[I]=p}})});class w extends v{constructor(p,{willReadFrequently:c=!1}={}){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:c})}_fillColor(p){const c=p.fill();this.setAttr("fillStyle",c),p._fillFunc(this)}_fillPattern(p){this.setAttr("fillStyle",p._getFillPattern()),p._fillFunc(this)}_fillLinearGradient(p){const c=p._getLinearGradient();c&&(this.setAttr("fillStyle",c),p._fillFunc(this))}_fillRadialGradient(p){const c=p._getRadialGradient();c&&(this.setAttr("fillStyle",c),p._fillFunc(this))}_fill(p){const c=p.fill(),S=p.getFillPriority();if(c&&S==="color"){this._fillColor(p);return}const L=p.getFillPatternImage();if(L&&S==="pattern"){this._fillPattern(p);return}const D=p.getFillLinearGradientColorStops();if(D&&S==="linear-gradient"){this._fillLinearGradient(p);return}const X=p.getFillRadialGradientColorStops();if(X&&S==="radial-gradient"){this._fillRadialGradient(p);return}c?this._fillColor(p):L?this._fillPattern(p):D?this._fillLinearGradient(p):X&&this._fillRadialGradient(p)}_strokeLinearGradient(p){const c=p.getStrokeLinearGradientStartPoint(),S=p.getStrokeLinearGradientEndPoint(),L=p.getStrokeLinearGradientColorStops(),D=this.createLinearGradient(c.x,c.y,S.x,S.y);if(L){for(let X=0;X<L.length;X+=2)D.addColorStop(L[X],L[X+1]);this.setAttr("strokeStyle",D)}}_stroke(p){const c=p.dash(),S=p.getStrokeScaleEnabled();if(p.hasStroke()){if(!S){this.save();const D=this.getCanvas().getPixelRatio();this.setTransform(D,0,0,D,0,0)}this._applyLineCap(p),c&&p.dashEnabled()&&(this.setLineDash(c),this.setAttr("lineDashOffset",p.dashOffset())),this.setAttr("lineWidth",p.strokeWidth()),p.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),p.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(p):this.setAttr("strokeStyle",p.stroke()),p._strokeFunc(this),S||this.restore()}}_applyShadow(p){var c,S,L;const D=(c=p.getShadowRGBA())!==null&&c!==void 0?c:"black",X=(S=p.getShadowBlur())!==null&&S!==void 0?S:5,z=(L=p.getShadowOffset())!==null&&L!==void 0?L:{x:0,y:0},b=p.getAbsoluteScale(),G=this.canvas.getPixelRatio(),K=b.x*G,Z=b.y*G;this.setAttr("shadowColor",D),this.setAttr("shadowBlur",X*Math.min(Math.abs(K),Math.abs(Z))),this.setAttr("shadowOffsetX",z.x*K),this.setAttr("shadowOffsetY",z.y*Z)}}eo.SceneContext=w;class T extends v{constructor(p){super(p),this._context=p._canvas.getContext("2d",{willReadFrequently:!0})}_fill(p){this.save(),this.setAttr("fillStyle",p.colorKey),p._fillFuncHit(this),this.restore()}strokeShape(p){p.hasHitStroke()&&this._stroke(p)}_stroke(p){if(p.hasHitStroke()){const c=p.getStrokeScaleEnabled();if(!c){this.save();const D=this.getCanvas().getPixelRatio();this.setTransform(D,0,0,D,0,0)}this._applyLineCap(p);const S=p.hitStrokeWidth(),L=S==="auto"?p.strokeWidth():S;this.setAttr("lineWidth",L),this.setAttr("strokeStyle",p.colorKey),p._strokeFuncHit(this),c||this.restore()}}}return eo.HitContext=T,eo}var qh;function Vc(){if(qh)return $i;qh=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.HitCanvas=$i.SceneCanvas=$i.Canvas=void 0;const f=It(),g=l0(),R=qe();let V;function A(){if(V)return V;const x=f.Util.createCanvasElement(),k=x.getContext("2d");return V=(function(){const N=R.Konva._global.devicePixelRatio||1,M=k.webkitBackingStorePixelRatio||k.mozBackingStorePixelRatio||k.msBackingStorePixelRatio||k.oBackingStorePixelRatio||k.backingStorePixelRatio||1;return N/M})(),f.Util.releaseCanvas(x),V}let C=class{constructor(k){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const M=(k||{}).pixelRatio||R.Konva.pixelRatio||A();this.pixelRatio=M,this._canvas=f.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(k){const N=this.pixelRatio;this.pixelRatio=k,this.setSize(this.getWidth()/N,this.getHeight()/N)}setWidth(k){this.width=this._canvas.width=k*this.pixelRatio,this._canvas.style.width=k+"px";const N=this.pixelRatio;this.getContext()._context.scale(N,N)}setHeight(k){this.height=this._canvas.height=k*this.pixelRatio,this._canvas.style.height=k+"px";const N=this.pixelRatio;this.getContext()._context.scale(N,N)}getWidth(){return this.width}getHeight(){return this.height}setSize(k,N){this.setWidth(k||0),this.setHeight(N||0)}toDataURL(k,N){try{return this._canvas.toDataURL(k,N)}catch{try{return this._canvas.toDataURL()}catch(E){return f.Util.error("Unable to get data URL. "+E.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};$i.Canvas=C;class h extends C{constructor(k={width:0,height:0,willReadFrequently:!1}){super(k),this.context=new g.SceneContext(this,{willReadFrequently:k.willReadFrequently}),this.setSize(k.width,k.height)}}$i.SceneCanvas=h;class m extends C{constructor(k={width:0,height:0}){super(k),this.hitCanvas=!0,this.context=new g.HitContext(this),this.setSize(k.width,k.height)}}return $i.HitCanvas=m,$i}var Id={},Kh;function Zd(){return Kh||(Kh=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.DD=void 0;const g=qe(),R=It();f.DD={get isDragging(){let V=!1;return f.DD._dragElements.forEach(A=>{A.dragStatus==="dragging"&&(V=!0)}),V},justDragged:!1,get node(){let V;return f.DD._dragElements.forEach(A=>{V=A.node}),V},_dragElements:new Map,_drag(V){const A=[];f.DD._dragElements.forEach((C,h)=>{const{node:m}=C,x=m.getStage();x.setPointersPositions(V),C.pointerId===void 0&&(C.pointerId=R.Util._getFirstPointerId(V));const k=x._changedPointerPositions.find(N=>N.id===C.pointerId);if(k){if(C.dragStatus!=="dragging"){const N=m.dragDistance();if(Math.max(Math.abs(k.x-C.startPointerPos.x),Math.abs(k.y-C.startPointerPos.y))<N||(m.startDrag({evt:V}),!m.isDragging()))return}m._setDragPosition(V,C),A.push(m)}}),A.forEach(C=>{C.fire("dragmove",{type:"dragmove",target:C,evt:V},!0)})},_endDragBefore(V){const A=[];f.DD._dragElements.forEach(C=>{const{node:h}=C,m=h.getStage();if(V&&m.setPointersPositions(V),!m._changedPointerPositions.find(N=>N.id===C.pointerId))return;(C.dragStatus==="dragging"||C.dragStatus==="stopped")&&(f.DD.justDragged=!0,g.Konva._mouseListenClick=!1,g.Konva._touchListenClick=!1,g.Konva._pointerListenClick=!1,C.dragStatus="stopped");const k=C.node.getLayer()||C.node instanceof g.Konva.Stage&&C.node;k&&A.indexOf(k)===-1&&A.push(k)}),A.forEach(C=>{C.draw()})},_endDragAfter(V){f.DD._dragElements.forEach((A,C)=>{A.dragStatus==="stopped"&&A.node.fire("dragend",{type:"dragend",target:A.node,evt:V},!0),A.dragStatus!=="dragging"&&f.DD._dragElements.delete(C)})}},g.Konva.isBrowser&&(window.addEventListener("mouseup",f.DD._endDragBefore,!0),window.addEventListener("touchend",f.DD._endDragBefore,!0),window.addEventListener("touchcancel",f.DD._endDragBefore,!0),window.addEventListener("mousemove",f.DD._drag),window.addEventListener("touchmove",f.DD._drag),window.addEventListener("mouseup",f.DD._endDragAfter,!1),window.addEventListener("touchend",f.DD._endDragAfter,!1),window.addEventListener("touchcancel",f.DD._endDragAfter,!1))})(Id)),Id}var bd={},cr={},Yh;function $e(){if(Yh)return cr;Yh=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.RGBComponent=V,cr.alphaComponent=A,cr.getNumberValidator=C,cr.getNumberOrArrayOfNumbersValidator=h,cr.getNumberOrAutoValidator=m,cr.getStringValidator=x,cr.getStringOrGradientValidator=k,cr.getFunctionValidator=N,cr.getNumberArrayValidator=M,cr.getBooleanValidator=E,cr.getComponentValidator=y;const f=qe(),g=It();function R(v){return g.Util._isString(v)?'"'+v+'"':Object.prototype.toString.call(v)==="[object Number]"||g.Util._isBoolean(v)?v:Object.prototype.toString.call(v)}function V(v){return v>255?255:v<0?0:Math.round(v)}function A(v){return v>1?1:v<1e-4?1e-4:v}function C(){if(f.Konva.isUnminified)return function(v,w){return g.Util._isNumber(v)||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a number.'),v}}function h(v){if(f.Konva.isUnminified)return function(w,T){let I=g.Util._isNumber(w),p=g.Util._isArray(w)&&w.length==v;return!I&&!p&&g.Util.warn(R(w)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+v+")"),w}}function m(){if(f.Konva.isUnminified)return function(v,w){return g.Util._isNumber(v)||v==="auto"||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a number or "auto".'),v}}function x(){if(f.Konva.isUnminified)return function(v,w){return g.Util._isString(v)||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a string.'),v}}function k(){if(f.Konva.isUnminified)return function(v,w){const T=g.Util._isString(v),I=Object.prototype.toString.call(v)==="[object CanvasGradient]"||v&&v.addColorStop;return T||I||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a string or a native gradient.'),v}}function N(){if(f.Konva.isUnminified)return function(v,w){return g.Util._isFunction(v)||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a function.'),v}}function M(){if(f.Konva.isUnminified)return function(v,w){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&v instanceof T||(g.Util._isArray(v)?v.forEach(function(I){g.Util._isNumber(I)||g.Util.warn('"'+w+'" attribute has non numeric element '+I+". Make sure that all elements are numbers.")}):g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a array of numbers.')),v}}function E(){if(f.Konva.isUnminified)return function(v,w){return v===!0||v===!1||g.Util.warn(R(v)+' is a not valid value for "'+w+'" attribute. The value should be a boolean.'),v}}function y(v){if(f.Konva.isUnminified)return function(w,T){return w==null||g.Util.isObject(w)||g.Util.warn(R(w)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+v),w}}return cr}var Xh;function Je(){return Xh||(Xh=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Factory=void 0;const g=It(),R=$e(),V="get",A="set";f.Factory={addGetterSetter(C,h,m,x,k){f.Factory.addGetter(C,h,m),f.Factory.addSetter(C,h,x,k),f.Factory.addOverloadedGetterSetter(C,h)},addGetter(C,h,m){const x=V+g.Util._capitalize(h);C.prototype[x]=C.prototype[x]||function(){const k=this.attrs[h];return k===void 0?m:k}},addSetter(C,h,m,x){const k=A+g.Util._capitalize(h);C.prototype[k]||f.Factory.overWriteSetter(C,h,m,x)},overWriteSetter(C,h,m,x){const k=A+g.Util._capitalize(h);C.prototype[k]=function(N){return m&&N!==void 0&&N!==null&&(N=m.call(this,N,h)),this._setAttr(h,N),x&&x.call(this),this}},addComponentsGetterSetter(C,h,m,x,k){const N=m.length,M=g.Util._capitalize,E=V+M(h),y=A+M(h);C.prototype[E]=function(){const w={};for(let T=0;T<N;T++){const I=m[T];w[I]=this.getAttr(h+M(I))}return w};const v=(0,R.getComponentValidator)(m);C.prototype[y]=function(w){const T=this.attrs[h];x&&(w=x.call(this,w,h)),v&&v.call(this,w,h);for(const I in w)w.hasOwnProperty(I)&&this._setAttr(h+M(I),w[I]);return w||m.forEach(I=>{this._setAttr(h+M(I),void 0)}),this._fireChangeEvent(h,T,w),k&&k.call(this),this},f.Factory.addOverloadedGetterSetter(C,h)},addOverloadedGetterSetter(C,h){const m=g.Util._capitalize(h),x=A+m,k=V+m;C.prototype[h]=function(){return arguments.length?(this[x](arguments[0]),this):this[k]()}},addDeprecatedGetterSetter(C,h,m,x){g.Util.error("Adding deprecated "+h);const k=V+g.Util._capitalize(h),N=h+" property is deprecated and will be removed soon. Look at Konva change log for more information.";C.prototype[k]=function(){g.Util.error(N);const M=this.attrs[h];return M===void 0?m:M},f.Factory.addSetter(C,h,x,function(){g.Util.error(N)}),f.Factory.addOverloadedGetterSetter(C,h)},backCompat(C,h){g.Util.each(h,function(m,x){const k=C.prototype[x],N=V+g.Util._capitalize(m),M=A+g.Util._capitalize(m);function E(){k.apply(this,arguments),g.Util.error('"'+m+'" method is deprecated and will be removed soon. Use ""'+x+'" instead.')}C.prototype[m]=E,C.prototype[N]=E,C.prototype[M]=E})},afterSetFilter(){this._filterUpToDate=!1}}})(bd)),bd}var Qh;function qt(){if(Qh)return Ga;Qh=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.Node=void 0;const f=Vc(),g=Zd(),R=Je(),V=qe(),A=It(),C=$e(),h="absoluteOpacity",m="allEventListeners",x="absoluteTransform",k="absoluteScale",N="canvas",M="Change",E="children",y="konva",v="listening",w="mouseenter",T="mouseleave",I="pointerenter",p="pointerleave",c="touchenter",S="touchleave",L="set",D="Shape",X=" ",z="stage",b="transform",G="Stage",K="visible",Z=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(X);let re=1,se=class Yd{constructor(P){this._id=re++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(P),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(P){(P===b||P===x)&&this._cache.get(P)?this._cache.get(P).dirty=!0:P?this._cache.delete(P):this._cache.clear()}_getCache(P,O){let q=this._cache.get(P);return(q===void 0||(P===b||P===x)&&q.dirty===!0)&&(q=O.call(this),this._cache.set(P,q)),q}_calculate(P,O,q){if(!this._attachedDepsListeners.get(P)){const U=O.map(F=>F+"Change.konva").join(X);this.on(U,()=>{this._clearCache(P)}),this._attachedDepsListeners.set(P,!0)}return this._getCache(P,q)}_getCanvasCache(){return this._cache.get(N)}_clearSelfAndDescendantCache(P){this._clearCache(P),P===x&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(N)){const{scene:P,filter:O,hit:q,buffer:U}=this._cache.get(N);A.Util.releaseCanvas(P,O,q,U),this._cache.delete(N)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(P){const O=P||{};let q={};(O.x===void 0||O.y===void 0||O.width===void 0||O.height===void 0)&&(q=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let U=Math.ceil(O.width||q.width),F=Math.ceil(O.height||q.height),Q=O.pixelRatio,J=O.x===void 0?Math.floor(q.x):O.x,ce=O.y===void 0?Math.floor(q.y):O.y,ue=O.offset||0,te=O.drawBorder||!1,W=O.hitCanvasPixelRatio||1;if(!U||!F){A.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ne=Math.abs(Math.round(q.x)-J)>.5?1:0,ve=Math.abs(Math.round(q.y)-ce)>.5?1:0;U+=ue*2+ne,F+=ue*2+ve,J-=ue,ce-=ue;const we=new f.SceneCanvas({pixelRatio:Q,width:U,height:F}),Ne=new f.SceneCanvas({pixelRatio:Q,width:0,height:0,willReadFrequently:!0}),De=new f.HitCanvas({pixelRatio:W,width:U,height:F}),Oe=we.getContext(),et=De.getContext(),Ge=new f.SceneCanvas({width:we.width/we.pixelRatio+Math.abs(J),height:we.height/we.pixelRatio+Math.abs(ce),pixelRatio:we.pixelRatio}),Mt=Ge.getContext();return De.isCache=!0,we.isCache=!0,this._cache.delete(N),this._filterUpToDate=!1,O.imageSmoothingEnabled===!1&&(we.getContext()._context.imageSmoothingEnabled=!1,Ne.getContext()._context.imageSmoothingEnabled=!1),Oe.save(),et.save(),Mt.save(),Oe.translate(-J,-ce),et.translate(-J,-ce),Mt.translate(-J,-ce),Ge.x=J,Ge.y=ce,this._isUnderCache=!0,this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(k),this.drawScene(we,this,Ge),this.drawHit(De,this),this._isUnderCache=!1,Oe.restore(),et.restore(),te&&(Oe.save(),Oe.beginPath(),Oe.rect(0,0,U,F),Oe.closePath(),Oe.setAttr("strokeStyle","red"),Oe.setAttr("lineWidth",5),Oe.stroke(),Oe.restore()),this._cache.set(N,{scene:we,filter:Ne,hit:De,buffer:Ge,x:J,y:ce}),this._requestDraw(),this}isCached(){return this._cache.has(N)}getClientRect(P){throw new Error('abstract "getClientRect" method call')}_transformedRect(P,O){const q=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}];let U=1/0,F=1/0,Q=-1/0,J=-1/0;const ce=this.getAbsoluteTransform(O);return q.forEach(function(ue){const te=ce.point(ue);U===void 0&&(U=Q=te.x,F=J=te.y),U=Math.min(U,te.x),F=Math.min(F,te.y),Q=Math.max(Q,te.x),J=Math.max(J,te.y)}),{x:U,y:F,width:Q-U,height:J-F}}_drawCachedSceneCanvas(P){P.save(),P._applyOpacity(this),P._applyGlobalCompositeOperation(this);const O=this._getCanvasCache();P.translate(O.x,O.y);const q=this._getCachedSceneCanvas(),U=q.pixelRatio;P.drawImage(q._canvas,0,0,q.width/U,q.height/U),P.restore()}_drawCachedHitCanvas(P){const O=this._getCanvasCache(),q=O.hit;P.save(),P.translate(O.x,O.y),P.drawImage(q._canvas,0,0,q.width/q.pixelRatio,q.height/q.pixelRatio),P.restore()}_getCachedSceneCanvas(){let P=this.filters(),O=this._getCanvasCache(),q=O.scene,U=O.filter,F=U.getContext(),Q,J,ce,ue;if(P){if(!this._filterUpToDate){const te=q.pixelRatio;U.setSize(q.width/q.pixelRatio,q.height/q.pixelRatio);try{for(Q=P.length,F.clear(),F.drawImage(q._canvas,0,0,q.getWidth()/te,q.getHeight()/te),J=F.getImageData(0,0,U.getWidth(),U.getHeight()),ce=0;ce<Q;ce++){if(ue=P[ce],typeof ue!="function"){A.Util.error("Filter should be type of function, but got "+typeof ue+" instead. Please check correct filters");continue}ue.call(this,J),F.putImageData(J,0,0)}}catch(W){A.Util.error("Unable to apply filter. "+W.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return U}return q}on(P,O){if(this._cache&&this._cache.delete(m),arguments.length===3)return this._delegate.apply(this,arguments);const q=P.split(X);for(let U=0;U<q.length;U++){const Q=q[U].split("."),J=Q[0],ce=Q[1]||"";this.eventListeners[J]||(this.eventListeners[J]=[]),this.eventListeners[J].push({name:ce,handler:O})}return this}off(P,O){let q=(P||"").split(X),U=q.length,F,Q,J,ce,ue,te;if(this._cache&&this._cache.delete(m),!P)for(Q in this.eventListeners)this._off(Q);for(F=0;F<U;F++)if(J=q[F],ce=J.split("."),ue=ce[0],te=ce[1],ue)this.eventListeners[ue]&&this._off(ue,te,O);else for(Q in this.eventListeners)this._off(Q,te,O);return this}dispatchEvent(P){const O={target:this,type:P.type,evt:P};return this.fire(P.type,O),this}addEventListener(P,O){return this.on(P,function(q){O.call(this,q.evt)}),this}removeEventListener(P){return this.off(P),this}_delegate(P,O,q){const U=this;this.on(P,function(F){const Q=F.target.findAncestors(O,!0,U);for(let J=0;J<Q.length;J++)F=A.Util.cloneObject(F),F.currentTarget=Q[J],q.call(Q[J],F)})}remove(){return this.isDragging()&&this.stopDrag(),g.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(z),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(v)}_remove(){this._clearCaches();const P=this.getParent();P&&P.children&&(P.children.splice(this.index,1),P._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(P){const O="get"+A.Util._capitalize(P);return A.Util._isFunction(this[O])?this[O]():this.attrs[P]}getAncestors(){let P=this.getParent(),O=[];for(;P;)O.push(P),P=P.getParent();return O}getAttrs(){return this.attrs||{}}setAttrs(P){return this._batchTransformChanges(()=>{let O,q;if(!P)return this;for(O in P)O!==E&&(q=L+A.Util._capitalize(O),A.Util._isFunction(this[q])?this[q](P[O]):this._setAttr(O,P[O]))}),this}isListening(){return this._getCache(v,this._isListening)}_isListening(P){if(!this.listening())return!1;const q=this.getParent();return q&&q!==P&&this!==P?q._isListening(P):!0}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(P){if(!this.visible())return!1;const q=this.getParent();return q&&q!==P&&this!==P?q._isVisible(P):!0}shouldDrawHit(P,O=!1){if(P)return this._isVisible(P)&&this._isListening(P);const q=this.getLayer();let U=!1;g.DD._dragElements.forEach(Q=>{Q.dragStatus==="dragging"&&(Q.node.nodeType==="Stage"||Q.node.getLayer()===q)&&(U=!0)});const F=!O&&!V.Konva.hitOnDragEnabled&&(U||V.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!F}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let P=this.getDepth(),O=this,q=0,U,F,Q,J;function ce(te){for(U=[],F=te.length,Q=0;Q<F;Q++)J=te[Q],q++,J.nodeType!==D&&(U=U.concat(J.getChildren().slice())),J._id===O._id&&(Q=F);U.length>0&&U[0].getDepth()<=P&&ce(U)}const ue=this.getStage();return O.nodeType!==G&&ue&&ce(ue.getChildren()),q}getDepth(){let P=0,O=this.parent;for(;O;)P++,O=O.parent;return P}_batchTransformChanges(P){this._batchingTransformChange=!0,P(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(b),this._clearSelfAndDescendantCache(x)),this._needClearTransformCache=!1}setPosition(P){return this._batchTransformChanges(()=>{this.x(P.x),this.y(P.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const P=this.getStage();if(!P)return null;const O=P.getPointerPosition();if(!O)return null;const q=this.getAbsoluteTransform().copy();return q.invert(),q.point(O)}getAbsolutePosition(P){let O=!1,q=this.parent;for(;q;){if(q.isCached()){O=!0;break}q=q.parent}O&&!P&&(P=!0);const U=this.getAbsoluteTransform(P).getMatrix(),F=new A.Transform,Q=this.offset();return F.m=U.slice(),F.translate(Q.x,Q.y),F.getTranslation()}setAbsolutePosition(P){const{x:O,y:q,...U}=this._clearTransform();this.attrs.x=O,this.attrs.y=q,this._clearCache(b);const F=this._getAbsoluteTransform().copy();return F.invert(),F.translate(P.x,P.y),P={x:this.attrs.x+F.getTranslation().x,y:this.attrs.y+F.getTranslation().y},this._setTransform(U),this.setPosition({x:P.x,y:P.y}),this._clearCache(b),this._clearSelfAndDescendantCache(x),this}_setTransform(P){let O;for(O in P)this.attrs[O]=P[O]}_clearTransform(){const P={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,P}move(P){let O=P.x,q=P.y,U=this.x(),F=this.y();return O!==void 0&&(U+=O),q!==void 0&&(F+=q),this.setPosition({x:U,y:F}),this}_eachAncestorReverse(P,O){let q=[],U=this.getParent(),F,Q;if(!(O&&O._id===this._id)){for(q.unshift(this);U&&(!O||U._id!==O._id);)q.unshift(U),U=U.parent;for(F=q.length,Q=0;Q<F;Q++)P(q[Q])}}rotate(P){return this.rotation(this.rotation()+P),this}moveToTop(){if(!this.parent)return A.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const P=this.index,O=this.parent.getChildren().length;return P<O-1?(this.parent.children.splice(P,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return A.Util.warn("Node has no parent. moveUp function is ignored."),!1;const P=this.index,O=this.parent.getChildren().length;return P<O-1?(this.parent.children.splice(P,1),this.parent.children.splice(P+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return A.Util.warn("Node has no parent. moveDown function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.splice(P-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return A.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(P){if(!this.parent)return A.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(P<0||P>=this.parent.children.length)&&A.Util.warn("Unexpected value "+P+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const O=this.index;return this.parent.children.splice(O,1),this.parent.children.splice(P,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(h,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let P=this.opacity();const O=this.getParent();return O&&!O._isUnderCache&&(P*=O.getAbsoluteOpacity()),P}moveTo(P){return this.getParent()!==P&&(this._remove(),P.add(this)),this}toObject(){let P=this.getAttrs(),O,q,U,F,Q;const J={attrs:{},className:this.getClassName()};for(O in P)q=P[O],Q=A.Util.isObject(q)&&!A.Util._isPlainObject(q)&&!A.Util._isArray(q),!Q&&(U=typeof this[O]=="function"&&this[O],delete P[O],F=U?U.call(this):null,P[O]=q,F!==q&&(J.attrs[O]=q));return A.Util._prepareToStringify(J)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(P,O,q){const U=[];O&&this._isMatch(P)&&U.push(this);let F=this.parent;for(;F;){if(F===q)return U;F._isMatch(P)&&U.push(F),F=F.parent}return U}isAncestorOf(P){return!1}findAncestor(P,O,q){return this.findAncestors(P,O,q)[0]}_isMatch(P){if(!P)return!1;if(typeof P=="function")return P(this);let O=P.replace(/ /g,"").split(","),q=O.length,U,F;for(U=0;U<q;U++)if(F=O[U],A.Util.isValidSelector(F)||(A.Util.warn('Selector "'+F+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),A.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),A.Util.warn("Konva is awesome, right?")),F.charAt(0)==="#"){if(this.id()===F.slice(1))return!0}else if(F.charAt(0)==="."){if(this.hasName(F.slice(1)))return!0}else if(this.className===F||this.nodeType===F)return!0;return!1}getLayer(){const P=this.getParent();return P?P.getLayer():null}getStage(){return this._getCache(z,this._getStage)}_getStage(){const P=this.getParent();return P?P.getStage():null}fire(P,O={},q){return O.target=O.target||this,q?this._fireAndBubble(P,O):this._fire(P,O),this}getAbsoluteTransform(P){return P?this._getAbsoluteTransform(P):this._getCache(x,this._getAbsoluteTransform)}_getAbsoluteTransform(P){let O;if(P)return O=new A.Transform,this._eachAncestorReverse(function(q){const U=q.transformsEnabled();U==="all"?O.multiply(q.getTransform()):U==="position"&&O.translate(q.x()-q.offsetX(),q.y()-q.offsetY())},P),O;{O=this._cache.get(x)||new A.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(O):O.reset();const q=this.transformsEnabled();if(q==="all")O.multiply(this.getTransform());else if(q==="position"){const U=this.attrs.x||0,F=this.attrs.y||0,Q=this.attrs.offsetX||0,J=this.attrs.offsetY||0;O.translate(U-Q,F-J)}return O.dirty=!1,O}}getAbsoluteScale(P){let O=this;for(;O;)O._isUnderCache&&(P=O),O=O.getParent();const U=this.getAbsoluteTransform(P).decompose();return{x:U.scaleX,y:U.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(b,this._getTransform)}_getTransform(){var P,O;const q=this._cache.get(b)||new A.Transform;q.reset();const U=this.x(),F=this.y(),Q=V.Konva.getAngle(this.rotation()),J=(P=this.attrs.scaleX)!==null&&P!==void 0?P:1,ce=(O=this.attrs.scaleY)!==null&&O!==void 0?O:1,ue=this.attrs.skewX||0,te=this.attrs.skewY||0,W=this.attrs.offsetX||0,ne=this.attrs.offsetY||0;return(U!==0||F!==0)&&q.translate(U,F),Q!==0&&q.rotate(Q),(ue!==0||te!==0)&&q.skew(ue,te),(J!==1||ce!==1)&&q.scale(J,ce),(W!==0||ne!==0)&&q.translate(-1*W,-1*ne),q.dirty=!1,q}clone(P){let O=A.Util.cloneObject(this.attrs),q,U,F,Q,J;for(q in P)O[q]=P[q];const ce=new this.constructor(O);for(q in this.eventListeners)for(U=this.eventListeners[q],F=U.length,Q=0;Q<F;Q++)J=U[Q],J.name.indexOf(y)<0&&(ce.eventListeners[q]||(ce.eventListeners[q]=[]),ce.eventListeners[q].push(J));return ce}_toKonvaCanvas(P){P=P||{};const O=this.getClientRect(),q=this.getStage(),U=P.x!==void 0?P.x:Math.floor(O.x),F=P.y!==void 0?P.y:Math.floor(O.y),Q=P.pixelRatio||1,J=new f.SceneCanvas({width:P.width||Math.ceil(O.width)||(q?q.width():0),height:P.height||Math.ceil(O.height)||(q?q.height():0),pixelRatio:Q}),ce=J.getContext(),ue=new f.SceneCanvas({width:J.width/J.pixelRatio+Math.abs(U),height:J.height/J.pixelRatio+Math.abs(F),pixelRatio:J.pixelRatio});return P.imageSmoothingEnabled===!1&&(ce._context.imageSmoothingEnabled=!1),ce.save(),(U||F)&&ce.translate(-1*U,-1*F),this.drawScene(J,void 0,ue),ce.restore(),J}toCanvas(P){return this._toKonvaCanvas(P)._canvas}toDataURL(P){P=P||{};const O=P.mimeType||null,q=P.quality||null,U=this._toKonvaCanvas(P).toDataURL(O,q);return P.callback&&P.callback(U),U}toImage(P){return new Promise((O,q)=>{try{const U=P?.callback;U&&delete P.callback,A.Util._urlToImage(this.toDataURL(P),function(F){O(F),U?.(F)})}catch(U){q(U)}})}toBlob(P){return new Promise((O,q)=>{try{const U=P?.callback;U&&delete P.callback,this.toCanvas(P).toBlob(F=>{O(F),U?.(F)},P?.mimeType,P?.quality)}catch(U){q(U)}})}setSize(P){return this.width(P.width),this.height(P.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():V.Konva.dragDistance}_off(P,O,q){let U=this.eventListeners[P],F,Q,J;for(F=0;F<U.length;F++)if(Q=U[F].name,J=U[F].handler,(Q!=="konva"||O==="konva")&&(!O||Q===O)&&(!q||q===J)){if(U.splice(F,1),U.length===0){delete this.eventListeners[P];break}F--}}_fireChangeEvent(P,O,q){this._fire(P+M,{oldVal:O,newVal:q})}addName(P){if(!this.hasName(P)){const O=this.name(),q=O?O+" "+P:P;this.name(q)}return this}hasName(P){if(!P)return!1;const O=this.name();return O?(O||"").split(/\s/g).indexOf(P)!==-1:!1}removeName(P){const O=(this.name()||"").split(/\s/g),q=O.indexOf(P);return q!==-1&&(O.splice(q,1),this.name(O.join(" "))),this}setAttr(P,O){const q=this[L+A.Util._capitalize(P)];return A.Util._isFunction(q)?q.call(this,O):this._setAttr(P,O),this}_requestDraw(){if(V.Konva.autoDrawEnabled){const P=this.getLayer()||this.getStage();P?.batchDraw()}}_setAttr(P,O){const q=this.attrs[P];q===O&&!A.Util.isObject(O)||(O==null?delete this.attrs[P]:this.attrs[P]=O,this._shouldFireChangeEvents&&this._fireChangeEvent(P,q,O),this._requestDraw())}_setComponentAttr(P,O,q){let U;q!==void 0&&(U=this.attrs[P],U||(this.attrs[P]=this.getAttr(P)),this.attrs[P][O]=q,this._fireChangeEvent(P,U,q))}_fireAndBubble(P,O,q){O&&this.nodeType===D&&(O.target=this);const U=[w,T,I,p,c,S];if(!(U.indexOf(P)!==-1&&(q&&(this===q||this.isAncestorOf&&this.isAncestorOf(q))||this.nodeType==="Stage"&&!q))){this._fire(P,O);const Q=U.indexOf(P)!==-1&&q&&q.isAncestorOf&&q.isAncestorOf(this)&&!q.isAncestorOf(this.parent);(O&&!O.cancelBubble||!O)&&this.parent&&this.parent.isListening()&&!Q&&(q&&q.parent?this._fireAndBubble.call(this.parent,P,O,q):this._fireAndBubble.call(this.parent,P,O))}}_getProtoListeners(P){var O,q,U;const F=(O=this._cache.get(m))!==null&&O!==void 0?O:{};let Q=F?.[P];if(Q===void 0){Q=[];let J=Object.getPrototypeOf(this);for(;J;){const ce=(U=(q=J.eventListeners)===null||q===void 0?void 0:q[P])!==null&&U!==void 0?U:[];Q.push(...ce),J=Object.getPrototypeOf(J)}F[P]=Q,this._cache.set(m,F)}return Q}_fire(P,O){O=O||{},O.currentTarget=this,O.type=P;const q=this._getProtoListeners(P);if(q)for(let F=0;F<q.length;F++)q[F].handler.call(this,O);const U=this.eventListeners[P];if(U)for(let F=0;F<U.length;F++)U[F].handler.call(this,O)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(P){const O=P?P.pointerId:void 0,q=this.getStage(),U=this.getAbsolutePosition();if(!q)return;const F=q._getPointerById(O)||q._changedPointerPositions[0]||U;g.DD._dragElements.set(this._id,{node:this,startPointerPos:F,offset:{x:F.x-U.x,y:F.y-U.y},dragStatus:"ready",pointerId:O})}startDrag(P,O=!0){g.DD._dragElements.has(this._id)||this._createDragElement(P);const q=g.DD._dragElements.get(this._id);q.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:P&&P.evt},O)}_setDragPosition(P,O){const q=this.getStage()._getPointerById(O.pointerId);if(!q)return;let U={x:q.x-O.offset.x,y:q.y-O.offset.y};const F=this.dragBoundFunc();if(F!==void 0){const Q=F.call(this,U,P);Q?U=Q:A.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==U.x||this._lastPos.y!==U.y)&&(this.setAbsolutePosition(U),this._requestDraw()),this._lastPos=U}stopDrag(P){const O=g.DD._dragElements.get(this._id);O&&(O.dragStatus="stopped"),g.DD._endDragBefore(P),g.DD._endDragAfter(P)}setDraggable(P){this._setAttr("draggable",P),this._dragChange()}isDragging(){const P=g.DD._dragElements.get(this._id);return P?P.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(P){if(!(!(P.evt.button!==void 0)||V.Konva.dragButtons.indexOf(P.evt.button)>=0)||this.isDragging())return;let U=!1;g.DD._dragElements.forEach(F=>{this.isAncestorOf(F.node)&&(U=!0)}),U||this._createDragElement(P)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const O=g.DD._dragElements.get(this._id),q=O&&O.dragStatus==="dragging",U=O&&O.dragStatus==="ready";q?this.stopDrag():U&&g.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(P={x:0,y:0}){const O=this.getStage();if(!O)return!1;const q={x:-P.x,y:-P.y,width:O.width()+2*P.x,height:O.height()+2*P.y};return A.Util.haveIntersection(q,this.getClientRect())}static create(P,O){return A.Util._isString(P)&&(P=JSON.parse(P)),this._createNode(P,O)}static _createNode(P,O){let q=Yd.prototype.getClassName.call(P),U=P.children,F,Q,J;O&&(P.attrs.container=O),V.Konva[q]||(A.Util.warn('Can not find a node with class name "'+q+'". Fallback to "Shape".'),q="Shape");const ce=V.Konva[q];if(F=new ce(P.attrs),U)for(Q=U.length,J=0;J<Q;J++)F.add(Yd._createNode(U[J]));return F}};Ga.Node=se,se.prototype.nodeType="Node",se.prototype._attrsAffectingSize=[],se.prototype.eventListeners={},se.prototype.on.call(se.prototype,Z,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(b),this._clearSelfAndDescendantCache(x)}),se.prototype.on.call(se.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(K)}),se.prototype.on.call(se.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(v)}),se.prototype.on.call(se.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(h)});const ee=R.Factory.addGetterSetter;return ee(se,"zIndex"),ee(se,"absolutePosition"),ee(se,"position"),ee(se,"x",0,(0,C.getNumberValidator)()),ee(se,"y",0,(0,C.getNumberValidator)()),ee(se,"globalCompositeOperation","source-over",(0,C.getStringValidator)()),ee(se,"opacity",1,(0,C.getNumberValidator)()),ee(se,"name","",(0,C.getStringValidator)()),ee(se,"id","",(0,C.getStringValidator)()),ee(se,"rotation",0,(0,C.getNumberValidator)()),R.Factory.addComponentsGetterSetter(se,"scale",["x","y"]),ee(se,"scaleX",1,(0,C.getNumberValidator)()),ee(se,"scaleY",1,(0,C.getNumberValidator)()),R.Factory.addComponentsGetterSetter(se,"skew",["x","y"]),ee(se,"skewX",0,(0,C.getNumberValidator)()),ee(se,"skewY",0,(0,C.getNumberValidator)()),R.Factory.addComponentsGetterSetter(se,"offset",["x","y"]),ee(se,"offsetX",0,(0,C.getNumberValidator)()),ee(se,"offsetY",0,(0,C.getNumberValidator)()),ee(se,"dragDistance",void 0,(0,C.getNumberValidator)()),ee(se,"width",0,(0,C.getNumberValidator)()),ee(se,"height",0,(0,C.getNumberValidator)()),ee(se,"listening",!0,(0,C.getBooleanValidator)()),ee(se,"preventDefault",!0,(0,C.getBooleanValidator)()),ee(se,"filters",void 0,function(he){return this._filterUpToDate=!1,he}),ee(se,"visible",!0,(0,C.getBooleanValidator)()),ee(se,"transformsEnabled","all",(0,C.getStringValidator)()),ee(se,"size"),ee(se,"dragBoundFunc"),ee(se,"draggable",!1,(0,C.getBooleanValidator)()),R.Factory.backCompat(se,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ga}var Ua={},Jh;function Hc(){if(Jh)return Ua;Jh=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Container=void 0;const f=Je(),g=qt(),R=$e();let V=class extends g.Node{constructor(){super(...arguments),this.children=[]}getChildren(C){const h=this.children||[];return C?h.filter(C):h}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(C=>{C.parent=null,C.index=0,C.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(C=>{C.parent=null,C.index=0,C.destroy()}),this.children=[],this._requestDraw(),this}add(...C){if(C.length===0)return this;if(C.length>1){for(let m=0;m<C.length;m++)this.add(C[m]);return this}const h=C[0];return h.getParent()?(h.moveTo(this),this):(this._validateAdd(h),h.index=this.getChildren().length,h.parent=this,h._clearCaches(),this.getChildren().push(h),this._fire("add",{child:h}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(C){return this._generalFind(C,!1)}findOne(C){const h=this._generalFind(C,!0);return h.length>0?h[0]:void 0}_generalFind(C,h){const m=[];return this._descendants(x=>{const k=x._isMatch(C);return k&&m.push(x),!!(k&&h)}),m}_descendants(C){let h=!1;const m=this.getChildren();for(const x of m){if(h=C(x),h)return!0;if(x.hasChildren()&&(h=x._descendants(C),h))return!0}return!1}toObject(){const C=g.Node.prototype.toObject.call(this);return C.children=[],this.getChildren().forEach(h=>{C.children.push(h.toObject())}),C}isAncestorOf(C){let h=C.getParent();for(;h;){if(h._id===this._id)return!0;h=h.getParent()}return!1}clone(C){const h=g.Node.prototype.clone.call(this,C);return this.getChildren().forEach(function(m){h.add(m.clone())}),h}getAllIntersections(C){const h=[];return this.find("Shape").forEach(m=>{m.isVisible()&&m.intersects(C)&&h.push(m)}),h}_clearSelfAndDescendantCache(C){var h;super._clearSelfAndDescendantCache(C),!this.isCached()&&((h=this.children)===null||h===void 0||h.forEach(function(m){m._clearSelfAndDescendantCache(C)}))}_setChildrenIndices(){var C;(C=this.children)===null||C===void 0||C.forEach(function(h,m){h.index=m}),this._requestDraw()}drawScene(C,h,m){const x=this.getLayer(),k=C||x&&x.getCanvas(),N=k&&k.getContext(),M=this._getCanvasCache(),E=M&&M.scene,y=k&&k.isCache;if(!this.isVisible()&&!y)return this;if(E){N.save();const v=this.getAbsoluteTransform(h).getMatrix();N.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(N),N.restore()}else this._drawChildren("drawScene",k,h,m);return this}drawHit(C,h){if(!this.shouldDrawHit(h))return this;const m=this.getLayer(),x=C||m&&m.hitCanvas,k=x&&x.getContext(),N=this._getCanvasCache();if(N&&N.hit){k.save();const E=this.getAbsoluteTransform(h).getMatrix();k.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedHitCanvas(k),k.restore()}else this._drawChildren("drawHit",x,h);return this}_drawChildren(C,h,m,x){var k;const N=h&&h.getContext(),M=this.clipWidth(),E=this.clipHeight(),y=this.clipFunc(),v=typeof M=="number"&&typeof E=="number"||y,w=m===this;if(v){N.save();const I=this.getAbsoluteTransform(m);let p=I.getMatrix();N.transform(p[0],p[1],p[2],p[3],p[4],p[5]),N.beginPath();let c;if(y)c=y.call(this,N,this);else{const S=this.clipX(),L=this.clipY();N.rect(S||0,L||0,M,E)}N.clip.apply(N,c),p=I.copy().invert().getMatrix(),N.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const T=!w&&this.globalCompositeOperation()!=="source-over"&&C==="drawScene";T&&(N.save(),N._applyGlobalCompositeOperation(this)),(k=this.children)===null||k===void 0||k.forEach(function(I){I[C](h,m,x)}),T&&N.restore(),v&&N.restore()}getClientRect(C={}){var h;const m=C.skipTransform,x=C.relativeTo;let k,N,M,E,y={x:1/0,y:1/0,width:0,height:0};const v=this;(h=this.children)===null||h===void 0||h.forEach(function(I){if(!I.visible())return;const p=I.getClientRect({relativeTo:v,skipShadow:C.skipShadow,skipStroke:C.skipStroke});p.width===0&&p.height===0||(k===void 0?(k=p.x,N=p.y,M=p.x+p.width,E=p.y+p.height):(k=Math.min(k,p.x),N=Math.min(N,p.y),M=Math.max(M,p.x+p.width),E=Math.max(E,p.y+p.height)))});const w=this.find("Shape");let T=!1;for(let I=0;I<w.length;I++)if(w[I]._isVisible(this)){T=!0;break}return T&&k!==void 0?y={x:k,y:N,width:M-k,height:E-N}:y={x:0,y:0,width:0,height:0},m?y:this._transformedRect(y,x)}};return Ua.Container=V,f.Factory.addComponentsGetterSetter(V,"clip",["x","y","width","height"]),f.Factory.addGetterSetter(V,"clipX",void 0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(V,"clipY",void 0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(V,"clipWidth",void 0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(V,"clipHeight",void 0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(V,"clipFunc"),Ua}var Gd={},Ko={},Zh;function a0(){if(Zh)return Ko;Zh=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.getCapturedShape=V,Ko.createEvent=A,Ko.hasPointerCapture=C,Ko.setPointerCapture=h,Ko.releaseCapture=m;const f=qe(),g=new Map,R=f.Konva._global.PointerEvent!==void 0;function V(x){return g.get(x)}function A(x){return{evt:x,pointerId:x.pointerId}}function C(x,k){return g.get(x)===k}function h(x,k){m(x),k.getStage()&&(g.set(x,k),R&&k._fire("gotpointercapture",A(new PointerEvent("gotpointercapture"))))}function m(x,k){const N=g.get(x);if(!N)return;const M=N.getStage();M&&M.content,g.delete(x),R&&N._fire("lostpointercapture",A(new PointerEvent("lostpointercapture")))}return Ko}var $h;function Z0(){return $h||($h=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Stage=f.stages=void 0;const g=It(),R=Je(),V=Hc(),A=qe(),C=Vc(),h=Zd(),m=qe(),x=a0(),k="Stage",N="string",M="px",E="mouseout",y="mouseleave",v="mouseover",w="mouseenter",T="mousemove",I="mousedown",p="mouseup",c="pointermove",S="pointerdown",L="pointerup",D="pointercancel",X="lostpointercapture",z="pointerout",b="pointerleave",G="pointerover",K="pointerenter",Z="contextmenu",re="touchstart",se="touchend",ee="touchmove",he="touchcancel",P="wheel",O=5,q=[[w,"_pointerenter"],[I,"_pointerdown"],[T,"_pointermove"],[p,"_pointerup"],[y,"_pointerleave"],[re,"_pointerdown"],[ee,"_pointermove"],[se,"_pointerup"],[he,"_pointercancel"],[v,"_pointerover"],[P,"_wheel"],[Z,"_contextmenu"],[S,"_pointerdown"],[c,"_pointermove"],[L,"_pointerup"],[D,"_pointercancel"],[b,"_pointerleave"],[X,"_lostpointercapture"]],U={mouse:{[z]:E,[b]:y,[G]:v,[K]:w,[c]:T,[S]:I,[L]:p,[D]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[z]:"touchout",[b]:"touchleave",[G]:"touchover",[K]:"touchenter",[c]:ee,[S]:re,[L]:se,[D]:he,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[z]:z,[b]:b,[G]:G,[K]:K,[c]:c,[S]:S,[L]:L,[D]:D,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},F=te=>te.indexOf("pointer")>=0?"pointer":te.indexOf("touch")>=0?"touch":"mouse",Q=te=>{const W=F(te);if(W==="pointer")return A.Konva.pointerEventsEnabled&&U.pointer;if(W==="touch")return U.touch;if(W==="mouse")return U.mouse};function J(te={}){return(te.clipFunc||te.clipWidth||te.clipHeight)&&g.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),te}const ce="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";f.stages=[];class ue extends V.Container{constructor(W){super(J(W)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),f.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{J(this.attrs)}),this._checkVisibility()}_validateAdd(W){const ne=W.getType()==="Layer",ve=W.getType()==="FastLayer";ne||ve||g.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const W=this.visible()?"":"none";this.content.style.display=W}setContainer(W){if(typeof W===N){let ne;if(W.charAt(0)==="."){const ve=W.slice(1);W=document.getElementsByClassName(ve)[0]}else W.charAt(0)!=="#"?ne=W:ne=W.slice(1),W=document.getElementById(ne);if(!W)throw"Can not find container in document with id "+ne}return this._setAttr("container",W),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),W.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const W=this.children,ne=W.length;for(let ve=0;ve<ne;ve++)W[ve].clear();return this}clone(W){return W||(W={}),W.container=typeof document<"u"&&document.createElement("div"),V.Container.prototype.clone.call(this,W)}destroy(){super.destroy();const W=this.content;W&&g.Util._isInDocument(W)&&this.container().removeChild(W);const ne=f.stages.indexOf(this);return ne>-1&&f.stages.splice(ne,1),g.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const W=this._pointerPositions[0]||this._changedPointerPositions[0];return W?{x:W.x,y:W.y}:(g.Util.warn(ce),null)}_getPointerById(W){return this._pointerPositions.find(ne=>ne.id===W)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(W){W=W||{},W.x=W.x||0,W.y=W.y||0,W.width=W.width||this.width(),W.height=W.height||this.height();const ne=new C.SceneCanvas({width:W.width,height:W.height,pixelRatio:W.pixelRatio||1}),ve=ne.getContext()._context,we=this.children;return(W.x||W.y)&&ve.translate(-1*W.x,-1*W.y),we.forEach(function(Ne){if(!Ne.isVisible())return;const De=Ne._toKonvaCanvas(W);ve.drawImage(De._canvas,W.x,W.y,De.getWidth()/De.getPixelRatio(),De.getHeight()/De.getPixelRatio())}),ne}getIntersection(W){if(!W)return null;const ne=this.children,ve=ne.length,we=ve-1;for(let Ne=we;Ne>=0;Ne--){const De=ne[Ne].getIntersection(W);if(De)return De}return null}_resizeDOM(){const W=this.width(),ne=this.height();this.content&&(this.content.style.width=W+M,this.content.style.height=ne+M),this.bufferCanvas.setSize(W,ne),this.bufferHitCanvas.setSize(W,ne),this.children.forEach(ve=>{ve.setSize({width:W,height:ne}),ve.draw()})}add(W,...ne){if(arguments.length>1){for(let we=0;we<arguments.length;we++)this.add(arguments[we]);return this}super.add(W);const ve=this.children.length;return ve>O&&g.Util.warn("The stage has "+ve+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),W.setSize({width:this.width(),height:this.height()}),W.draw(),A.Konva.isBrowser&&this.content.appendChild(W.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(W){return x.hasPointerCapture(W,this)}setPointerCapture(W){x.setPointerCapture(W,this)}releaseCapture(W){x.releaseCapture(W,this)}getLayers(){return this.children}_bindContentEvents(){A.Konva.isBrowser&&q.forEach(([W,ne])=>{this.content.addEventListener(W,ve=>{this[ne](ve)},{passive:!1})})}_pointerenter(W){this.setPointersPositions(W);const ne=Q(W.type);ne&&this._fire(ne.pointerenter,{evt:W,target:this,currentTarget:this})}_pointerover(W){this.setPointersPositions(W);const ne=Q(W.type);ne&&this._fire(ne.pointerover,{evt:W,target:this,currentTarget:this})}_getTargetShape(W){let ne=this[W+"targetShape"];return ne&&!ne.getStage()&&(ne=null),ne}_pointerleave(W){const ne=Q(W.type),ve=F(W.type);if(!ne)return;this.setPointersPositions(W);const we=this._getTargetShape(ve),Ne=!(A.Konva.isDragging()||A.Konva.isTransforming())||A.Konva.hitOnDragEnabled;we&&Ne?(we._fireAndBubble(ne.pointerout,{evt:W}),we._fireAndBubble(ne.pointerleave,{evt:W}),this._fire(ne.pointerleave,{evt:W,target:this,currentTarget:this}),this[ve+"targetShape"]=null):Ne&&(this._fire(ne.pointerleave,{evt:W,target:this,currentTarget:this}),this._fire(ne.pointerout,{evt:W,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(W){const ne=Q(W.type),ve=F(W.type);if(!ne)return;this.setPointersPositions(W);let we=!1;this._changedPointerPositions.forEach(Ne=>{const De=this.getIntersection(Ne);if(h.DD.justDragged=!1,A.Konva["_"+ve+"ListenClick"]=!0,!De||!De.isListening()){this[ve+"ClickStartShape"]=void 0;return}A.Konva.capturePointerEventsEnabled&&De.setPointerCapture(Ne.id),this[ve+"ClickStartShape"]=De,De._fireAndBubble(ne.pointerdown,{evt:W,pointerId:Ne.id}),we=!0;const Oe=W.type.indexOf("touch")>=0;De.preventDefault()&&W.cancelable&&Oe&&W.preventDefault()}),we||this._fire(ne.pointerdown,{evt:W,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(W){const ne=Q(W.type),ve=F(W.type);if(!ne||(A.Konva.isDragging()&&h.DD.node.preventDefault()&&W.cancelable&&W.preventDefault(),this.setPointersPositions(W),!(!(A.Konva.isDragging()||A.Konva.isTransforming())||A.Konva.hitOnDragEnabled)))return;const Ne={};let De=!1;const Oe=this._getTargetShape(ve);this._changedPointerPositions.forEach(et=>{const Ge=x.getCapturedShape(et.id)||this.getIntersection(et),Mt=et.id,nt={evt:W,pointerId:Mt},_t=Oe!==Ge;if(_t&&Oe&&(Oe._fireAndBubble(ne.pointerout,{...nt},Ge),Oe._fireAndBubble(ne.pointerleave,{...nt},Ge)),Ge){if(Ne[Ge._id])return;Ne[Ge._id]=!0}Ge&&Ge.isListening()?(De=!0,_t&&(Ge._fireAndBubble(ne.pointerover,{...nt},Oe),Ge._fireAndBubble(ne.pointerenter,{...nt},Oe),this[ve+"targetShape"]=Ge),Ge._fireAndBubble(ne.pointermove,{...nt})):Oe&&(this._fire(ne.pointerover,{evt:W,target:this,currentTarget:this,pointerId:Mt}),this[ve+"targetShape"]=null)}),De||this._fire(ne.pointermove,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(W){const ne=Q(W.type),ve=F(W.type);if(!ne)return;this.setPointersPositions(W);const we=this[ve+"ClickStartShape"],Ne=this[ve+"ClickEndShape"],De={};let Oe=!1;this._changedPointerPositions.forEach(et=>{const Ge=x.getCapturedShape(et.id)||this.getIntersection(et);if(Ge){if(Ge.releaseCapture(et.id),De[Ge._id])return;De[Ge._id]=!0}const Mt=et.id,nt={evt:W,pointerId:Mt};let _t=!1;A.Konva["_"+ve+"InDblClickWindow"]?(_t=!0,clearTimeout(this[ve+"DblTimeout"])):h.DD.justDragged||(A.Konva["_"+ve+"InDblClickWindow"]=!0,clearTimeout(this[ve+"DblTimeout"])),this[ve+"DblTimeout"]=setTimeout(function(){A.Konva["_"+ve+"InDblClickWindow"]=!1},A.Konva.dblClickWindow),Ge&&Ge.isListening()?(Oe=!0,this[ve+"ClickEndShape"]=Ge,Ge._fireAndBubble(ne.pointerup,{...nt}),A.Konva["_"+ve+"ListenClick"]&&we&&we===Ge&&(Ge._fireAndBubble(ne.pointerclick,{...nt}),_t&&Ne&&Ne===Ge&&Ge._fireAndBubble(ne.pointerdblclick,{...nt}))):(this[ve+"ClickEndShape"]=null,A.Konva["_"+ve+"ListenClick"]&&this._fire(ne.pointerclick,{evt:W,target:this,currentTarget:this,pointerId:Mt}),_t&&this._fire(ne.pointerdblclick,{evt:W,target:this,currentTarget:this,pointerId:Mt}))}),Oe||this._fire(ne.pointerup,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),A.Konva["_"+ve+"ListenClick"]=!1,W.cancelable&&ve!=="touch"&&ve!=="pointer"&&W.preventDefault()}_contextmenu(W){this.setPointersPositions(W);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(Z,{evt:W}):this._fire(Z,{evt:W,target:this,currentTarget:this})}_wheel(W){this.setPointersPositions(W);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(P,{evt:W}):this._fire(P,{evt:W,target:this,currentTarget:this})}_pointercancel(W){this.setPointersPositions(W);const ne=x.getCapturedShape(W.pointerId)||this.getIntersection(this.getPointerPosition());ne&&ne._fireAndBubble(L,x.createEvent(W)),x.releaseCapture(W.pointerId)}_lostpointercapture(W){x.releaseCapture(W.pointerId)}setPointersPositions(W){const ne=this._getContentPosition();let ve=null,we=null;W=W||window.event,W.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(W.touches,Ne=>{this._pointerPositions.push({id:Ne.identifier,x:(Ne.clientX-ne.left)/ne.scaleX,y:(Ne.clientY-ne.top)/ne.scaleY})}),Array.prototype.forEach.call(W.changedTouches||W.touches,Ne=>{this._changedPointerPositions.push({id:Ne.identifier,x:(Ne.clientX-ne.left)/ne.scaleX,y:(Ne.clientY-ne.top)/ne.scaleY})})):(ve=(W.clientX-ne.left)/ne.scaleX,we=(W.clientY-ne.top)/ne.scaleY,this.pointerPos={x:ve,y:we},this._pointerPositions=[{x:ve,y:we,id:g.Util._getFirstPointerId(W)}],this._changedPointerPositions=[{x:ve,y:we,id:g.Util._getFirstPointerId(W)}])}_setPointerPosition(W){g.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(W)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const W=this.content.getBoundingClientRect();return{top:W.top,left:W.left,scaleX:W.width/this.content.clientWidth||1,scaleY:W.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new C.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new C.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!A.Konva.isBrowser)return;const W=this.container();if(!W)throw"Stage has no container. A container is required.";W.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),W.appendChild(this.content),this._resizeDOM()}cache(){return g.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(W){W.batchDraw()}),this}}f.Stage=ue,ue.prototype.nodeType=k,(0,m._registerNode)(ue),R.Factory.addGetterSetter(ue,"container"),A.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{f.stages.forEach(te=>{te.batchDraw()})})})(Gd)),Gd}var Ba={},Ud={},ef;function _n(){return ef||(ef=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Shape=f.shapes=void 0;const g=qe(),R=It(),V=Je(),A=qt(),C=$e(),h=qe(),m=a0(),x="hasShadow",k="shadowRGBA",N="patternImage",M="linearGradient",E="radialGradient";let y;function v(){return y||(y=R.Util.createCanvasElement().getContext("2d"),y)}f.shapes={};function w(b){const G=this.attrs.fillRule;G?b.fill(G):b.fill()}function T(b){b.stroke()}function I(b){const G=this.attrs.fillRule;G?b.fill(G):b.fill()}function p(b){b.stroke()}function c(){this._clearCache(x)}function S(){this._clearCache(k)}function L(){this._clearCache(N)}function D(){this._clearCache(M)}function X(){this._clearCache(E)}class z extends A.Node{constructor(G){super(G);let K;for(;K=R.Util.getRandomColor(),!(K&&!(K in f.shapes)););this.colorKey=K,f.shapes[K]=this}getContext(){return R.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return R.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(x,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(N,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const K=v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(K&&K.setTransform){const Z=new R.Transform;Z.translate(this.fillPatternX(),this.fillPatternY()),Z.rotate(g.Konva.getAngle(this.fillPatternRotation())),Z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const re=Z.getMatrix(),se=typeof DOMMatrix>"u"?{a:re[0],b:re[1],c:re[2],d:re[3],e:re[4],f:re[5]}:new DOMMatrix(re);K.setTransform(se)}return K}}_getLinearGradient(){return this._getCache(M,this.__getLinearGradient)}__getLinearGradient(){const G=this.fillLinearGradientColorStops();if(G){const K=v(),Z=this.fillLinearGradientStartPoint(),re=this.fillLinearGradientEndPoint(),se=K.createLinearGradient(Z.x,Z.y,re.x,re.y);for(let ee=0;ee<G.length;ee+=2)se.addColorStop(G[ee],G[ee+1]);return se}}_getRadialGradient(){return this._getCache(E,this.__getRadialGradient)}__getRadialGradient(){const G=this.fillRadialGradientColorStops();if(G){const K=v(),Z=this.fillRadialGradientStartPoint(),re=this.fillRadialGradientEndPoint(),se=K.createRadialGradient(Z.x,Z.y,this.fillRadialGradientStartRadius(),re.x,re.y,this.fillRadialGradientEndRadius());for(let ee=0;ee<G.length;ee+=2)se.addColorStop(G[ee],G[ee+1]);return se}}getShadowRGBA(){return this._getCache(k,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const G=R.Util.colorToRGBA(this.shadowColor());if(G)return"rgba("+G.r+","+G.g+","+G.b+","+G.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const G=this.hitStrokeWidth();return G==="auto"?this.hasStroke():this.strokeEnabled()&&!!G}intersects(G){const K=this.getStage();if(!K)return!1;const Z=K.bufferHitCanvas;return Z.getContext().clear(),this.drawHit(Z,void 0,!0),Z.context.getImageData(Math.round(G.x),Math.round(G.y),1,1).data[3]>0}destroy(){return A.Node.prototype.destroy.call(this),delete f.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(G){var K;if(!((K=this.attrs.perfectDrawEnabled)!==null&&K!==void 0?K:!0))return!1;const re=G||this.hasFill(),se=this.hasStroke(),ee=this.getAbsoluteOpacity()!==1;if(re&&se&&ee)return!0;const he=this.hasShadow(),P=this.shadowForStrokeEnabled();return!!(re&&se&&he&&P)}setStrokeHitEnabled(G){R.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),G?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const G=this.size();return{x:this._centroid?-G.width/2:0,y:this._centroid?-G.height/2:0,width:G.width,height:G.height}}getClientRect(G={}){let K=!1,Z=this.getParent();for(;Z;){if(Z.isCached()){K=!0;break}Z=Z.getParent()}const re=G.skipTransform,se=G.relativeTo||K&&this.getStage()||void 0,ee=this.getSelfRect(),P=!G.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,O=ee.width+P,q=ee.height+P,U=!G.skipShadow&&this.hasShadow(),F=U?this.shadowOffsetX():0,Q=U?this.shadowOffsetY():0,J=O+Math.abs(F),ce=q+Math.abs(Q),ue=U&&this.shadowBlur()||0,te=J+ue*2,W=ce+ue*2,ne={width:te,height:W,x:-(P/2+ue)+Math.min(F,0)+ee.x,y:-(P/2+ue)+Math.min(Q,0)+ee.y};return re?ne:this._transformedRect(ne,se)}drawScene(G,K,Z){const re=this.getLayer(),se=G||re.getCanvas(),ee=se.getContext(),he=this._getCanvasCache(),P=this.getSceneFunc(),O=this.hasShadow();let q;const U=K===this;if(!this.isVisible()&&!U)return this;if(he){ee.save();const F=this.getAbsoluteTransform(K).getMatrix();return ee.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedSceneCanvas(ee),ee.restore(),this}if(!P)return this;if(ee.save(),this._useBufferCanvas()){q=this.getStage();const F=Z||q.bufferCanvas,Q=F.getContext();Q.clear(),Q.save(),Q._applyLineJoin(this);const J=this.getAbsoluteTransform(K).getMatrix();Q.transform(J[0],J[1],J[2],J[3],J[4],J[5]),P.call(this,Q,this),Q.restore();const ce=F.pixelRatio;O&&ee._applyShadow(this),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this),ee.drawImage(F._canvas,F.x||0,F.y||0,F.width/ce,F.height/ce)}else{if(ee._applyLineJoin(this),!U){const F=this.getAbsoluteTransform(K).getMatrix();ee.transform(F[0],F[1],F[2],F[3],F[4],F[5]),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this)}O&&ee._applyShadow(this),P.call(this,ee,this)}return ee.restore(),this}drawHit(G,K,Z=!1){if(!this.shouldDrawHit(K,Z))return this;const re=this.getLayer(),se=G||re.hitCanvas,ee=se&&se.getContext(),he=this.hitFunc()||this.sceneFunc(),P=this._getCanvasCache(),O=P&&P.hit;if(this.colorKey||R.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),O){ee.save();const U=this.getAbsoluteTransform(K).getMatrix();return ee.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(ee),ee.restore(),this}if(!he)return this;if(ee.save(),ee._applyLineJoin(this),!(this===K)){const U=this.getAbsoluteTransform(K).getMatrix();ee.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return he.call(this,ee,this),ee.restore(),this}drawHitFromCache(G=0){const K=this._getCanvasCache(),Z=this._getCachedSceneCanvas(),re=K.hit,se=re.getContext(),ee=re.getWidth(),he=re.getHeight();se.clear(),se.drawImage(Z._canvas,0,0,ee,he);try{const P=se.getImageData(0,0,ee,he),O=P.data,q=O.length,U=R.Util._hexToRgb(this.colorKey);for(let F=0;F<q;F+=4)O[F+3]>G?(O[F]=U.r,O[F+1]=U.g,O[F+2]=U.b,O[F+3]=255):O[F+3]=0;se.putImageData(P,0,0)}catch(P){R.Util.error("Unable to draw hit graph from cached scene canvas. "+P.message)}return this}hasPointerCapture(G){return m.hasPointerCapture(G,this)}setPointerCapture(G){m.setPointerCapture(G,this)}releaseCapture(G){m.releaseCapture(G,this)}}f.Shape=z,z.prototype._fillFunc=w,z.prototype._strokeFunc=T,z.prototype._fillFuncHit=I,z.prototype._strokeFuncHit=p,z.prototype._centroid=!1,z.prototype.nodeType="Shape",(0,h._registerNode)(z),z.prototype.eventListeners={},z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",L),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",D),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",X),V.Factory.addGetterSetter(z,"stroke",void 0,(0,C.getStringOrGradientValidator)()),V.Factory.addGetterSetter(z,"strokeWidth",2,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillAfterStrokeEnabled",!1),V.Factory.addGetterSetter(z,"hitStrokeWidth","auto",(0,C.getNumberOrAutoValidator)()),V.Factory.addGetterSetter(z,"strokeHitEnabled",!0,(0,C.getBooleanValidator)()),V.Factory.addGetterSetter(z,"perfectDrawEnabled",!0,(0,C.getBooleanValidator)()),V.Factory.addGetterSetter(z,"shadowForStrokeEnabled",!0,(0,C.getBooleanValidator)()),V.Factory.addGetterSetter(z,"lineJoin"),V.Factory.addGetterSetter(z,"lineCap"),V.Factory.addGetterSetter(z,"sceneFunc"),V.Factory.addGetterSetter(z,"hitFunc"),V.Factory.addGetterSetter(z,"dash"),V.Factory.addGetterSetter(z,"dashOffset",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"shadowColor",void 0,(0,C.getStringValidator)()),V.Factory.addGetterSetter(z,"shadowBlur",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"shadowOpacity",1,(0,C.getNumberValidator)()),V.Factory.addComponentsGetterSetter(z,"shadowOffset",["x","y"]),V.Factory.addGetterSetter(z,"shadowOffsetX",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"shadowOffsetY",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillPatternImage"),V.Factory.addGetterSetter(z,"fill",void 0,(0,C.getStringOrGradientValidator)()),V.Factory.addGetterSetter(z,"fillPatternX",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillPatternY",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillLinearGradientColorStops"),V.Factory.addGetterSetter(z,"strokeLinearGradientColorStops"),V.Factory.addGetterSetter(z,"fillRadialGradientStartRadius",0),V.Factory.addGetterSetter(z,"fillRadialGradientEndRadius",0),V.Factory.addGetterSetter(z,"fillRadialGradientColorStops"),V.Factory.addGetterSetter(z,"fillPatternRepeat","repeat"),V.Factory.addGetterSetter(z,"fillEnabled",!0),V.Factory.addGetterSetter(z,"strokeEnabled",!0),V.Factory.addGetterSetter(z,"shadowEnabled",!0),V.Factory.addGetterSetter(z,"dashEnabled",!0),V.Factory.addGetterSetter(z,"strokeScaleEnabled",!0),V.Factory.addGetterSetter(z,"fillPriority","color"),V.Factory.addComponentsGetterSetter(z,"fillPatternOffset",["x","y"]),V.Factory.addGetterSetter(z,"fillPatternOffsetX",0,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillPatternOffsetY",0,(0,C.getNumberValidator)()),V.Factory.addComponentsGetterSetter(z,"fillPatternScale",["x","y"]),V.Factory.addGetterSetter(z,"fillPatternScaleX",1,(0,C.getNumberValidator)()),V.Factory.addGetterSetter(z,"fillPatternScaleY",1,(0,C.getNumberValidator)()),V.Factory.addComponentsGetterSetter(z,"fillLinearGradientStartPoint",["x","y"]),V.Factory.addComponentsGetterSetter(z,"strokeLinearGradientStartPoint",["x","y"]),V.Factory.addGetterSetter(z,"fillLinearGradientStartPointX",0),V.Factory.addGetterSetter(z,"strokeLinearGradientStartPointX",0),V.Factory.addGetterSetter(z,"fillLinearGradientStartPointY",0),V.Factory.addGetterSetter(z,"strokeLinearGradientStartPointY",0),V.Factory.addComponentsGetterSetter(z,"fillLinearGradientEndPoint",["x","y"]),V.Factory.addComponentsGetterSetter(z,"strokeLinearGradientEndPoint",["x","y"]),V.Factory.addGetterSetter(z,"fillLinearGradientEndPointX",0),V.Factory.addGetterSetter(z,"strokeLinearGradientEndPointX",0),V.Factory.addGetterSetter(z,"fillLinearGradientEndPointY",0),V.Factory.addGetterSetter(z,"strokeLinearGradientEndPointY",0),V.Factory.addComponentsGetterSetter(z,"fillRadialGradientStartPoint",["x","y"]),V.Factory.addGetterSetter(z,"fillRadialGradientStartPointX",0),V.Factory.addGetterSetter(z,"fillRadialGradientStartPointY",0),V.Factory.addComponentsGetterSetter(z,"fillRadialGradientEndPoint",["x","y"]),V.Factory.addGetterSetter(z,"fillRadialGradientEndPointX",0),V.Factory.addGetterSetter(z,"fillRadialGradientEndPointY",0),V.Factory.addGetterSetter(z,"fillPatternRotation",0),V.Factory.addGetterSetter(z,"fillRule",void 0,(0,C.getStringValidator)()),V.Factory.backCompat(z,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Ud)),Ud}var tf;function u0(){if(tf)return Ba;tf=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.Layer=void 0;const f=It(),g=Hc(),R=qt(),V=Je(),A=Vc(),C=$e(),h=_n(),m=qe(),x="#",k="beforeDraw",N="draw",M=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],E=M.length;class y extends g.Container{constructor(w){super(w),this.canvas=new A.SceneCanvas,this.hitCanvas=new A.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(w){return this.getContext().clear(w),this.getHitCanvas().getContext().clear(w),this}setZIndex(w){super.setZIndex(w);const T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),w<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[w+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){R.Node.prototype.moveToTop.call(this);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!R.Node.prototype.moveUp.call(this))return!1;const T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(R.Node.prototype.moveDown.call(this)){const w=this.getStage();if(w){const T=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(R.Node.prototype.moveToBottom.call(this)){const w=this.getStage();if(w){const T=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const w=this.getNativeCanvasElement();return R.Node.prototype.remove.call(this),w&&w.parentNode&&f.Util._isInDocument(w)&&w.parentNode.removeChild(w),this}getStage(){return this.parent}setSize({width:w,height:T}){return this.canvas.setSize(w,T),this.hitCanvas.setSize(w,T),this._setSmoothEnabled(),this}_validateAdd(w){const T=w.getType();T!=="Group"&&T!=="Shape"&&f.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(w){return w=w||{},w.width=w.width||this.getWidth(),w.height=w.height||this.getHeight(),w.x=w.x!==void 0?w.x:this.x(),w.y=w.y!==void 0?w.y:this.y(),R.Node.prototype._toKonvaCanvas.call(this,w)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){f.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){f.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,f.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(w){if(!this.isListening()||!this.isVisible())return null;let T=1,I=!1;for(;;){for(let p=0;p<E;p++){const c=M[p],S=this._getIntersection({x:w.x+c.x*T,y:w.y+c.y*T}),L=S.shape;if(L)return L;if(I=!!S.antialiased,!S.antialiased)break}if(I)T+=1;else return null}}_getIntersection(w){const T=this.hitCanvas.pixelRatio,I=this.hitCanvas.context.getImageData(Math.round(w.x*T),Math.round(w.y*T),1,1).data,p=I[3];if(p===255){const c=f.Util._rgbToHex(I[0],I[1],I[2]),S=h.shapes[x+c];return S?{shape:S}:{antialiased:!0}}else if(p>0)return{antialiased:!0};return{}}drawScene(w,T,I){const p=this.getLayer(),c=w||p&&p.getCanvas();return this._fire(k,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),g.Container.prototype.drawScene.call(this,c,T,I),this._fire(N,{node:this}),this}drawHit(w,T){const I=this.getLayer(),p=w||I&&I.hitCanvas;return I&&I.clearBeforeDraw()&&I.getHitCanvas().getContext().clear(),g.Container.prototype.drawHit.call(this,p,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(w){f.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(w)}getHitGraphEnabled(w){return f.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const w=this.parent;!!this.hitCanvas._canvas.parentNode?w.content.removeChild(this.hitCanvas._canvas):w.content.appendChild(this.hitCanvas._canvas)}destroy(){return f.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Ba.Layer=y,y.prototype.nodeType="Layer",(0,m._registerNode)(y),V.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),V.Factory.addGetterSetter(y,"clearBeforeDraw",!0),V.Factory.addGetterSetter(y,"hitGraphEnabled",!0,(0,C.getBooleanValidator)()),Ba}var Va={},nf;function $0(){if(nf)return Va;nf=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.FastLayer=void 0;const f=It(),g=u0(),R=qe();let V=class extends g.Layer{constructor(C){super(C),this.listening(!1),f.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Va.FastLayer=V,V.prototype.nodeType="FastLayer",(0,R._registerNode)(V),Va}var Ha={},rf;function $d(){if(rf)return Ha;rf=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.Group=void 0;const f=It(),g=Hc(),R=qe();class V extends g.Container{_validateAdd(C){const h=C.getType();h!=="Group"&&h!=="Shape"&&f.Util.throw("You may only add groups and shapes to groups.")}}return Ha.Group=V,V.prototype.nodeType="Group",(0,R._registerNode)(V),Ha}var Wa={},of;function eh(){if(of)return Wa;of=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.Animation=void 0;const f=qe(),g=It(),R=(function(){return f.glob.performance&&f.glob.performance.now?function(){return f.glob.performance.now()}:function(){return new Date().getTime()}})();let V=class Dl{constructor(C,h){this.id=Dl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:R(),frameRate:0},this.func=C,this.setLayers(h)}setLayers(C){let h=[];return C&&(h=Array.isArray(C)?C:[C]),this.layers=h,this}getLayers(){return this.layers}addLayer(C){const h=this.layers,m=h.length;for(let x=0;x<m;x++)if(h[x]._id===C._id)return!1;return this.layers.push(C),!0}isRunning(){const h=Dl.animations,m=h.length;for(let x=0;x<m;x++)if(h[x].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=R(),Dl._addAnimation(this),this}stop(){return Dl._removeAnimation(this),this}_updateFrameObject(C){this.frame.timeDiff=C-this.frame.lastTime,this.frame.lastTime=C,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(C){this.animations.push(C),this._handleAnimation()}static _removeAnimation(C){const h=C.id,m=this.animations,x=m.length;for(let k=0;k<x;k++)if(m[k].id===h){this.animations.splice(k,1);break}}static _runFrames(){const C={},h=this.animations;for(let m=0;m<h.length;m++){const x=h[m],k=x.layers,N=x.func;x._updateFrameObject(R());const M=k.length;let E;if(N?E=N.call(x,x.frame)!==!1:E=!0,!!E)for(let y=0;y<M;y++){const v=k[y];v._id!==void 0&&(C[v._id]=v)}}for(const m in C)C.hasOwnProperty(m)&&C[m].batchDraw()}static _animationLoop(){const C=Dl;C.animations.length?(C._runFrames(),g.Util.requestAnimFrame(C._animationLoop)):C.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,g.Util.requestAnimFrame(this._animationLoop))}};return Wa.Animation=V,V.animations=[],V.animIdCounter=0,V.animRunning=!1,Wa}var Bd={},sf;function e1(){return sf||(sf=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Easings=f.Tween=void 0;const g=It(),R=eh(),V=qt(),A=qe(),C={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=1,m=2,x=3,k=["fill","stroke","shadowColor"];let N=0;class M{constructor(v,w,T,I,p,c,S){this.prop=v,this.propFunc=w,this.begin=I,this._pos=I,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=S,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=p-this.begin,this.pause()}fire(v){const w=this[v];w&&w()}setTime(v){v>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():v<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=v,this.update())}getTime(){return this._time}setPosition(v){this.prevPos=this._pos,this.propFunc(v),this._pos=v}getPosition(v){return v===void 0&&(v=this._time),this.func(v,this.begin,this._change,this.duration)}play(){this.state=m,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=x,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(v){this.pause(),this._time=v,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const v=this.getTimer()-this._startTime;this.state===m?this.setTime(v):this.state===x&&this.setTime(this.duration-v)}pause(){this.state=h,this.fire("onPause")}getTimer(){return new Date().getTime()}}class E{constructor(v){const w=this,T=v.node,I=T._id,p=v.easing||f.Easings.Linear,c=!!v.yoyo;let S,L;typeof v.duration>"u"?S=.3:v.duration===0?S=.001:S=v.duration,this.node=T,this._id=N++;const D=T.getLayer()||(T instanceof A.Konva.Stage?T.getLayers():null);D||g.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new R.Animation(function(){w.tween.onEnterFrame()},D),this.tween=new M(L,function(X){w._tweenFunc(X)},p,0,1,S*1e3,c),this._addListeners(),E.attrs[I]||(E.attrs[I]={}),E.attrs[I][this._id]||(E.attrs[I][this._id]={}),E.tweens[I]||(E.tweens[I]={});for(L in v)C[L]===void 0&&this._addAttr(L,v[L]);this.reset(),this.onFinish=v.onFinish,this.onReset=v.onReset,this.onUpdate=v.onUpdate}_addAttr(v,w){const T=this.node,I=T._id;let p,c,S,L,D;const X=E.tweens[I][v];X&&delete E.attrs[I][X][v];let z=T.getAttr(v);if(g.Util._isArray(w))if(p=[],c=Math.max(w.length,z.length),v==="points"&&w.length!==z.length&&(w.length>z.length?(L=z,z=g.Util._prepareArrayForTween(z,w,T.closed())):(S=w,w=g.Util._prepareArrayForTween(w,z,T.closed()))),v.indexOf("fill")===0)for(let b=0;b<c;b++)if(b%2===0)p.push(w[b]-z[b]);else{const G=g.Util.colorToRGBA(z[b]);D=g.Util.colorToRGBA(w[b]),z[b]=G,p.push({r:D.r-G.r,g:D.g-G.g,b:D.b-G.b,a:D.a-G.a})}else for(let b=0;b<c;b++)p.push(w[b]-z[b]);else k.indexOf(v)!==-1?(z=g.Util.colorToRGBA(z),D=g.Util.colorToRGBA(w),p={r:D.r-z.r,g:D.g-z.g,b:D.b-z.b,a:D.a-z.a}):p=w-z;E.attrs[I][this._id][v]={start:z,diff:p,end:w,trueEnd:S,trueStart:L},E.tweens[I][v]=this._id}_tweenFunc(v){const w=this.node,T=E.attrs[w._id][this._id];let I,p,c,S,L,D,X,z;for(I in T){if(p=T[I],c=p.start,S=p.diff,z=p.end,g.Util._isArray(c))if(L=[],X=Math.max(c.length,z.length),I.indexOf("fill")===0)for(D=0;D<X;D++)D%2===0?L.push((c[D]||0)+S[D]*v):L.push("rgba("+Math.round(c[D].r+S[D].r*v)+","+Math.round(c[D].g+S[D].g*v)+","+Math.round(c[D].b+S[D].b*v)+","+(c[D].a+S[D].a*v)+")");else for(D=0;D<X;D++)L.push((c[D]||0)+S[D]*v);else k.indexOf(I)!==-1?L="rgba("+Math.round(c.r+S.r*v)+","+Math.round(c.g+S.g*v)+","+Math.round(c.b+S.b*v)+","+(c.a+S.a*v)+")":L=c+S*v;w.setAttr(I,L)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const v=this.node,w=E.attrs[v._id][this._id];w.points&&w.points.trueEnd&&v.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const v=this.node,w=E.attrs[v._id][this._id];w.points&&w.points.trueStart&&v.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(v){return this.tween.seek(v*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const v=this.node._id,w=this._id,T=E.tweens[v];this.pause(),this.anim&&this.anim.stop();for(const I in T)delete E.tweens[v][I];delete E.attrs[v][w],E.tweens[v]&&(Object.keys(E.tweens[v]).length===0&&delete E.tweens[v],Object.keys(E.attrs[v]).length===0&&delete E.attrs[v])}}f.Tween=E,E.attrs={},E.tweens={},V.Node.prototype.to=function(y){const v=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),v&&v()},new E(y).play()},f.Easings={BackEaseIn(y,v,w,T){return w*(y/=T)*y*((1.70158+1)*y-1.70158)+v},BackEaseOut(y,v,w,T){return w*((y=y/T-1)*y*((1.70158+1)*y+1.70158)+1)+v},BackEaseInOut(y,v,w,T){let I=1.70158;return(y/=T/2)<1?w/2*(y*y*(((I*=1.525)+1)*y-I))+v:w/2*((y-=2)*y*(((I*=1.525)+1)*y+I)+2)+v},ElasticEaseIn(y,v,w,T,I,p){let c=0;return y===0?v:(y/=T)===1?v+w:(p||(p=T*.3),!I||I<Math.abs(w)?(I=w,c=p/4):c=p/(2*Math.PI)*Math.asin(w/I),-(I*Math.pow(2,10*(y-=1))*Math.sin((y*T-c)*(2*Math.PI)/p))+v)},ElasticEaseOut(y,v,w,T,I,p){let c=0;return y===0?v:(y/=T)===1?v+w:(p||(p=T*.3),!I||I<Math.abs(w)?(I=w,c=p/4):c=p/(2*Math.PI)*Math.asin(w/I),I*Math.pow(2,-10*y)*Math.sin((y*T-c)*(2*Math.PI)/p)+w+v)},ElasticEaseInOut(y,v,w,T,I,p){let c=0;return y===0?v:(y/=T/2)===2?v+w:(p||(p=T*(.3*1.5)),!I||I<Math.abs(w)?(I=w,c=p/4):c=p/(2*Math.PI)*Math.asin(w/I),y<1?-.5*(I*Math.pow(2,10*(y-=1))*Math.sin((y*T-c)*(2*Math.PI)/p))+v:I*Math.pow(2,-10*(y-=1))*Math.sin((y*T-c)*(2*Math.PI)/p)*.5+w+v)},BounceEaseOut(y,v,w,T){return(y/=T)<1/2.75?w*(7.5625*y*y)+v:y<2/2.75?w*(7.5625*(y-=1.5/2.75)*y+.75)+v:y<2.5/2.75?w*(7.5625*(y-=2.25/2.75)*y+.9375)+v:w*(7.5625*(y-=2.625/2.75)*y+.984375)+v},BounceEaseIn(y,v,w,T){return w-f.Easings.BounceEaseOut(T-y,0,w,T)+v},BounceEaseInOut(y,v,w,T){return y<T/2?f.Easings.BounceEaseIn(y*2,0,w,T)*.5+v:f.Easings.BounceEaseOut(y*2-T,0,w,T)*.5+w*.5+v},EaseIn(y,v,w,T){return w*(y/=T)*y+v},EaseOut(y,v,w,T){return-w*(y/=T)*(y-2)+v},EaseInOut(y,v,w,T){return(y/=T/2)<1?w/2*y*y+v:-w/2*(--y*(y-2)-1)+v},StrongEaseIn(y,v,w,T){return w*(y/=T)*y*y*y*y+v},StrongEaseOut(y,v,w,T){return w*((y=y/T-1)*y*y*y*y+1)+v},StrongEaseInOut(y,v,w,T){return(y/=T/2)<1?w/2*y*y*y*y*y+v:w/2*((y-=2)*y*y*y*y+2)+v},Linear(y,v,w,T){return w*y/T+v}}})(Bd)),Bd}var lf;function Xd(){return lf||(lf=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.Konva=void 0;const g=qe(),R=It(),V=qt(),A=Hc(),C=Z0(),h=u0(),m=$0(),x=$d(),k=Zd(),N=_n(),M=eh(),E=e1(),y=l0(),v=Vc();f.Konva=R.Util._assign(g.Konva,{Util:R.Util,Transform:R.Transform,Node:V.Node,Container:A.Container,Stage:C.Stage,stages:C.stages,Layer:h.Layer,FastLayer:m.FastLayer,Group:x.Group,DD:k.DD,Shape:N.Shape,shapes:N.shapes,Animation:M.Animation,Tween:E.Tween,Easings:E.Easings,Context:y.Context,Canvas:v.Canvas}),f.default=f.Konva})(Od)),Od}var qa={},af;function t1(){if(af)return qa;af=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Arc=void 0;const f=Je(),g=_n(),R=qe(),V=$e(),A=qe();let C=class extends g.Shape{_sceneFunc(m){const x=R.Konva.getAngle(this.angle()),k=this.clockwise();m.beginPath(),m.arc(0,0,this.outerRadius(),0,x,k),m.arc(0,0,this.innerRadius(),x,0,!k),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(m){this.outerRadius(m/2)}setHeight(m){this.outerRadius(m/2)}getSelfRect(){const m=this.innerRadius(),x=this.outerRadius(),k=this.clockwise(),N=R.Konva.getAngle(k?360-this.angle():this.angle()),M=Math.cos(Math.min(N,Math.PI)),E=1,y=Math.sin(Math.min(Math.max(Math.PI,N),3*Math.PI/2)),v=Math.sin(Math.min(N,Math.PI/2)),w=M*(M>0?m:x),T=E*x,I=y*(y>0?m:x),p=v*(v>0?x:m);return{x:w,y:k?-1*p:I,width:T-w,height:p-I}}};return qa.Arc=C,C.prototype._centroid=!0,C.prototype.className="Arc",C.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,A._registerNode)(C),f.Factory.addGetterSetter(C,"innerRadius",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"outerRadius",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"angle",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"clockwise",!1,(0,V.getBooleanValidator)()),qa}var Ka={},Ya={},uf;function c0(){if(uf)return Ya;uf=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.Line=void 0;const f=Je(),g=qe(),R=_n(),V=$e();function A(m,x,k,N,M,E,y){const v=Math.sqrt(Math.pow(k-m,2)+Math.pow(N-x,2)),w=Math.sqrt(Math.pow(M-k,2)+Math.pow(E-N,2)),T=y*v/(v+w),I=y*w/(v+w),p=k-T*(M-m),c=N-T*(E-x),S=k+I*(M-m),L=N+I*(E-x);return[p,c,S,L]}function C(m,x){const k=m.length,N=[];for(let M=2;M<k-2;M+=2){const E=A(m[M-2],m[M-1],m[M],m[M+1],m[M+2],m[M+3],x);isNaN(E[0])||(N.push(E[0]),N.push(E[1]),N.push(m[M]),N.push(m[M+1]),N.push(E[2]),N.push(E[3]))}return N}class h extends R.Shape{constructor(x){super(x),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(x){const k=this.points(),N=k.length,M=this.tension(),E=this.closed(),y=this.bezier();if(!N)return;let v=0;if(x.beginPath(),x.moveTo(k[0],k[1]),M!==0&&N>4){const w=this.getTensionPoints(),T=w.length;for(v=E?0:4,E||x.quadraticCurveTo(w[0],w[1],w[2],w[3]);v<T-2;)x.bezierCurveTo(w[v++],w[v++],w[v++],w[v++],w[v++],w[v++]);E||x.quadraticCurveTo(w[T-2],w[T-1],k[N-2],k[N-1])}else if(y)for(v=2;v<N;)x.bezierCurveTo(k[v++],k[v++],k[v++],k[v++],k[v++],k[v++]);else for(v=2;v<N;v+=2)x.lineTo(k[v],k[v+1]);E?(x.closePath(),x.fillStrokeShape(this)):x.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():C(this.points(),this.tension())}_getTensionPointsClosed(){const x=this.points(),k=x.length,N=this.tension(),M=A(x[k-2],x[k-1],x[0],x[1],x[2],x[3],N),E=A(x[k-4],x[k-3],x[k-2],x[k-1],x[0],x[1],N),y=C(x,N);return[M[2],M[3]].concat(y).concat([E[0],E[1],x[k-2],x[k-1],E[2],E[3],M[0],M[1],x[0],x[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let x=this.points();if(x.length<4)return{x:x[0]||0,y:x[1]||0,width:0,height:0};this.tension()!==0?x=[x[0],x[1],...this._getTensionPoints(),x[x.length-2],x[x.length-1]]:x=this.points();let k=x[0],N=x[0],M=x[1],E=x[1],y,v;for(let w=0;w<x.length/2;w++)y=x[w*2],v=x[w*2+1],k=Math.min(k,y),N=Math.max(N,y),M=Math.min(M,v),E=Math.max(E,v);return{x:k,y:M,width:N-k,height:E-M}}}return Ya.Line=h,h.prototype.className="Line",h.prototype._attrsAffectingSize=["points","bezier","tension"],(0,g._registerNode)(h),f.Factory.addGetterSetter(h,"closed",!1),f.Factory.addGetterSetter(h,"bezier",!1),f.Factory.addGetterSetter(h,"tension",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(h,"points",[],(0,V.getNumberArrayValidator)()),Ya}var Xa={},Vd={},cf;function n1(){return cf||(cf=1,(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.t2length=f.getQuadraticArcLength=f.getCubicArcLength=f.binomialCoefficients=f.cValues=f.tValues=void 0,f.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],f.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],f.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const g=(h,m,x)=>{let k,N;const E=x/2;k=0;for(let y=0;y<20;y++)N=E*f.tValues[20][y]+E,k+=f.cValues[20][y]*V(h,m,N);return E*k};f.getCubicArcLength=g;const R=(h,m,x)=>{x===void 0&&(x=1);const k=h[0]-2*h[1]+h[2],N=m[0]-2*m[1]+m[2],M=2*h[1]-2*h[0],E=2*m[1]-2*m[0],y=4*(k*k+N*N),v=4*(k*M+N*E),w=M*M+E*E;if(y===0)return x*Math.sqrt(Math.pow(h[2]-h[0],2)+Math.pow(m[2]-m[0],2));const T=v/(2*y),I=w/y,p=x+T,c=I-T*T,S=p*p+c>0?Math.sqrt(p*p+c):0,L=T*T+c>0?Math.sqrt(T*T+c):0,D=T+Math.sqrt(T*T+c)!==0?c*Math.log(Math.abs((p+S)/(T+L))):0;return Math.sqrt(y)/2*(p*S-T*L+D)};f.getQuadraticArcLength=R;function V(h,m,x){const k=A(1,x,h),N=A(1,x,m),M=k*k+N*N;return Math.sqrt(M)}const A=(h,m,x)=>{const k=x.length-1;let N,M;if(k===0)return 0;if(h===0){M=0;for(let E=0;E<=k;E++)M+=f.binomialCoefficients[k][E]*Math.pow(1-m,k-E)*Math.pow(m,E)*x[E];return M}else{N=new Array(k);for(let E=0;E<k;E++)N[E]=k*(x[E+1]-x[E]);return A(h-1,m,N)}},C=(h,m,x)=>{let k=1,N=h/m,M=(h-x(N))/m,E=0;for(;k>.001;){const y=x(N+M),v=Math.abs(h-y)/m;if(v<k)k=v,N+=M;else{const w=x(N-M),T=Math.abs(h-w)/m;T<k?(k=T,N-=M):M/=2}if(E++,E>500)break}return N};f.t2length=C})(Vd)),Vd}var df;function th(){if(df)return Xa;df=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Path=void 0;const f=Je(),g=qe(),R=_n(),V=n1();let A=class dr extends R.Shape{constructor(h){super(h),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=dr.parsePathData(this.data()),this.pathLength=dr.getPathLength(this.dataArray)}_sceneFunc(h){const m=this.dataArray;h.beginPath();let x=!1;for(let k=0;k<m.length;k++){const N=m[k].command,M=m[k].points;switch(N){case"L":h.lineTo(M[0],M[1]);break;case"M":h.moveTo(M[0],M[1]);break;case"C":h.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5]);break;case"Q":h.quadraticCurveTo(M[0],M[1],M[2],M[3]);break;case"A":const E=M[0],y=M[1],v=M[2],w=M[3],T=M[4],I=M[5],p=M[6],c=M[7],S=v>w?v:w,L=v>w?1:v/w,D=v>w?w/v:1;h.translate(E,y),h.rotate(p),h.scale(L,D),h.arc(0,0,S,T,T+I,1-c),h.scale(1/L,1/D),h.rotate(-p),h.translate(-E,-y);break;case"z":x=!0,h.closePath();break}}!x&&!this.hasFill()?h.strokeShape(this):h.fillStrokeShape(this)}getSelfRect(){let h=[];this.dataArray.forEach(function(y){if(y.command==="A"){const v=y.points[4],w=y.points[5],T=y.points[4]+w;let I=Math.PI/180;if(Math.abs(v-T)<I&&(I=Math.abs(v-T)),w<0)for(let p=v-I;p>T;p-=I){const c=dr.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],p,0);h.push(c.x,c.y)}else for(let p=v+I;p<T;p+=I){const c=dr.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],p,0);h.push(c.x,c.y)}}else if(y.command==="C")for(let v=0;v<=1;v+=.01){const w=dr.getPointOnCubicBezier(v,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);h.push(w.x,w.y)}else h=h.concat(y.points)});let m=h[0],x=h[0],k=h[1],N=h[1],M,E;for(let y=0;y<h.length/2;y++)M=h[y*2],E=h[y*2+1],isNaN(M)||(m=Math.min(m,M),x=Math.max(x,M)),isNaN(E)||(k=Math.min(k,E),N=Math.max(N,E));return{x:m,y:k,width:x-m,height:N-k}}getLength(){return this.pathLength}getPointAtLength(h){return dr.getPointAtLengthOfDataArray(h,this.dataArray)}static getLineLength(h,m,x,k){return Math.sqrt((x-h)*(x-h)+(k-m)*(k-m))}static getPathLength(h){let m=0;for(let x=0;x<h.length;++x)m+=h[x].pathLength;return m}static getPointAtLengthOfDataArray(h,m){let x,k=0,N=m.length;if(!N)return null;for(;k<N&&h>m[k].pathLength;)h-=m[k].pathLength,++k;if(k===N)return x=m[k-1].points.slice(-2),{x:x[0],y:x[1]};if(h<.01)return m[k].command==="M"?(x=m[k].points.slice(0,2),{x:x[0],y:x[1]}):{x:m[k].start.x,y:m[k].start.y};const M=m[k],E=M.points;switch(M.command){case"L":return dr.getPointOnLine(h,M.start.x,M.start.y,E[0],E[1]);case"C":return dr.getPointOnCubicBezier((0,V.t2length)(h,dr.getPathLength(m),S=>(0,V.getCubicArcLength)([M.start.x,E[0],E[2],E[4]],[M.start.y,E[1],E[3],E[5]],S)),M.start.x,M.start.y,E[0],E[1],E[2],E[3],E[4],E[5]);case"Q":return dr.getPointOnQuadraticBezier((0,V.t2length)(h,dr.getPathLength(m),S=>(0,V.getQuadraticArcLength)([M.start.x,E[0],E[2]],[M.start.y,E[1],E[3]],S)),M.start.x,M.start.y,E[0],E[1],E[2],E[3]);case"A":const y=E[0],v=E[1],w=E[2],T=E[3],I=E[5],p=E[6];let c=E[4];return c+=I*h/M.pathLength,dr.getPointOnEllipticalArc(y,v,w,T,c,p)}return null}static getPointOnLine(h,m,x,k,N,M,E){M=M??m,E=E??x;const y=this.getLineLength(m,x,k,N);if(y<1e-10)return{x:m,y:x};if(k===m)return{x:M,y:E+(N>x?h:-h)};const v=(N-x)/(k-m),w=Math.sqrt(h*h/(1+v*v))*(k<m?-1:1),T=v*w;if(Math.abs(E-x-v*(M-m))<1e-10)return{x:M+w,y:E+T};const I=((M-m)*(k-m)+(E-x)*(N-x))/(y*y),p=m+I*(k-m),c=x+I*(N-x),S=this.getLineLength(M,E,p,c),L=Math.sqrt(h*h-S*S),D=Math.sqrt(L*L/(1+v*v))*(k<m?-1:1),X=v*D;return{x:p+D,y:c+X}}static getPointOnCubicBezier(h,m,x,k,N,M,E,y,v){function w(L){return L*L*L}function T(L){return 3*L*L*(1-L)}function I(L){return 3*L*(1-L)*(1-L)}function p(L){return(1-L)*(1-L)*(1-L)}const c=y*w(h)+M*T(h)+k*I(h)+m*p(h),S=v*w(h)+E*T(h)+N*I(h)+x*p(h);return{x:c,y:S}}static getPointOnQuadraticBezier(h,m,x,k,N,M,E){function y(p){return p*p}function v(p){return 2*p*(1-p)}function w(p){return(1-p)*(1-p)}const T=M*y(h)+k*v(h)+m*w(h),I=E*y(h)+N*v(h)+x*w(h);return{x:T,y:I}}static getPointOnEllipticalArc(h,m,x,k,N,M){const E=Math.cos(M),y=Math.sin(M),v={x:x*Math.cos(N),y:k*Math.sin(N)};return{x:h+(v.x*E-v.y*y),y:m+(v.x*y+v.y*E)}}static parsePathData(h){if(!h)return[];let m=h;const x=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];m=m.replace(new RegExp(" ","g"),",");for(let T=0;T<x.length;T++)m=m.replace(new RegExp(x[T],"g"),"|"+x[T]);const k=m.split("|"),N=[],M=[];let E=0,y=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let w;for(let T=1;T<k.length;T++){let I=k[T],p=I.charAt(0);for(I=I.slice(1),M.length=0;w=v.exec(I);)M.push(w[0]);const c=[];for(let S=0,L=M.length;S<L;S++){if(M[S]==="00"){c.push(0,0);continue}const D=parseFloat(M[S]);isNaN(D)?c.push(0):c.push(D)}for(;c.length>0&&!isNaN(c[0]);){let S="",L=[];const D=E,X=y;let z,b,G,K,Z,re,se,ee,he,P;switch(p){case"l":E+=c.shift(),y+=c.shift(),S="L",L.push(E,y);break;case"L":E=c.shift(),y=c.shift(),L.push(E,y);break;case"m":const O=c.shift(),q=c.shift();if(E+=O,y+=q,S="M",N.length>2&&N[N.length-1].command==="z"){for(let U=N.length-2;U>=0;U--)if(N[U].command==="M"){E=N[U].points[0]+O,y=N[U].points[1]+q;break}}L.push(E,y),p="l";break;case"M":E=c.shift(),y=c.shift(),S="M",L.push(E,y),p="L";break;case"h":E+=c.shift(),S="L",L.push(E,y);break;case"H":E=c.shift(),S="L",L.push(E,y);break;case"v":y+=c.shift(),S="L",L.push(E,y);break;case"V":y=c.shift(),S="L",L.push(E,y);break;case"C":L.push(c.shift(),c.shift(),c.shift(),c.shift()),E=c.shift(),y=c.shift(),L.push(E,y);break;case"c":L.push(E+c.shift(),y+c.shift(),E+c.shift(),y+c.shift()),E+=c.shift(),y+=c.shift(),S="C",L.push(E,y);break;case"S":b=E,G=y,z=N[N.length-1],z.command==="C"&&(b=E+(E-z.points[2]),G=y+(y-z.points[3])),L.push(b,G,c.shift(),c.shift()),E=c.shift(),y=c.shift(),S="C",L.push(E,y);break;case"s":b=E,G=y,z=N[N.length-1],z.command==="C"&&(b=E+(E-z.points[2]),G=y+(y-z.points[3])),L.push(b,G,E+c.shift(),y+c.shift()),E+=c.shift(),y+=c.shift(),S="C",L.push(E,y);break;case"Q":L.push(c.shift(),c.shift()),E=c.shift(),y=c.shift(),L.push(E,y);break;case"q":L.push(E+c.shift(),y+c.shift()),E+=c.shift(),y+=c.shift(),S="Q",L.push(E,y);break;case"T":b=E,G=y,z=N[N.length-1],z.command==="Q"&&(b=E+(E-z.points[0]),G=y+(y-z.points[1])),E=c.shift(),y=c.shift(),S="Q",L.push(b,G,E,y);break;case"t":b=E,G=y,z=N[N.length-1],z.command==="Q"&&(b=E+(E-z.points[0]),G=y+(y-z.points[1])),E+=c.shift(),y+=c.shift(),S="Q",L.push(b,G,E,y);break;case"A":K=c.shift(),Z=c.shift(),re=c.shift(),se=c.shift(),ee=c.shift(),he=E,P=y,E=c.shift(),y=c.shift(),S="A",L=this.convertEndpointToCenterParameterization(he,P,E,y,se,ee,K,Z,re);break;case"a":K=c.shift(),Z=c.shift(),re=c.shift(),se=c.shift(),ee=c.shift(),he=E,P=y,E+=c.shift(),y+=c.shift(),S="A",L=this.convertEndpointToCenterParameterization(he,P,E,y,se,ee,K,Z,re);break}N.push({command:S||p,points:L,start:{x:D,y:X},pathLength:this.calcLength(D,X,S||p,L)})}(p==="z"||p==="Z")&&N.push({command:"z",points:[],start:void 0,pathLength:0})}return N}static calcLength(h,m,x,k){let N,M,E,y;const v=dr;switch(x){case"L":return v.getLineLength(h,m,k[0],k[1]);case"C":return(0,V.getCubicArcLength)([h,k[0],k[2],k[4]],[m,k[1],k[3],k[5]],1);case"Q":return(0,V.getQuadraticArcLength)([h,k[0],k[2]],[m,k[1],k[3]],1);case"A":N=0;const w=k[4],T=k[5],I=k[4]+T;let p=Math.PI/180;if(Math.abs(w-I)<p&&(p=Math.abs(w-I)),M=v.getPointOnEllipticalArc(k[0],k[1],k[2],k[3],w,0),T<0)for(y=w-p;y>I;y-=p)E=v.getPointOnEllipticalArc(k[0],k[1],k[2],k[3],y,0),N+=v.getLineLength(M.x,M.y,E.x,E.y),M=E;else for(y=w+p;y<I;y+=p)E=v.getPointOnEllipticalArc(k[0],k[1],k[2],k[3],y,0),N+=v.getLineLength(M.x,M.y,E.x,E.y),M=E;return E=v.getPointOnEllipticalArc(k[0],k[1],k[2],k[3],I,0),N+=v.getLineLength(M.x,M.y,E.x,E.y),N}return 0}static convertEndpointToCenterParameterization(h,m,x,k,N,M,E,y,v){const w=v*(Math.PI/180),T=Math.cos(w)*(h-x)/2+Math.sin(w)*(m-k)/2,I=-1*Math.sin(w)*(h-x)/2+Math.cos(w)*(m-k)/2,p=T*T/(E*E)+I*I/(y*y);p>1&&(E*=Math.sqrt(p),y*=Math.sqrt(p));let c=Math.sqrt((E*E*(y*y)-E*E*(I*I)-y*y*(T*T))/(E*E*(I*I)+y*y*(T*T)));N===M&&(c*=-1),isNaN(c)&&(c=0);const S=c*E*I/y,L=c*-y*T/E,D=(h+x)/2+Math.cos(w)*S-Math.sin(w)*L,X=(m+k)/2+Math.sin(w)*S+Math.cos(w)*L,z=function(ee){return Math.sqrt(ee[0]*ee[0]+ee[1]*ee[1])},b=function(ee,he){return(ee[0]*he[0]+ee[1]*he[1])/(z(ee)*z(he))},G=function(ee,he){return(ee[0]*he[1]<ee[1]*he[0]?-1:1)*Math.acos(b(ee,he))},K=G([1,0],[(T-S)/E,(I-L)/y]),Z=[(T-S)/E,(I-L)/y],re=[(-1*T-S)/E,(-1*I-L)/y];let se=G(Z,re);return b(Z,re)<=-1&&(se=Math.PI),b(Z,re)>=1&&(se=0),M===0&&se>0&&(se=se-2*Math.PI),M===1&&se<0&&(se=se+2*Math.PI),[D,X,E,y,K,se,w,M]}};return Xa.Path=A,A.prototype.className="Path",A.prototype._attrsAffectingSize=["data"],(0,g._registerNode)(A),f.Factory.addGetterSetter(A,"data"),Xa}var hf;function r1(){if(hf)return Ka;hf=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.Arrow=void 0;const f=Je(),g=c0(),R=$e(),V=qe(),A=th();let C=class extends g.Line{_sceneFunc(m){super._sceneFunc(m);const x=Math.PI*2,k=this.points();let N=k;const M=this.tension()!==0&&k.length>4;M&&(N=this.getTensionPoints());const E=this.pointerLength(),y=k.length;let v,w;if(M){const p=[N[N.length-4],N[N.length-3],N[N.length-2],N[N.length-1],k[y-2],k[y-1]],c=A.Path.calcLength(N[N.length-4],N[N.length-3],"C",p),S=A.Path.getPointOnQuadraticBezier(Math.min(1,1-E/c),p[0],p[1],p[2],p[3],p[4],p[5]);v=k[y-2]-S.x,w=k[y-1]-S.y}else v=k[y-2]-k[y-4],w=k[y-1]-k[y-3];const T=(Math.atan2(w,v)+x)%x,I=this.pointerWidth();this.pointerAtEnding()&&(m.save(),m.beginPath(),m.translate(k[y-2],k[y-1]),m.rotate(T),m.moveTo(0,0),m.lineTo(-E,I/2),m.lineTo(-E,-I/2),m.closePath(),m.restore(),this.__fillStroke(m)),this.pointerAtBeginning()&&(m.save(),m.beginPath(),m.translate(k[0],k[1]),M?(v=(N[0]+N[2])/2-k[0],w=(N[1]+N[3])/2-k[1]):(v=k[2]-k[0],w=k[3]-k[1]),m.rotate((Math.atan2(-w,-v)+x)%x),m.moveTo(0,0),m.lineTo(-E,I/2),m.lineTo(-E,-I/2),m.closePath(),m.restore(),this.__fillStroke(m))}__fillStroke(m){const x=this.dashEnabled();x&&(this.attrs.dashEnabled=!1,m.setLineDash([])),m.fillStrokeShape(this),x&&(this.attrs.dashEnabled=!0)}getSelfRect(){const m=super.getSelfRect(),x=this.pointerWidth()/2;return{x:m.x,y:m.y-x,width:m.width,height:m.height+x*2}}};return Ka.Arrow=C,C.prototype.className="Arrow",(0,V._registerNode)(C),f.Factory.addGetterSetter(C,"pointerLength",10,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(C,"pointerWidth",10,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(C,"pointerAtBeginning",!1),f.Factory.addGetterSetter(C,"pointerAtEnding",!0),Ka}var Qa={},ff;function i1(){if(ff)return Qa;ff=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Circle=void 0;const f=Je(),g=_n(),R=$e(),V=qe();let A=class extends g.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius()!==h/2&&this.radius(h/2)}setHeight(h){this.radius()!==h/2&&this.radius(h/2)}};return Qa.Circle=A,A.prototype._centroid=!0,A.prototype.className="Circle",A.prototype._attrsAffectingSize=["radius"],(0,V._registerNode)(A),f.Factory.addGetterSetter(A,"radius",0,(0,R.getNumberValidator)()),Qa}var Ja={},pf;function o1(){if(pf)return Ja;pf=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.Ellipse=void 0;const f=Je(),g=_n(),R=$e(),V=qe();let A=class extends g.Shape{_sceneFunc(h){const m=this.radiusX(),x=this.radiusY();h.beginPath(),h.save(),m!==x&&h.scale(1,x/m),h.arc(0,0,m,0,Math.PI*2,!1),h.restore(),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(h){this.radiusX(h/2)}setHeight(h){this.radiusY(h/2)}};return Ja.Ellipse=A,A.prototype.className="Ellipse",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,V._registerNode)(A),f.Factory.addComponentsGetterSetter(A,"radius",["x","y"]),f.Factory.addGetterSetter(A,"radiusX",0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(A,"radiusY",0,(0,R.getNumberValidator)()),Ja}var Za={},gf;function s1(){if(gf)return Za;gf=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.Image=void 0;const f=It(),g=Je(),R=_n(),V=qe(),A=$e();class C extends R.Shape{constructor(m){super(m),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",x=>{this._removeImageLoad(x.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const m=this.image();m&&m.complete||m&&m.readyState===4||m&&m.addEventListener&&m.addEventListener("load",this._loadListener)}_removeImageLoad(m){m&&m.removeEventListener&&m.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const m=!!this.cornerRadius(),x=this.hasShadow();return m&&x?!0:super._useBufferCanvas(!0)}_sceneFunc(m){const x=this.getWidth(),k=this.getHeight(),N=this.cornerRadius(),M=this.attrs.image;let E;if(M){const y=this.attrs.cropWidth,v=this.attrs.cropHeight;y&&v?E=[M,this.cropX(),this.cropY(),y,v,0,0,x,k]:E=[M,0,0,x,k]}(this.hasFill()||this.hasStroke()||N)&&(m.beginPath(),N?f.Util.drawRoundedRectPath(m,x,k,N):m.rect(0,0,x,k),m.closePath(),m.fillStrokeShape(this)),M&&(N&&m.clip(),m.drawImage.apply(m,E))}_hitFunc(m){const x=this.width(),k=this.height(),N=this.cornerRadius();m.beginPath(),N?f.Util.drawRoundedRectPath(m,x,k,N):m.rect(0,0,x,k),m.closePath(),m.fillStrokeShape(this)}getWidth(){var m,x;return(m=this.attrs.width)!==null&&m!==void 0?m:(x=this.image())===null||x===void 0?void 0:x.width}getHeight(){var m,x;return(m=this.attrs.height)!==null&&m!==void 0?m:(x=this.image())===null||x===void 0?void 0:x.height}static fromURL(m,x,k=null){const N=f.Util.createImageElement();N.onload=function(){const M=new C({image:N});x(M)},N.onerror=k,N.crossOrigin="Anonymous",N.src=m}}return Za.Image=C,C.prototype.className="Image",(0,V._registerNode)(C),g.Factory.addGetterSetter(C,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),g.Factory.addGetterSetter(C,"image"),g.Factory.addComponentsGetterSetter(C,"crop",["x","y","width","height"]),g.Factory.addGetterSetter(C,"cropX",0,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(C,"cropY",0,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(C,"cropWidth",0,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(C,"cropHeight",0,(0,A.getNumberValidator)()),Za}var Ms={},mf;function l1(){if(mf)return Ms;mf=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.Tag=Ms.Label=void 0;const f=Je(),g=_n(),R=$d(),V=$e(),A=qe(),C=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],h="Change.konva",m="none",x="up",k="right",N="down",M="left",E=C.length;let y=class extends R.Group{constructor(T){super(T),this.on("add.konva",function(I){this._addListeners(I.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){let I=this,p;const c=function(){I._sync()};for(p=0;p<E;p++)T.on(C[p]+h,c)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let T=this.getText(),I=this.getTag(),p,c,S,L,D,X,z;if(T&&I){switch(p=T.width(),c=T.height(),S=I.pointerDirection(),L=I.pointerWidth(),z=I.pointerHeight(),D=0,X=0,S){case x:D=p/2,X=-1*z;break;case k:D=p+L,X=c/2;break;case N:D=p/2,X=c+z;break;case M:D=-1*L,X=c/2;break}I.setAttrs({x:-1*D,y:-1*X,width:p,height:c}),T.setAttrs({x:-1*D,y:-1*X})}}};Ms.Label=y,y.prototype.className="Label",(0,A._registerNode)(y);class v extends g.Shape{_sceneFunc(T){const I=this.width(),p=this.height(),c=this.pointerDirection(),S=this.pointerWidth(),L=this.pointerHeight(),D=this.cornerRadius();let X=0,z=0,b=0,G=0;typeof D=="number"?X=z=b=G=Math.min(D,I/2,p/2):(X=Math.min(D[0]||0,I/2,p/2),z=Math.min(D[1]||0,I/2,p/2),G=Math.min(D[2]||0,I/2,p/2),b=Math.min(D[3]||0,I/2,p/2)),T.beginPath(),T.moveTo(X,0),c===x&&(T.lineTo((I-S)/2,0),T.lineTo(I/2,-1*L),T.lineTo((I+S)/2,0)),T.lineTo(I-z,0),T.arc(I-z,z,z,Math.PI*3/2,0,!1),c===k&&(T.lineTo(I,(p-L)/2),T.lineTo(I+S,p/2),T.lineTo(I,(p+L)/2)),T.lineTo(I,p-G),T.arc(I-G,p-G,G,0,Math.PI/2,!1),c===N&&(T.lineTo((I+S)/2,p),T.lineTo(I/2,p+L),T.lineTo((I-S)/2,p)),T.lineTo(b,p),T.arc(b,p-b,b,Math.PI/2,Math.PI,!1),c===M&&(T.lineTo(0,(p+L)/2),T.lineTo(-1*S,p/2),T.lineTo(0,(p-L)/2)),T.lineTo(0,X),T.arc(X,X,X,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){let T=0,I=0,p=this.pointerWidth(),c=this.pointerHeight(),S=this.pointerDirection(),L=this.width(),D=this.height();return S===x?(I-=c,D+=c):S===N?D+=c:S===M?(T-=p*1.5,L+=p):S===k&&(L+=p*1.5),{x:T,y:I,width:L,height:D}}}return Ms.Tag=v,v.prototype.className="Tag",(0,A._registerNode)(v),f.Factory.addGetterSetter(v,"pointerDirection",m),f.Factory.addGetterSetter(v,"pointerWidth",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(v,"pointerHeight",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(v,"cornerRadius",0,(0,V.getNumberOrArrayOfNumbersValidator)(4)),Ms}var $a={},vf;function d0(){if(vf)return $a;vf=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Rect=void 0;const f=Je(),g=_n(),R=qe(),V=It(),A=$e();let C=class extends g.Shape{_sceneFunc(m){const x=this.cornerRadius(),k=this.width(),N=this.height();m.beginPath(),x?V.Util.drawRoundedRectPath(m,k,N,x):m.rect(0,0,k,N),m.closePath(),m.fillStrokeShape(this)}};return $a.Rect=C,C.prototype.className="Rect",(0,R._registerNode)(C),f.Factory.addGetterSetter(C,"cornerRadius",0,(0,A.getNumberOrArrayOfNumbersValidator)(4)),$a}var eu={},yf;function a1(){if(yf)return eu;yf=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.RegularPolygon=void 0;const f=Je(),g=_n(),R=$e(),V=qe();let A=class extends g.Shape{_sceneFunc(h){const m=this._getPoints();h.beginPath(),h.moveTo(m[0].x,m[0].y);for(let x=1;x<m.length;x++)h.lineTo(m[x].x,m[x].y);h.closePath(),h.fillStrokeShape(this)}_getPoints(){const h=this.attrs.sides,m=this.attrs.radius||0,x=[];for(let k=0;k<h;k++)x.push({x:m*Math.sin(k*2*Math.PI/h),y:-1*m*Math.cos(k*2*Math.PI/h)});return x}getSelfRect(){const h=this._getPoints();let m=h[0].x,x=h[0].y,k=h[0].x,N=h[0].y;return h.forEach(M=>{m=Math.min(m,M.x),x=Math.max(x,M.x),k=Math.min(k,M.y),N=Math.max(N,M.y)}),{x:m,y:k,width:x-m,height:N-k}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius(h/2)}setHeight(h){this.radius(h/2)}};return eu.RegularPolygon=A,A.prototype.className="RegularPolygon",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["radius"],(0,V._registerNode)(A),f.Factory.addGetterSetter(A,"radius",0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(A,"sides",0,(0,R.getNumberValidator)()),eu}var tu={},_f;function u1(){if(_f)return tu;_f=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.Ring=void 0;const f=Je(),g=_n(),R=$e(),V=qe(),A=Math.PI*2;let C=class extends g.Shape{_sceneFunc(m){m.beginPath(),m.arc(0,0,this.innerRadius(),0,A,!1),m.moveTo(this.outerRadius(),0),m.arc(0,0,this.outerRadius(),A,0,!0),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(m){this.outerRadius(m/2)}setHeight(m){this.outerRadius(m/2)}};return tu.Ring=C,C.prototype.className="Ring",C.prototype._centroid=!0,C.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,V._registerNode)(C),f.Factory.addGetterSetter(C,"innerRadius",0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(C,"outerRadius",0,(0,R.getNumberValidator)()),tu}var nu={},xf;function c1(){if(xf)return nu;xf=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.Sprite=void 0;const f=Je(),g=_n(),R=eh(),V=$e(),A=qe();let C=class extends g.Shape{constructor(m){super(m),this._updated=!0,this.anim=new R.Animation(()=>{const x=this._updated;return this._updated=!1,x}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(m){const x=this.animation(),k=this.frameIndex(),N=k*4,M=this.animations()[x],E=this.frameOffsets(),y=M[N+0],v=M[N+1],w=M[N+2],T=M[N+3],I=this.image();if((this.hasFill()||this.hasStroke())&&(m.beginPath(),m.rect(0,0,w,T),m.closePath(),m.fillStrokeShape(this)),I)if(E){const p=E[x],c=k*2;m.drawImage(I,y,v,w,T,p[c+0],p[c+1],w,T)}else m.drawImage(I,y,v,w,T,0,0,w,T)}_hitFunc(m){const x=this.animation(),k=this.frameIndex(),N=k*4,M=this.animations()[x],E=this.frameOffsets(),y=M[N+2],v=M[N+3];if(m.beginPath(),E){const w=E[x],T=k*2;m.rect(w[T+0],w[T+1],y,v)}else m.rect(0,0,y,v);m.closePath(),m.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const m=this;this.interval=setInterval(function(){m._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const m=this.getLayer();this.anim.setLayers(m),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const m=this.frameIndex(),x=this.animation(),k=this.animations(),N=k[x],M=N.length/4;m<M-1?this.frameIndex(m+1):this.frameIndex(0)}};return nu.Sprite=C,C.prototype.className="Sprite",(0,A._registerNode)(C),f.Factory.addGetterSetter(C,"animation"),f.Factory.addGetterSetter(C,"animations"),f.Factory.addGetterSetter(C,"frameOffsets"),f.Factory.addGetterSetter(C,"image"),f.Factory.addGetterSetter(C,"frameIndex",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"frameRate",17,(0,V.getNumberValidator)()),f.Factory.backCompat(C,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),nu}var ru={},Sf;function d1(){if(Sf)return ru;Sf=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.Star=void 0;const f=Je(),g=_n(),R=$e(),V=qe();let A=class extends g.Shape{_sceneFunc(h){const m=this.innerRadius(),x=this.outerRadius(),k=this.numPoints();h.beginPath(),h.moveTo(0,0-x);for(let N=1;N<k*2;N++){const M=N%2===0?x:m,E=M*Math.sin(N*Math.PI/k),y=-1*M*Math.cos(N*Math.PI/k);h.lineTo(E,y)}h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}};return ru.Star=A,A.prototype.className="Star",A.prototype._centroid=!0,A.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,V._registerNode)(A),f.Factory.addGetterSetter(A,"numPoints",5,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(A,"innerRadius",0,(0,R.getNumberValidator)()),f.Factory.addGetterSetter(A,"outerRadius",0,(0,R.getNumberValidator)()),ru}var zl={},wf;function h0(){if(wf)return zl;wf=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.Text=void 0,zl.stringToArray=h;const f=It(),g=Je(),R=_n(),V=qe(),A=$e(),C=qe();function h(Q){return[...Q].reduce((J,ce,ue,te)=>{if(new RegExp("\\p{Emoji}","u").test(ce)){const W=te[ue+1];W&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(W)?(J.push(ce+W),te[ue+1]=""):J.push(ce)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ce+(te[ue+1]||""))?J.push(ce+te[ue+1]):ue>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ce)?J[J.length-1]+=ce:ce&&J.push(ce);return J},[])}const m="auto",x="center",k="inherit",N="justify",M="Change.konva",E="2d",y="-",v="left",w="text",T="Text",I="top",p="bottom",c="middle",S="normal",L="px ",D=" ",X="right",z="rtl",b="word",G="char",K="none",Z="",re=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],se=re.length;function ee(Q){return Q.split(",").map(J=>{J=J.trim();const ce=J.indexOf(" ")>=0,ue=J.indexOf('"')>=0||J.indexOf("'")>=0;return ce&&!ue&&(J=`"${J}"`),J}).join(", ")}let he;function P(){return he||(he=f.Util.createCanvasElement().getContext(E),he)}function O(Q){Q.fillText(this._partialText,this._partialTextX,this._partialTextY)}function q(Q){Q.setAttr("miterLimit",2),Q.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function U(Q){return Q=Q||{},!Q.fillLinearGradientColorStops&&!Q.fillRadialGradientColorStops&&!Q.fillPatternImage&&(Q.fill=Q.fill||"black"),Q}let F=class extends R.Shape{constructor(J){super(U(J)),this._partialTextX=0,this._partialTextY=0;for(let ce=0;ce<se;ce++)this.on(re[ce]+M,this._setTextData);this._setTextData()}_sceneFunc(J){const ce=this.textArr,ue=ce.length;if(!this.text())return;let te=this.padding(),W=this.fontSize(),ne=this.lineHeight()*W,ve=this.verticalAlign(),we=this.direction(),Ne=0,De=this.align(),Oe=this.getWidth(),et=this.letterSpacing(),Ge=this.fill(),Mt=this.textDecoration(),nt=Mt.indexOf("underline")!==-1,_t=Mt.indexOf("line-through")!==-1,xr;we=we===k?J.direction:we;let Et=ne/2,$n=c;if(V.Konva._fixTextRendering){const lt=this.measureSize("M");$n="alphabetic",Et=(lt.fontBoundingBoxAscent-lt.fontBoundingBoxDescent)/2+ne/2}for(we===z&&J.setAttr("direction",we),J.setAttr("font",this._getContextFont()),J.setAttr("textBaseline",$n),J.setAttr("textAlign",v),ve===c?Ne=(this.getHeight()-ue*ne-te*2)/2:ve===p&&(Ne=this.getHeight()-ue*ne-te*2),J.translate(te,Ne+te),xr=0;xr<ue;xr++){let lt=0,Ln=0;const $t=ce[xr],Sr=$t.text,en=$t.width,er=$t.lastInParagraph;if(J.save(),De===X?lt+=Oe-en-te*2:De===x&&(lt+=(Oe-en-te*2)/2),nt){J.save(),J.beginPath();const un=V.Konva._fixTextRendering?Math.round(W/4):Math.round(W/2),bn=lt,Ft=Et+Ln+un;J.moveTo(bn,Ft);const At=De===N&&!er?Oe-te*2:en;J.lineTo(bn+Math.round(At),Ft),J.lineWidth=W/15;const Si=this._getLinearGradient();J.strokeStyle=Si||Ge,J.stroke(),J.restore()}if(_t){J.save(),J.beginPath();const un=V.Konva._fixTextRendering?-Math.round(W/4):0;J.moveTo(lt,Et+Ln+un);const bn=De===N&&!er?Oe-te*2:en;J.lineTo(lt+Math.round(bn),Et+Ln+un),J.lineWidth=W/15;const Ft=this._getLinearGradient();J.strokeStyle=Ft||Ge,J.stroke(),J.restore()}if(we!==z&&(et!==0||De===N)){const un=Sr.split(" ").length-1,bn=h(Sr);for(let Ft=0;Ft<bn.length;Ft++){const At=bn[Ft];At===" "&&!er&&De===N&&(lt+=(Oe-te*2-en)/un),this._partialTextX=lt,this._partialTextY=Et+Ln,this._partialText=At,J.fillStrokeShape(this),lt+=this.measureSize(At).width+et}}else et!==0&&J.setAttr("letterSpacing",`${et}px`),this._partialTextX=lt,this._partialTextY=Et+Ln,this._partialText=Sr,J.fillStrokeShape(this);J.restore(),ue>1&&(Et+=ne)}}_hitFunc(J){const ce=this.getWidth(),ue=this.getHeight();J.beginPath(),J.rect(0,0,ce,ue),J.closePath(),J.fillStrokeShape(this)}setText(J){const ce=f.Util._isString(J)?J:J==null?"":J+"";return this._setAttr(w,ce),this}getWidth(){return this.attrs.width===m||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===m||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return f.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(J){var ce,ue,te,W,ne,ve,we,Ne,De,Oe,et;let Ge=P(),Mt=this.fontSize(),nt;Ge.save(),Ge.font=this._getContextFont(),nt=Ge.measureText(J),Ge.restore();const _t=Mt/100;return{actualBoundingBoxAscent:(ce=nt.actualBoundingBoxAscent)!==null&&ce!==void 0?ce:71.58203125*_t,actualBoundingBoxDescent:(ue=nt.actualBoundingBoxDescent)!==null&&ue!==void 0?ue:0,actualBoundingBoxLeft:(te=nt.actualBoundingBoxLeft)!==null&&te!==void 0?te:-7.421875*_t,actualBoundingBoxRight:(W=nt.actualBoundingBoxRight)!==null&&W!==void 0?W:75.732421875*_t,alphabeticBaseline:(ne=nt.alphabeticBaseline)!==null&&ne!==void 0?ne:0,emHeightAscent:(ve=nt.emHeightAscent)!==null&&ve!==void 0?ve:100*_t,emHeightDescent:(we=nt.emHeightDescent)!==null&&we!==void 0?we:-20*_t,fontBoundingBoxAscent:(Ne=nt.fontBoundingBoxAscent)!==null&&Ne!==void 0?Ne:91*_t,fontBoundingBoxDescent:(De=nt.fontBoundingBoxDescent)!==null&&De!==void 0?De:21*_t,hangingBaseline:(Oe=nt.hangingBaseline)!==null&&Oe!==void 0?Oe:72.80000305175781*_t,ideographicBaseline:(et=nt.ideographicBaseline)!==null&&et!==void 0?et:-21*_t,width:nt.width,height:Mt}}_getContextFont(){return this.fontStyle()+D+this.fontVariant()+D+(this.fontSize()+L)+ee(this.fontFamily())}_addTextLine(J){this.align()===N&&(J=J.trim());const ue=this._getTextWidth(J);return this.textArr.push({text:J,width:ue,lastInParagraph:!1})}_getTextWidth(J){const ce=this.letterSpacing(),ue=J.length;return P().measureText(J).width+ce*ue}_setTextData(){let J=this.text().split(`
`),ce=+this.fontSize(),ue=0,te=this.lineHeight()*ce,W=this.attrs.width,ne=this.attrs.height,ve=W!==m&&W!==void 0,we=ne!==m&&ne!==void 0,Ne=this.padding(),De=W-Ne*2,Oe=ne-Ne*2,et=0,Ge=this.wrap(),Mt=Ge!==K,nt=Ge!==G&&Mt,_t=this.ellipsis();this.textArr=[],P().font=this._getContextFont();const xr=_t?this._getTextWidth(Z):0;for(let Et=0,$n=J.length;Et<$n;++Et){let lt=J[Et],Ln=this._getTextWidth(lt);if(ve&&Ln>De)for(;lt.length>0;){let $t=0,Sr=h(lt).length,en="",er=0;for(;$t<Sr;){const un=$t+Sr>>>1,bn=h(lt),Ft=bn.slice(0,un+1).join(""),At=this._getTextWidth(Ft);(_t&&we&&et+te>Oe?At+xr:At)<=De?($t=un+1,en=Ft,er=At):Sr=un}if(en){if(nt){const Ft=h(lt),At=h(en),Si=Ft[At.length],Qo=Si===D||Si===y;let wi;if(Qo&&er<=De)wi=At.length;else{const Il=At.lastIndexOf(D),Jo=At.lastIndexOf(y);wi=Math.max(Il,Jo)+1}wi>0&&($t=wi,en=Ft.slice(0,$t).join(""),er=this._getTextWidth(en))}if(en=en.trimRight(),this._addTextLine(en),ue=Math.max(ue,er),et+=te,this._shouldHandleEllipsis(et)){this._tryToAddEllipsisToLastLine();break}if(lt=h(lt).slice($t).join("").trimLeft(),lt.length>0&&(Ln=this._getTextWidth(lt),Ln<=De)){this._addTextLine(lt),et+=te,ue=Math.max(ue,Ln);break}}else break}else this._addTextLine(lt),et+=te,ue=Math.max(ue,Ln),this._shouldHandleEllipsis(et)&&Et<$n-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),we&&et+te>Oe)break}this.textHeight=ce,this.textWidth=ue}_shouldHandleEllipsis(J){const ce=+this.fontSize(),ue=this.lineHeight()*ce,te=this.attrs.height,W=te!==m&&te!==void 0,ne=this.padding(),ve=te-ne*2;return!(this.wrap()!==K)||W&&J+ue>ve}_tryToAddEllipsisToLastLine(){const J=this.attrs.width,ce=J!==m&&J!==void 0,ue=this.padding(),te=J-ue*2,W=this.ellipsis(),ne=this.textArr[this.textArr.length-1];!ne||!W||(ce&&(this._getTextWidth(ne.text+Z)<te||(ne.text=ne.text.slice(0,ne.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ne.text+Z))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const J=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ce=this.hasShadow();return J&&ce?!0:super._useBufferCanvas()}};return zl.Text=F,F.prototype._fillFunc=O,F.prototype._strokeFunc=q,F.prototype.className=T,F.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,C._registerNode)(F),g.Factory.overWriteSetter(F,"width",(0,A.getNumberOrAutoValidator)()),g.Factory.overWriteSetter(F,"height",(0,A.getNumberOrAutoValidator)()),g.Factory.addGetterSetter(F,"direction",k),g.Factory.addGetterSetter(F,"fontFamily","Arial"),g.Factory.addGetterSetter(F,"fontSize",12,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(F,"fontStyle",S),g.Factory.addGetterSetter(F,"fontVariant",S),g.Factory.addGetterSetter(F,"padding",0,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(F,"align",v),g.Factory.addGetterSetter(F,"verticalAlign",I),g.Factory.addGetterSetter(F,"lineHeight",1,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(F,"wrap",b),g.Factory.addGetterSetter(F,"ellipsis",!1,(0,A.getBooleanValidator)()),g.Factory.addGetterSetter(F,"letterSpacing",0,(0,A.getNumberValidator)()),g.Factory.addGetterSetter(F,"text","",(0,A.getStringValidator)()),g.Factory.addGetterSetter(F,"textDecoration",""),zl}var iu={},kf;function h1(){if(kf)return iu;kf=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.TextPath=void 0;const f=It(),g=Je(),R=_n(),V=th(),A=h0(),C=$e(),h=qe(),m="",x="normal";function k(E){E.fillText(this.partialText,0,0)}function N(E){E.strokeText(this.partialText,0,0)}let M=class extends R.Shape{constructor(y){super(y),this.dummyCanvas=f.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return V.Path.getPathLength(this.dataArray)}_getPointAtLength(y){if(!this.attrs.data)return null;const v=this.pathLength;return y-1>v?null:V.Path.getPointAtLengthOfDataArray(y,this.dataArray)}_readDataAttribute(){this.dataArray=V.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(y){y.setAttr("font",this._getContextFont()),y.setAttr("textBaseline",this.textBaseline()),y.setAttr("textAlign","left"),y.save();const v=this.textDecoration(),w=this.fill(),T=this.fontSize(),I=this.glyphInfo;v==="underline"&&y.beginPath();for(let p=0;p<I.length;p++){y.save();const c=I[p].p0;y.translate(c.x,c.y),y.rotate(I[p].rotation),this.partialText=I[p].text,y.fillStrokeShape(this),v==="underline"&&(p===0&&y.moveTo(0,T/2+1),y.lineTo(T,T/2+1)),y.restore()}v==="underline"&&(y.strokeStyle=w,y.lineWidth=T/20,y.stroke()),y.restore()}_hitFunc(y){y.beginPath();const v=this.glyphInfo;if(v.length>=1){const w=v[0].p0;y.moveTo(w.x,w.y)}for(let w=0;w<v.length;w++){const T=v[w].p1;y.lineTo(T.x,T.y)}y.setAttr("lineWidth",this.fontSize()),y.setAttr("strokeStyle",this.colorKey),y.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return f.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(y){return A.Text.prototype.setText.call(this,y)}_getContextFont(){return A.Text.prototype._getContextFont.call(this)}_getTextSize(y){const w=this.dummyCanvas.getContext("2d");w.save(),w.font=this._getContextFont();const T=w.measureText(y);return w.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:y,height:v}=this._getTextSize(this.attrs.text);if(this.textWidth=y,this.textHeight=v,this.glyphInfo=[],!this.attrs.data)return null;const w=this.letterSpacing(),T=this.align(),I=this.kerningFunc(),p=Math.max(this.textWidth+((this.attrs.text||"").length-1)*w,0);let c=0;T==="center"&&(c=Math.max(0,this.pathLength/2-p/2)),T==="right"&&(c=Math.max(0,this.pathLength-p));const S=(0,A.stringToArray)(this.text());let L=c;for(let D=0;D<S.length;D++){const X=this._getPointAtLength(L);if(!X)return;let z=this._getTextSize(S[D]).width+w;if(S[D]===" "&&T==="justify"){const se=this.text().split(" ").length-1;z+=(this.pathLength-p)/se}const b=this._getPointAtLength(L+z);if(!b)return;const G=V.Path.getLineLength(X.x,X.y,b.x,b.y);let K=0;if(I)try{K=I(S[D-1],S[D])*this.fontSize()}catch{K=0}X.x+=K,b.x+=K,this.textWidth+=K;const Z=V.Path.getPointOnLine(K+G/2,X.x,X.y,b.x,b.y),re=Math.atan2(b.y-X.y,b.x-X.x);this.glyphInfo.push({transposeX:Z.x,transposeY:Z.y,text:S[D],rotation:re,p0:X,p1:b}),L+=z}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const y=[];this.glyphInfo.forEach(function(L){y.push(L.p0.x),y.push(L.p0.y),y.push(L.p1.x),y.push(L.p1.y)});let v=y[0]||0,w=y[0]||0,T=y[1]||0,I=y[1]||0,p,c;for(let L=0;L<y.length/2;L++)p=y[L*2],c=y[L*2+1],v=Math.min(v,p),w=Math.max(w,p),T=Math.min(T,c),I=Math.max(I,c);const S=this.fontSize();return{x:v-S/2,y:T-S/2,width:w-v+S,height:I-T+S}}destroy(){return f.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return iu.TextPath=M,M.prototype._fillFunc=k,M.prototype._strokeFunc=N,M.prototype._fillFuncHit=k,M.prototype._strokeFuncHit=N,M.prototype.className="TextPath",M.prototype._attrsAffectingSize=["text","fontSize","data"],(0,h._registerNode)(M),g.Factory.addGetterSetter(M,"data"),g.Factory.addGetterSetter(M,"fontFamily","Arial"),g.Factory.addGetterSetter(M,"fontSize",12,(0,C.getNumberValidator)()),g.Factory.addGetterSetter(M,"fontStyle",x),g.Factory.addGetterSetter(M,"align","left"),g.Factory.addGetterSetter(M,"letterSpacing",0,(0,C.getNumberValidator)()),g.Factory.addGetterSetter(M,"textBaseline","middle"),g.Factory.addGetterSetter(M,"fontVariant",x),g.Factory.addGetterSetter(M,"text",m),g.Factory.addGetterSetter(M,"textDecoration",""),g.Factory.addGetterSetter(M,"kerningFunc",void 0),iu}var ou={},Cf;function f1(){if(Cf)return ou;Cf=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.Transformer=void 0;const f=It(),g=Je(),R=qt(),V=_n(),A=d0(),C=$d(),h=qe(),m=$e(),x=qe(),k="tr-konva",N=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(z=>z+`.${k}`).join(" "),M="nodesRect",E=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],y={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in h.Konva._global;function w(z,b,G){if(z==="rotater")return G;b+=f.Util.degToRad(y[z]||0);const K=(f.Util.radToDeg(b)%360+360)%360;return f.Util._inRange(K,315+22.5,360)||f.Util._inRange(K,0,22.5)?"ns-resize":f.Util._inRange(K,45-22.5,45+22.5)?"nesw-resize":f.Util._inRange(K,90-22.5,90+22.5)?"ew-resize":f.Util._inRange(K,135-22.5,135+22.5)?"nwse-resize":f.Util._inRange(K,180-22.5,180+22.5)?"ns-resize":f.Util._inRange(K,225-22.5,225+22.5)?"nesw-resize":f.Util._inRange(K,270-22.5,270+22.5)?"ew-resize":f.Util._inRange(K,315-22.5,315+22.5)?"nwse-resize":(f.Util.error("Transformer has unknown angle for cursor detection: "+K),"pointer")}const T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function I(z){return{x:z.x+z.width/2*Math.cos(z.rotation)+z.height/2*Math.sin(-z.rotation),y:z.y+z.height/2*Math.cos(z.rotation)+z.width/2*Math.sin(z.rotation)}}function p(z,b,G){const K=G.x+(z.x-G.x)*Math.cos(b)-(z.y-G.y)*Math.sin(b),Z=G.y+(z.x-G.x)*Math.sin(b)+(z.y-G.y)*Math.cos(b);return{...z,rotation:z.rotation+b,x:K,y:Z}}function c(z,b){const G=I(z);return p(z,b,G)}function S(z,b,G){let K=b;for(let Z=0;Z<z.length;Z++){const re=h.Konva.getAngle(z[Z]),se=Math.abs(re-b)%(Math.PI*2);Math.min(se,Math.PI*2-se)<G&&(K=re)}return K}let L=0;class D extends C.Group{constructor(b){super(b),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(N,this.update),this.getNode()&&this.update()}attachTo(b){return this.setNode(b),this}setNode(b){return f.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([b])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return k+this._id}setNodes(b=[]){this._nodes&&this._nodes.length&&this.detach();const G=b.filter(Z=>Z.isAncestorOf(this)?(f.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=b=G,b.length===1&&this.useSingleNodeRotation()?this.rotation(b[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Z=>{const re=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(Z._attrsAffectingSize.length){const se=Z._attrsAffectingSize.map(ee=>ee+"Change."+this._getEventNamespace()).join(" ");Z.on(se,re)}Z.on(E.map(se=>se+`.${this._getEventNamespace()}`).join(" "),re),Z.on(`absoluteTransformChange.${this._getEventNamespace()}`,re),this._proxyDrag(Z)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(b){let G;b.on(`dragstart.${this._getEventNamespace()}`,K=>{G=b.getAbsolutePosition(),!this.isDragging()&&b!==this.findOne(".back")&&this.startDrag(K,!1)}),b.on(`dragmove.${this._getEventNamespace()}`,K=>{if(!G)return;const Z=b.getAbsolutePosition(),re=Z.x-G.x,se=Z.y-G.y;this.nodes().forEach(ee=>{if(ee===b||ee.isDragging())return;const he=ee.getAbsolutePosition();ee.setAbsolutePosition({x:he.x+re,y:he.y+se}),ee.startDrag(K)}),G=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(b=>{b.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(M),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(M,this.__getNodeRect)}__getNodeShape(b,G=this.rotation(),K){const Z=b.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),re=b.getAbsoluteScale(K),se=b.getAbsolutePosition(K),ee=Z.x*re.x-b.offsetX()*re.x,he=Z.y*re.y-b.offsetY()*re.y,P=(h.Konva.getAngle(b.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),O={x:se.x+ee*Math.cos(P)+he*Math.sin(-P),y:se.y+he*Math.cos(P)+ee*Math.sin(P),width:Z.width*re.x,height:Z.height*re.y,rotation:P};return p(O,-h.Konva.getAngle(G),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const G=[];this.nodes().map(P=>{const O=P.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),q=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],U=P.getAbsoluteTransform();q.forEach(function(F){const Q=U.point(F);G.push(Q)})});const K=new f.Transform;K.rotate(-h.Konva.getAngle(this.rotation()));let Z=1/0,re=1/0,se=-1/0,ee=-1/0;G.forEach(function(P){const O=K.point(P);Z===void 0&&(Z=se=O.x,re=ee=O.y),Z=Math.min(Z,O.x),re=Math.min(re,O.y),se=Math.max(se,O.x),ee=Math.max(ee,O.y)}),K.invert();const he=K.point({x:Z,y:re});return{x:he.x,y:he.y,width:se-Z,height:ee-re,rotation:h.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(b=>{this._createAnchor(b)}),this._createAnchor("rotater")}_createAnchor(b){const G=new A.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:b+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),K=this;G.on("mousedown touchstart",function(Z){K._handleMouseDown(Z)}),G.on("dragstart",Z=>{G.stopDrag(),Z.cancelBubble=!0}),G.on("dragend",Z=>{Z.cancelBubble=!0}),G.on("mouseenter",()=>{const Z=h.Konva.getAngle(this.rotation()),re=this.rotateAnchorCursor(),se=w(b,Z,re);G.getStage().content&&(G.getStage().content.style.cursor=se),this._cursorChange=!0}),G.on("mouseout",()=>{G.getStage().content&&(G.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(G)}_createBack(){const b=new V.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(G,K){const Z=K.getParent(),re=Z.padding();G.beginPath(),G.rect(-re,-re,K.width()+re*2,K.height()+re*2),G.moveTo(K.width()/2,-re),Z.rotateEnabled()&&Z.rotateLineVisible()&&G.lineTo(K.width()/2,-Z.rotateAnchorOffset()*f.Util._sign(K.height())-re),G.fillStrokeShape(K)},hitFunc:(G,K)=>{if(!this.shouldOverdrawWholeArea())return;const Z=this.padding();G.beginPath(),G.rect(-Z,-Z,K.width()+Z*2,K.height()+Z*2),G.fillStrokeShape(K)}});this.add(b),this._proxyDrag(b),b.on("dragstart",G=>{G.cancelBubble=!0}),b.on("dragmove",G=>{G.cancelBubble=!0}),b.on("dragend",G=>{G.cancelBubble=!0}),this.on("dragmove",G=>{this.update()})}_handleMouseDown(b){if(this._transforming)return;this._movingAnchorName=b.target.name().split(" ")[0];const G=this._getNodeRect(),K=G.width,Z=G.height,re=Math.sqrt(Math.pow(K,2)+Math.pow(Z,2));this.sin=Math.abs(Z/re),this.cos=Math.abs(K/re),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const se=b.target.getAbsolutePosition(),ee=b.target.getStage().getPointerPosition();this._anchorDragOffset={x:ee.x-se.x,y:ee.y-se.y},L++,this._fire("transformstart",{evt:b.evt,target:this.getNode()}),this._nodes.forEach(he=>{he._fire("transformstart",{evt:b.evt,target:he})})}_handleMouseMove(b){let G,K,Z;const re=this.findOne("."+this._movingAnchorName),se=re.getStage();se.setPointersPositions(b);const ee=se.getPointerPosition();let he={x:ee.x-this._anchorDragOffset.x,y:ee.y-this._anchorDragOffset.y};const P=re.getAbsolutePosition();this.anchorDragBoundFunc()&&(he=this.anchorDragBoundFunc()(P,he,b)),re.setAbsolutePosition(he);const O=re.getAbsolutePosition();if(P.x===O.x&&P.y===O.y)return;if(this._movingAnchorName==="rotater"){const te=this._getNodeRect();G=re.x()-te.width/2,K=-re.y()+te.height/2;let W=Math.atan2(-K,G)+Math.PI/2;te.height<0&&(W-=Math.PI);const ve=h.Konva.getAngle(this.rotation())+W,we=h.Konva.getAngle(this.rotationSnapTolerance()),De=S(this.rotationSnaps(),ve,we)-te.rotation,Oe=c(te,De);this._fitNodesInto(Oe,b);return}const q=this.shiftBehavior();let U;q==="inverted"?U=this.keepRatio()&&!b.shiftKey:q==="none"?U=this.keepRatio():U=this.keepRatio()||b.shiftKey;let F=this.centeredScaling()||b.altKey;if(this._movingAnchorName==="top-left"){if(U){const te=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Z=Math.sqrt(Math.pow(te.x-re.x(),2)+Math.pow(te.y-re.y(),2));const W=this.findOne(".top-left").x()>te.x?-1:1,ne=this.findOne(".top-left").y()>te.y?-1:1;G=Z*this.cos*W,K=Z*this.sin*ne,this.findOne(".top-left").x(te.x-G),this.findOne(".top-left").y(te.y-K)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(re.y());else if(this._movingAnchorName==="top-right"){if(U){const te=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Z=Math.sqrt(Math.pow(re.x()-te.x,2)+Math.pow(te.y-re.y(),2));const W=this.findOne(".top-right").x()<te.x?-1:1,ne=this.findOne(".top-right").y()>te.y?-1:1;G=Z*this.cos*W,K=Z*this.sin*ne,this.findOne(".top-right").x(te.x+G),this.findOne(".top-right").y(te.y-K)}var Q=re.position();this.findOne(".top-left").y(Q.y),this.findOne(".bottom-right").x(Q.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(re.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(re.x());else if(this._movingAnchorName==="bottom-left"){if(U){const te=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Z=Math.sqrt(Math.pow(te.x-re.x(),2)+Math.pow(re.y()-te.y,2));const W=te.x<re.x()?-1:1,ne=re.y()<te.y?-1:1;G=Z*this.cos*W,K=Z*this.sin*ne,re.x(te.x-G),re.y(te.y+K)}Q=re.position(),this.findOne(".top-left").x(Q.x),this.findOne(".bottom-right").y(Q.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(re.y());else if(this._movingAnchorName==="bottom-right"){if(U){const te=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Z=Math.sqrt(Math.pow(re.x()-te.x,2)+Math.pow(re.y()-te.y,2));const W=this.findOne(".bottom-right").x()<te.x?-1:1,ne=this.findOne(".bottom-right").y()<te.y?-1:1;G=Z*this.cos*W,K=Z*this.sin*ne,this.findOne(".bottom-right").x(te.x+G),this.findOne(".bottom-right").y(te.y+K)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(F=this.centeredScaling()||b.altKey,F){const te=this.findOne(".top-left"),W=this.findOne(".bottom-right"),ne=te.x(),ve=te.y(),we=this.getWidth()-W.x(),Ne=this.getHeight()-W.y();W.move({x:-ne,y:-ve}),te.move({x:we,y:Ne})}const J=this.findOne(".top-left").getAbsolutePosition();G=J.x,K=J.y;const ce=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ue=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:G,y:K,width:ce,height:ue,rotation:h.Konva.getAngle(this.rotation())},b)}_handleMouseUp(b){this._removeEvents(b)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(b){var G;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const K=this.getNode();L--,this._fire("transformend",{evt:b,target:K}),(G=this.getLayer())===null||G===void 0||G.batchDraw(),K&&this._nodes.forEach(Z=>{var re;Z._fire("transformend",{evt:b,target:Z}),(re=Z.getLayer())===null||re===void 0||re.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(b,G){const K=this._getNodeRect(),Z=1;if(f.Util._inRange(b.width,-this.padding()*2-Z,Z)){this.update();return}if(f.Util._inRange(b.height,-this.padding()*2-Z,Z)){this.update();return}const re=new f.Transform;if(re.rotate(h.Konva.getAngle(this.rotation())),this._movingAnchorName&&b.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=re.point({x:-this.padding()*2,y:0});b.x+=U.x,b.y+=U.y,b.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y}else if(this._movingAnchorName&&b.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=re.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,b.width+=this.padding()*2}if(this._movingAnchorName&&b.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=re.point({x:0,y:-this.padding()*2});b.x+=U.x,b.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,b.height+=this.padding()*2}else if(this._movingAnchorName&&b.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=re.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,b.height+=this.padding()*2}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(K,b);U?b=U:f.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const se=1e7,ee=new f.Transform;ee.translate(K.x,K.y),ee.rotate(K.rotation),ee.scale(K.width/se,K.height/se);const he=new f.Transform,P=b.width/se,O=b.height/se;this.flipEnabled()===!1?(he.translate(b.x,b.y),he.rotate(b.rotation),he.translate(b.width<0?b.width:0,b.height<0?b.height:0),he.scale(Math.abs(P),Math.abs(O))):(he.translate(b.x,b.y),he.rotate(b.rotation),he.scale(P,O));const q=he.multiply(ee.invert());this._nodes.forEach(U=>{var F;const Q=U.getParent().getAbsoluteTransform(),J=U.getTransform().copy();J.translate(U.offsetX(),U.offsetY());const ce=new f.Transform;ce.multiply(Q.copy().invert()).multiply(q).multiply(Q).multiply(J);const ue=ce.decompose();U.setAttrs(ue),(F=U.getLayer())===null||F===void 0||F.batchDraw()}),this.rotation(f.Util._getRotation(b.rotation)),this._nodes.forEach(U=>{this._fire("transform",{evt:G,target:U}),U._fire("transform",{evt:G,target:U})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(b,G){this.findOne(b).setAttrs(G)}update(){var b;const G=this._getNodeRect();this.rotation(f.Util._getRotation(G.rotation));const K=G.width,Z=G.height,re=this.enabledAnchors(),se=this.resizeEnabled(),ee=this.padding(),he=this.anchorSize(),P=this.find("._anchor");P.forEach(q=>{q.setAttrs({width:he,height:he,offsetX:he/2,offsetY:he/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:he/2+ee,offsetY:he/2+ee,visible:se&&re.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:K/2,y:0,offsetY:he/2+ee,visible:se&&re.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:K,y:0,offsetX:he/2-ee,offsetY:he/2+ee,visible:se&&re.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Z/2,offsetX:he/2+ee,visible:se&&re.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:K,y:Z/2,offsetX:he/2-ee,visible:se&&re.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Z,offsetX:he/2+ee,offsetY:he/2-ee,visible:se&&re.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:K/2,y:Z,offsetY:he/2-ee,visible:se&&re.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:K,y:Z,offsetX:he/2-ee,offsetY:he/2-ee,visible:se&&re.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:K/2,y:-this.rotateAnchorOffset()*f.Util._sign(Z)-ee,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:K,height:Z,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const O=this.anchorStyleFunc();O&&P.forEach(q=>{O(q)}),(b=this.getLayer())===null||b===void 0||b.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const b=this.findOne("."+this._movingAnchorName);b&&b.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),C.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return R.Node.prototype.toObject.call(this)}clone(b){return R.Node.prototype.clone.call(this,b)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}ou.Transformer=D,D.isTransforming=()=>L>0;function X(z){return z instanceof Array||f.Util.warn("enabledAnchors value should be an array"),z instanceof Array&&z.forEach(function(b){T.indexOf(b)===-1&&f.Util.warn("Unknown anchor name: "+b+". Available names are: "+T.join(", "))}),z||[]}return D.prototype.className="Transformer",(0,x._registerNode)(D),g.Factory.addGetterSetter(D,"enabledAnchors",T,X),g.Factory.addGetterSetter(D,"flipEnabled",!0,(0,m.getBooleanValidator)()),g.Factory.addGetterSetter(D,"resizeEnabled",!0),g.Factory.addGetterSetter(D,"anchorSize",10,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"rotateEnabled",!0),g.Factory.addGetterSetter(D,"rotateLineVisible",!0),g.Factory.addGetterSetter(D,"rotationSnaps",[]),g.Factory.addGetterSetter(D,"rotateAnchorOffset",50,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"rotateAnchorCursor","crosshair"),g.Factory.addGetterSetter(D,"rotationSnapTolerance",5,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"borderEnabled",!0),g.Factory.addGetterSetter(D,"anchorStroke","rgb(0, 161, 255)"),g.Factory.addGetterSetter(D,"anchorStrokeWidth",1,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"anchorFill","white"),g.Factory.addGetterSetter(D,"anchorCornerRadius",0,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"borderStroke","rgb(0, 161, 255)"),g.Factory.addGetterSetter(D,"borderStrokeWidth",1,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"borderDash"),g.Factory.addGetterSetter(D,"keepRatio",!0),g.Factory.addGetterSetter(D,"shiftBehavior","default"),g.Factory.addGetterSetter(D,"centeredScaling",!1),g.Factory.addGetterSetter(D,"ignoreStroke",!1),g.Factory.addGetterSetter(D,"padding",0,(0,m.getNumberValidator)()),g.Factory.addGetterSetter(D,"nodes"),g.Factory.addGetterSetter(D,"node"),g.Factory.addGetterSetter(D,"boundBoxFunc"),g.Factory.addGetterSetter(D,"anchorDragBoundFunc"),g.Factory.addGetterSetter(D,"anchorStyleFunc"),g.Factory.addGetterSetter(D,"shouldOverdrawWholeArea",!1),g.Factory.addGetterSetter(D,"useSingleNodeRotation",!0),g.Factory.backCompat(D,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),ou}var su={},Ef;function p1(){if(Ef)return su;Ef=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Wedge=void 0;const f=Je(),g=_n(),R=qe(),V=$e(),A=qe();let C=class extends g.Shape{_sceneFunc(m){m.beginPath(),m.arc(0,0,this.radius(),0,R.Konva.getAngle(this.angle()),this.clockwise()),m.lineTo(0,0),m.closePath(),m.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(m){this.radius(m/2)}setHeight(m){this.radius(m/2)}};return su.Wedge=C,C.prototype.className="Wedge",C.prototype._centroid=!0,C.prototype._attrsAffectingSize=["radius"],(0,A._registerNode)(C),f.Factory.addGetterSetter(C,"radius",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"angle",0,(0,V.getNumberValidator)()),f.Factory.addGetterSetter(C,"clockwise",!1),f.Factory.backCompat(C,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),su}var lu={},Nf;function g1(){if(Nf)return lu;Nf=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.Blur=void 0;const f=Je(),g=qt(),R=$e();function V(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const A=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],C=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function h(x,k){const N=x.data,M=x.width,E=x.height;let y,v,w,T,I,p,c,S,L,D,X,z,b,G,K,Z,re,se,ee,he;const P=k+k+1,O=M-1,q=E-1,U=k+1,F=U*(U+1)/2,Q=new V,J=A[k],ce=C[k];let ue=null,te=Q,W=null,ne=null;for(let ve=1;ve<P;ve++)te=te.next=new V,ve===U&&(ue=te);te.next=Q,w=v=0;for(let ve=0;ve<E;ve++){z=b=G=K=T=I=p=c=0,S=U*(Z=N[v]),L=U*(re=N[v+1]),D=U*(se=N[v+2]),X=U*(ee=N[v+3]),T+=F*Z,I+=F*re,p+=F*se,c+=F*ee,te=Q;for(let we=0;we<U;we++)te.r=Z,te.g=re,te.b=se,te.a=ee,te=te.next;for(let we=1;we<U;we++)y=v+((O<we?O:we)<<2),T+=(te.r=Z=N[y])*(he=U-we),I+=(te.g=re=N[y+1])*he,p+=(te.b=se=N[y+2])*he,c+=(te.a=ee=N[y+3])*he,z+=Z,b+=re,G+=se,K+=ee,te=te.next;W=Q,ne=ue;for(let we=0;we<M;we++)N[v+3]=ee=c*J>>ce,ee!==0?(ee=255/ee,N[v]=(T*J>>ce)*ee,N[v+1]=(I*J>>ce)*ee,N[v+2]=(p*J>>ce)*ee):N[v]=N[v+1]=N[v+2]=0,T-=S,I-=L,p-=D,c-=X,S-=W.r,L-=W.g,D-=W.b,X-=W.a,y=w+((y=we+k+1)<O?y:O)<<2,z+=W.r=N[y],b+=W.g=N[y+1],G+=W.b=N[y+2],K+=W.a=N[y+3],T+=z,I+=b,p+=G,c+=K,W=W.next,S+=Z=ne.r,L+=re=ne.g,D+=se=ne.b,X+=ee=ne.a,z-=Z,b-=re,G-=se,K-=ee,ne=ne.next,v+=4;w+=M}for(let ve=0;ve<M;ve++){b=G=K=z=I=p=c=T=0,v=ve<<2,S=U*(Z=N[v]),L=U*(re=N[v+1]),D=U*(se=N[v+2]),X=U*(ee=N[v+3]),T+=F*Z,I+=F*re,p+=F*se,c+=F*ee,te=Q;for(let Ne=0;Ne<U;Ne++)te.r=Z,te.g=re,te.b=se,te.a=ee,te=te.next;let we=M;for(let Ne=1;Ne<=k;Ne++)v=we+ve<<2,T+=(te.r=Z=N[v])*(he=U-Ne),I+=(te.g=re=N[v+1])*he,p+=(te.b=se=N[v+2])*he,c+=(te.a=ee=N[v+3])*he,z+=Z,b+=re,G+=se,K+=ee,te=te.next,Ne<q&&(we+=M);v=ve,W=Q,ne=ue;for(let Ne=0;Ne<E;Ne++)y=v<<2,N[y+3]=ee=c*J>>ce,ee>0?(ee=255/ee,N[y]=(T*J>>ce)*ee,N[y+1]=(I*J>>ce)*ee,N[y+2]=(p*J>>ce)*ee):N[y]=N[y+1]=N[y+2]=0,T-=S,I-=L,p-=D,c-=X,S-=W.r,L-=W.g,D-=W.b,X-=W.a,y=ve+((y=Ne+U)<q?y:q)*M<<2,T+=z+=W.r=N[y],I+=b+=W.g=N[y+1],p+=G+=W.b=N[y+2],c+=K+=W.a=N[y+3],W=W.next,S+=Z=ne.r,L+=re=ne.g,D+=se=ne.b,X+=ee=ne.a,z-=Z,b-=re,G-=se,K-=ee,ne=ne.next,v+=M}}const m=function(k){const N=Math.round(this.blurRadius());N>0&&h(k,N)};return lu.Blur=m,f.Factory.addGetterSetter(g.Node,"blurRadius",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),lu}var au={},Pf;function m1(){if(Pf)return au;Pf=1,Object.defineProperty(au,"__esModule",{value:!0}),au.Brighten=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=this.brightness()*255,h=A.data,m=h.length;for(let x=0;x<m;x+=4)h[x]+=C,h[x+1]+=C,h[x+2]+=C};return au.Brighten=V,f.Factory.addGetterSetter(g.Node,"brightness",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),au}var uu={},Rf;function v1(){if(Rf)return uu;Rf=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.Contrast=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=Math.pow((this.contrast()+100)/100,2),h=A.data,m=h.length;let x=150,k=150,N=150;for(let M=0;M<m;M+=4)x=h[M],k=h[M+1],N=h[M+2],x/=255,x-=.5,x*=C,x+=.5,x*=255,k/=255,k-=.5,k*=C,k+=.5,k*=255,N/=255,N-=.5,N*=C,N+=.5,N*=255,x=x<0?0:x>255?255:x,k=k<0?0:k>255?255:k,N=N<0?0:N>255?255:N,h[M]=x,h[M+1]=k,h[M+2]=N};return uu.Contrast=V,f.Factory.addGetterSetter(g.Node,"contrast",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),uu}var cu={},Tf;function y1(){if(Tf)return cu;Tf=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.Emboss=void 0;const f=Je(),g=qt(),R=It(),V=$e(),A=function(C){const h=this.embossStrength()*10,m=this.embossWhiteLevel()*255,x=this.embossDirection(),k=this.embossBlend(),N=C.data,M=C.width,E=C.height,y=M*4;let v=0,w=0,T=E;switch(x){case"top-left":v=-1,w=-1;break;case"top":v=-1,w=0;break;case"top-right":v=-1,w=1;break;case"right":v=0,w=1;break;case"bottom-right":v=1,w=1;break;case"bottom":v=1,w=0;break;case"bottom-left":v=1,w=-1;break;case"left":v=0,w=-1;break;default:R.Util.error("Unknown emboss direction: "+x)}do{const I=(T-1)*y;let p=v;T+p<1&&(p=0),T+p>E&&(p=0);const c=(T-1+p)*M*4;let S=M;do{const L=I+(S-1)*4;let D=w;S+D<1&&(D=0),S+D>M&&(D=0);const X=c+(S-1+D)*4,z=N[L]-N[X],b=N[L+1]-N[X+1],G=N[L+2]-N[X+2];let K=z;const Z=K>0?K:-K,re=b>0?b:-b,se=G>0?G:-G;if(re>Z&&(K=b),se>Z&&(K=G),K*=h,k){const ee=N[L]+K,he=N[L+1]+K,P=N[L+2]+K;N[L]=ee>255?255:ee<0?0:ee,N[L+1]=he>255?255:he<0?0:he,N[L+2]=P>255?255:P<0?0:P}else{let ee=m-K;ee<0?ee=0:ee>255&&(ee=255),N[L]=N[L+1]=N[L+2]=ee}}while(--S)}while(--T)};return cu.Emboss=A,f.Factory.addGetterSetter(g.Node,"embossStrength",.5,(0,V.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"embossWhiteLevel",.5,(0,V.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"embossDirection","top-left",void 0,f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"embossBlend",!1,void 0,f.Factory.afterSetFilter),cu}var du={},Lf;function _1(){if(Lf)return du;Lf=1,Object.defineProperty(du,"__esModule",{value:!0}),du.Enhance=void 0;const f=Je(),g=qt(),R=$e();function V(C,h,m,x,k){const N=m-h,M=k-x;if(N===0)return x+M/2;if(M===0)return x;let E=(C-h)/N;return E=M*E+x,E}const A=function(C){const h=C.data,m=h.length;let x=h[0],k=x,N,M=h[1],E=M,y,v=h[2],w=v,T;const I=this.enhance();if(I===0)return;for(let z=0;z<m;z+=4)N=h[z+0],N<x?x=N:N>k&&(k=N),y=h[z+1],y<M?M=y:y>E&&(E=y),T=h[z+2],T<v?v=T:T>w&&(w=T);k===x&&(k=255,x=0),E===M&&(E=255,M=0),w===v&&(w=255,v=0);let p,c,S,L,D,X;if(I>0)p=k+I*(255-k),c=x-I*(x-0),S=E+I*(255-E),L=M-I*(M-0),D=w+I*(255-w),X=v-I*(v-0);else{const z=(k+x)*.5;p=k+I*(k-z),c=x+I*(x-z);const b=(E+M)*.5;S=E+I*(E-b),L=M+I*(M-b);const G=(w+v)*.5;D=w+I*(w-G),X=v+I*(v-G)}for(let z=0;z<m;z+=4)h[z+0]=V(h[z+0],x,k,c,p),h[z+1]=V(h[z+1],M,E,L,S),h[z+2]=V(h[z+2],v,w,X,D)};return du.Enhance=A,f.Factory.addGetterSetter(g.Node,"enhance",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),du}var hu={},Mf;function x1(){if(Mf)return hu;Mf=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.Grayscale=void 0;const f=function(g){const R=g.data,V=R.length;for(let A=0;A<V;A+=4){const C=.34*R[A]+.5*R[A+1]+.16*R[A+2];R[A]=C,R[A+1]=C,R[A+2]=C}};return hu.Grayscale=f,hu}var fu={},Ff;function S1(){if(Ff)return fu;Ff=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.HSL=void 0;const f=Je(),g=qt(),R=$e();f.Factory.addGetterSetter(g.Node,"hue",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"saturation",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"luminance",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter);const V=function(A){const C=A.data,h=C.length,m=1,x=Math.pow(2,this.saturation()),k=Math.abs(this.hue()+360)%360,N=this.luminance()*127,M=m*x*Math.cos(k*Math.PI/180),E=m*x*Math.sin(k*Math.PI/180),y=.299*m+.701*M+.167*E,v=.587*m-.587*M+.33*E,w=.114*m-.114*M-.497*E,T=.299*m-.299*M-.328*E,I=.587*m+.413*M+.035*E,p=.114*m-.114*M+.293*E,c=.299*m-.3*M+1.25*E,S=.587*m-.586*M-1.05*E,L=.114*m+.886*M-.2*E;let D,X,z,b;for(let G=0;G<h;G+=4)D=C[G+0],X=C[G+1],z=C[G+2],b=C[G+3],C[G+0]=y*D+v*X+w*z+N,C[G+1]=T*D+I*X+p*z+N,C[G+2]=c*D+S*X+L*z+N,C[G+3]=b};return fu.HSL=V,fu}var pu={},Af;function w1(){if(Af)return pu;Af=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.HSV=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=A.data,h=C.length,m=Math.pow(2,this.value()),x=Math.pow(2,this.saturation()),k=Math.abs(this.hue()+360)%360,N=m*x*Math.cos(k*Math.PI/180),M=m*x*Math.sin(k*Math.PI/180),E=.299*m+.701*N+.167*M,y=.587*m-.587*N+.33*M,v=.114*m-.114*N-.497*M,w=.299*m-.299*N-.328*M,T=.587*m+.413*N+.035*M,I=.114*m-.114*N+.293*M,p=.299*m-.3*N+1.25*M,c=.587*m-.586*N-1.05*M,S=.114*m+.886*N-.2*M;for(let L=0;L<h;L+=4){const D=C[L+0],X=C[L+1],z=C[L+2],b=C[L+3];C[L+0]=E*D+y*X+v*z,C[L+1]=w*D+T*X+I*z,C[L+2]=p*D+c*X+S*z,C[L+3]=b}};return pu.HSV=V,f.Factory.addGetterSetter(g.Node,"hue",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"saturation",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"value",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),pu}var gu={},jf;function k1(){if(jf)return gu;jf=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.Invert=void 0;const f=function(g){const R=g.data,V=R.length;for(let A=0;A<V;A+=4)R[A]=255-R[A],R[A+1]=255-R[A+1],R[A+2]=255-R[A+2]};return gu.Invert=f,gu}var mu={},Of;function C1(){if(Of)return mu;Of=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.Kaleidoscope=void 0;const f=Je(),g=qt(),R=It(),V=$e(),A=function(m,x,k){const N=m.data,M=x.data,E=m.width,y=m.height,v=k.polarCenterX||E/2,w=k.polarCenterY||y/2;let T=Math.sqrt(v*v+w*w),I=E-v,p=y-w;const c=Math.sqrt(I*I+p*p);T=c>T?c:T;const S=y,L=E,D=360/L*Math.PI/180;for(let X=0;X<L;X+=1){const z=Math.sin(X*D),b=Math.cos(X*D);for(let G=0;G<S;G+=1){I=Math.floor(v+T*G/S*b),p=Math.floor(w+T*G/S*z);let K=(p*E+I)*4;const Z=N[K+0],re=N[K+1],se=N[K+2],ee=N[K+3];K=(X+G*E)*4,M[K+0]=Z,M[K+1]=re,M[K+2]=se,M[K+3]=ee}}},C=function(m,x,k){const N=m.data,M=x.data,E=m.width,y=m.height,v=k.polarCenterX||E/2,w=k.polarCenterY||y/2;let T=Math.sqrt(v*v+w*w),I=E-v,p=y-w;const c=Math.sqrt(I*I+p*p);T=c>T?c:T;const S=y,L=E,D=0;let X,z;for(I=0;I<E;I+=1)for(p=0;p<y;p+=1){const b=I-v,G=p-w,K=Math.sqrt(b*b+G*G)*S/T;let Z=(Math.atan2(G,b)*180/Math.PI+360+D)%360;Z=Z*L/360,X=Math.floor(Z),z=Math.floor(K);let re=(z*E+X)*4;const se=N[re+0],ee=N[re+1],he=N[re+2],P=N[re+3];re=(p*E+I)*4,M[re+0]=se,M[re+1]=ee,M[re+2]=he,M[re+3]=P}},h=function(m){const x=m.width,k=m.height;let N,M,E,y,v,w,T,I,p,c,S=Math.round(this.kaleidoscopePower());const L=Math.round(this.kaleidoscopeAngle()),D=Math.floor(x*(L%360)/360);if(S<1)return;const X=R.Util.createCanvasElement();X.width=x,X.height=k;const z=X.getContext("2d").getImageData(0,0,x,k);R.Util.releaseCanvas(X),A(m,z,{polarCenterX:x/2,polarCenterY:k/2});let b=x/Math.pow(2,S);for(;b<=8;)b=b*2,S-=1;b=Math.ceil(b);let G=b,K=0,Z=G,re=1;for(D+b>x&&(K=G,Z=0,re=-1),M=0;M<k;M+=1)for(N=K;N!==Z;N+=re)E=Math.round(N+D)%x,p=(x*M+E)*4,v=z.data[p+0],w=z.data[p+1],T=z.data[p+2],I=z.data[p+3],c=(x*M+N)*4,z.data[c+0]=v,z.data[c+1]=w,z.data[c+2]=T,z.data[c+3]=I;for(M=0;M<k;M+=1)for(G=Math.floor(b),y=0;y<S;y+=1){for(N=0;N<G+1;N+=1)p=(x*M+N)*4,v=z.data[p+0],w=z.data[p+1],T=z.data[p+2],I=z.data[p+3],c=(x*M+G*2-N-1)*4,z.data[c+0]=v,z.data[c+1]=w,z.data[c+2]=T,z.data[c+3]=I;G*=2}C(z,m,{})};return mu.Kaleidoscope=h,f.Factory.addGetterSetter(g.Node,"kaleidoscopePower",2,(0,V.getNumberValidator)(),f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"kaleidoscopeAngle",0,(0,V.getNumberValidator)(),f.Factory.afterSetFilter),mu}var vu={},zf;function E1(){if(zf)return vu;zf=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.Mask=void 0;const f=Je(),g=qt(),R=$e();function V(E,y,v){let w=(v*E.width+y)*4;const T=[];return T.push(E.data[w++],E.data[w++],E.data[w++],E.data[w++]),T}function A(E,y){return Math.sqrt(Math.pow(E[0]-y[0],2)+Math.pow(E[1]-y[1],2)+Math.pow(E[2]-y[2],2))}function C(E){const y=[0,0,0];for(let v=0;v<E.length;v++)y[0]+=E[v][0],y[1]+=E[v][1],y[2]+=E[v][2];return y[0]/=E.length,y[1]/=E.length,y[2]/=E.length,y}function h(E,y){const v=V(E,0,0),w=V(E,E.width-1,0),T=V(E,0,E.height-1),I=V(E,E.width-1,E.height-1),p=y||10;if(A(v,w)<p&&A(w,I)<p&&A(I,T)<p&&A(T,v)<p){const c=C([w,v,I,T]),S=[];for(let L=0;L<E.width*E.height;L++){const D=A(c,[E.data[L*4],E.data[L*4+1],E.data[L*4+2]]);S[L]=D<p?0:255}return S}}function m(E,y){for(let v=0;v<E.width*E.height;v++)E.data[4*v+3]=y[v]}function x(E,y,v){const w=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(w.length)),I=Math.floor(T/2),p=[];for(let c=0;c<v;c++)for(let S=0;S<y;S++){const L=c*y+S;let D=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const b=c+X-I,G=S+z-I;if(b>=0&&b<v&&G>=0&&G<y){const K=b*y+G,Z=w[X*T+z];D+=E[K]*Z}}p[L]=D===2040?255:0}return p}function k(E,y,v){const w=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(w.length)),I=Math.floor(T/2),p=[];for(let c=0;c<v;c++)for(let S=0;S<y;S++){const L=c*y+S;let D=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const b=c+X-I,G=S+z-I;if(b>=0&&b<v&&G>=0&&G<y){const K=b*y+G,Z=w[X*T+z];D+=E[K]*Z}}p[L]=D>=1020?255:0}return p}function N(E,y,v){const w=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(w.length)),I=Math.floor(T/2),p=[];for(let c=0;c<v;c++)for(let S=0;S<y;S++){const L=c*y+S;let D=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const b=c+X-I,G=S+z-I;if(b>=0&&b<v&&G>=0&&G<y){const K=b*y+G,Z=w[X*T+z];D+=E[K]*Z}}p[L]=D}return p}const M=function(E){const y=this.threshold();let v=h(E,y);return v&&(v=x(v,E.width,E.height),v=k(v,E.width,E.height),v=N(v,E.width,E.height),m(E,v)),E};return vu.Mask=M,f.Factory.addGetterSetter(g.Node,"threshold",0,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),vu}var yu={},Df;function N1(){if(Df)return yu;Df=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Noise=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=this.noise()*255,h=A.data,m=h.length,x=C/2;for(let k=0;k<m;k+=4)h[k+0]+=x-2*x*Math.random(),h[k+1]+=x-2*x*Math.random(),h[k+2]+=x-2*x*Math.random()};return yu.Noise=V,f.Factory.addGetterSetter(g.Node,"noise",.2,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),yu}var _u={},If;function P1(){if(If)return _u;If=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.Pixelate=void 0;const f=Je(),g=It(),R=qt(),V=$e(),A=function(C){let h=Math.ceil(this.pixelSize()),m=C.width,x=C.height,k=Math.ceil(m/h),N=Math.ceil(x/h),M=C.data;if(h<=0){g.Util.error("pixelSize value can not be <= 0");return}for(let E=0;E<k;E+=1)for(let y=0;y<N;y+=1){let v=0,w=0,T=0,I=0;const p=E*h,c=p+h,S=y*h,L=S+h;let D=0;for(let X=p;X<c;X+=1)if(!(X>=m))for(let z=S;z<L;z+=1){if(z>=x)continue;const b=(m*z+X)*4;v+=M[b+0],w+=M[b+1],T+=M[b+2],I+=M[b+3],D+=1}v=v/D,w=w/D,T=T/D,I=I/D;for(let X=p;X<c;X+=1)if(!(X>=m))for(let z=S;z<L;z+=1){if(z>=x)continue;const b=(m*z+X)*4;M[b+0]=v,M[b+1]=w,M[b+2]=T,M[b+3]=I}}};return _u.Pixelate=A,f.Factory.addGetterSetter(R.Node,"pixelSize",8,(0,V.getNumberValidator)(),f.Factory.afterSetFilter),_u}var xu={},bf;function R1(){if(bf)return xu;bf=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.Posterize=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=Math.round(this.levels()*254)+1,h=A.data,m=h.length,x=255/C;for(let k=0;k<m;k+=1)h[k]=Math.floor(h[k]/x)*x};return xu.Posterize=V,f.Factory.addGetterSetter(g.Node,"levels",.5,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),xu}var Su={},Gf;function T1(){if(Gf)return Su;Gf=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.RGB=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=A.data,h=C.length,m=this.red(),x=this.green(),k=this.blue();for(let N=0;N<h;N+=4){const M=(.34*C[N]+.5*C[N+1]+.16*C[N+2])/255;C[N]=M*m,C[N+1]=M*x,C[N+2]=M*k,C[N+3]=C[N+3]}};return Su.RGB=V,f.Factory.addGetterSetter(g.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),f.Factory.addGetterSetter(g.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),f.Factory.addGetterSetter(g.Node,"blue",0,R.RGBComponent,f.Factory.afterSetFilter),Su}var wu={},Uf;function L1(){if(Uf)return wu;Uf=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.RGBA=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=A.data,h=C.length,m=this.red(),x=this.green(),k=this.blue(),N=this.alpha();for(let M=0;M<h;M+=4){const E=1-N;C[M]=m*N+C[M]*E,C[M+1]=x*N+C[M+1]*E,C[M+2]=k*N+C[M+2]*E}};return wu.RGBA=V,f.Factory.addGetterSetter(g.Node,"red",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),f.Factory.addGetterSetter(g.Node,"green",0,function(A){return this._filterUpToDate=!1,A>255?255:A<0?0:Math.round(A)}),f.Factory.addGetterSetter(g.Node,"blue",0,R.RGBComponent,f.Factory.afterSetFilter),f.Factory.addGetterSetter(g.Node,"alpha",1,function(A){return this._filterUpToDate=!1,A>1?1:A<0?0:A}),wu}var ku={},Bf;function M1(){if(Bf)return ku;Bf=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.Sepia=void 0;const f=function(g){const R=g.data,V=R.length;for(let A=0;A<V;A+=4){const C=R[A+0],h=R[A+1],m=R[A+2];R[A+0]=Math.min(255,C*.393+h*.769+m*.189),R[A+1]=Math.min(255,C*.349+h*.686+m*.168),R[A+2]=Math.min(255,C*.272+h*.534+m*.131)}};return ku.Sepia=f,ku}var Cu={},Vf;function F1(){if(Vf)return Cu;Vf=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.Solarize=void 0;const f=function(g){const R=g.data,V=g.width,A=g.height,C=V*4;let h=A;do{const m=(h-1)*C;let x=V;do{const k=m+(x-1)*4;let N=R[k],M=R[k+1],E=R[k+2];N>127&&(N=255-N),M>127&&(M=255-M),E>127&&(E=255-E),R[k]=N,R[k+1]=M,R[k+2]=E}while(--x)}while(--h)};return Cu.Solarize=f,Cu}var Eu={},Hf;function A1(){if(Hf)return Eu;Hf=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.Threshold=void 0;const f=Je(),g=qt(),R=$e(),V=function(A){const C=this.threshold()*255,h=A.data,m=h.length;for(let x=0;x<m;x+=1)h[x]=h[x]<C?0:255};return Eu.Threshold=V,f.Factory.addGetterSetter(g.Node,"threshold",.5,(0,R.getNumberValidator)(),f.Factory.afterSetFilter),Eu}var Wf;function j1(){if(Wf)return ba;Wf=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.Konva=void 0;const f=Xd(),g=t1(),R=r1(),V=i1(),A=o1(),C=s1(),h=l1(),m=c0(),x=th(),k=d0(),N=a1(),M=u1(),E=c1(),y=d1(),v=h0(),w=h1(),T=f1(),I=p1(),p=g1(),c=m1(),S=v1(),L=y1(),D=_1(),X=x1(),z=S1(),b=w1(),G=k1(),K=C1(),Z=E1(),re=N1(),se=P1(),ee=R1(),he=T1(),P=L1(),O=M1(),q=F1(),U=A1();return ba.Konva=f.Konva.Util._assign(f.Konva,{Arc:g.Arc,Arrow:R.Arrow,Circle:V.Circle,Ellipse:A.Ellipse,Image:C.Image,Label:h.Label,Tag:h.Tag,Line:m.Line,Path:x.Path,Rect:k.Rect,RegularPolygon:N.RegularPolygon,Ring:M.Ring,Sprite:E.Sprite,Star:y.Star,Text:v.Text,TextPath:w.TextPath,Transformer:T.Transformer,Wedge:I.Wedge,Filters:{Blur:p.Blur,Brighten:c.Brighten,Contrast:S.Contrast,Emboss:L.Emboss,Enhance:D.Enhance,Grayscale:X.Grayscale,HSL:z.HSL,HSV:b.HSV,Invert:G.Invert,Kaleidoscope:K.Kaleidoscope,Mask:Z.Mask,Noise:re.Noise,Pixelate:se.Pixelate,Posterize:ee.Posterize,RGB:he.RGB,RGBA:P.RGBA,Sepia:O.Sepia,Solarize:q.Solarize,Threshold:U.Threshold}}),ba}var O1=Uc.exports,qf;function z1(){if(qf)return Uc.exports;qf=1,Object.defineProperty(O1,"__esModule",{value:!0});const f=j1();return Uc.exports=f.Konva,Uc.exports}z1();var Gc={exports:{}},Kf;function D1(){return Kf||(Kf=1,(function(f,g){Object.defineProperty(g,"__esModule",{value:!0}),g.Konva=void 0;var R=Xd();Object.defineProperty(g,"Konva",{enumerable:!0,get:function(){return R.Konva}});const V=Xd();f.exports=V.Konva})(Gc,Gc.exports)),Gc.exports}var I1=D1();const Pu=Qd(I1);var Hd={exports:{}};var Wd,Yf;function b1(){return Yf||(Yf=1,Wd=function(g){var R={},V=Bc(),A=Jd(),C=Object.assign;function h(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),L=Symbol.iterator;function D(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}function X(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case k:return"Portal";case E:return"Profiler";case M:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case v:return(n.displayName||"Context")+".Consumer";case y:return(n._context.displayName||"Context")+".Provider";case w:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case p:return r=n.displayName||null,r!==null?r:X(n.type)||"Memo";case c:r=n._payload,n=n._init;try{return X(n(r))}catch{}}return null}function z(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(r);case 8:return r===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function b(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function G(n){if(b(n)!==n)throw Error(h(188))}function K(n){var r=n.alternate;if(!r){if(r=b(n),r===null)throw Error(h(188));return r!==n?null:n}for(var o=n,l=r;;){var u=o.return;if(u===null)break;var _=u.alternate;if(_===null){if(l=u.return,l!==null){o=l;continue}break}if(u.child===_.child){for(_=u.child;_;){if(_===o)return G(u),n;if(_===l)return G(u),r;_=_.sibling}throw Error(h(188))}if(o.return!==l.return)o=u,l=_;else{for(var H=!1,oe=u.child;oe;){if(oe===o){H=!0,o=u,l=_;break}if(oe===l){H=!0,l=u,o=_;break}oe=oe.sibling}if(!H){for(oe=_.child;oe;){if(oe===o){H=!0,o=_,l=u;break}if(oe===l){H=!0,l=_,o=u;break}oe=oe.sibling}if(!H)throw Error(h(189))}}if(o.alternate!==l)throw Error(h(190))}if(o.tag!==3)throw Error(h(188));return o.stateNode.current===o?n:r}function Z(n){return n=K(n),n!==null?re(n):null}function re(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=re(n);if(r!==null)return r;n=n.sibling}return null}function se(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=se(n);if(r!==null)return r}n=n.sibling}return null}var ee=Array.isArray,he=g.getPublicInstance,P=g.getRootHostContext,O=g.getChildHostContext,q=g.prepareForCommit,U=g.resetAfterCommit,F=g.createInstance,Q=g.appendInitialChild,J=g.finalizeInitialChildren,ce=g.prepareUpdate,ue=g.shouldSetTextContent,te=g.createTextInstance,W=g.scheduleTimeout,ne=g.cancelTimeout,ve=g.noTimeout,we=g.isPrimaryRenderer,Ne=g.supportsMutation,De=g.supportsPersistence,Oe=g.supportsHydration,et=g.getInstanceFromNode,Ge=g.preparePortalMount,Mt=g.getCurrentEventPriority,nt=g.detachDeletedInstance,_t=g.supportsMicrotasks,xr=g.scheduleMicrotask,Et=g.supportsTestSelectors,$n=g.findFiberRoot,lt=g.getBoundingRect,Ln=g.getTextContent,$t=g.isHiddenSubtree,Sr=g.matchAccessibilityRole,en=g.setFocusIfFocusable,er=g.setupIntersectionObserver,un=g.appendChild,bn=g.appendChildToContainer,Ft=g.commitTextUpdate,At=g.commitMount,Si=g.commitUpdate,Qo=g.insertBefore,wi=g.insertInContainerBefore,Il=g.removeChild,Jo=g.removeChildFromContainer,As=g.resetTextContent,bl=g.hideInstance,Gl=g.hideTextInstance,Ul=g.unhideInstance,to=g.unhideTextInstance,no=g.clearContainer,Ru=g.cloneInstance,Bl=g.createContainerChildSet,Vl=g.appendChildToContainerChildSet,Tu=g.finalizeContainerChildren,js=g.replaceContainerChildren,Os=g.cloneHiddenInstance,Hl=g.cloneHiddenTextInstance,Zo=g.canHydrateInstance,Wl=g.canHydrateTextInstance,$o=g.canHydrateSuspenseInstance,Lu=g.isSuspenseInstancePending,ki=g.isSuspenseInstanceFallback,zs=g.getSuspenseInstanceFallbackErrorDetails,Ds=g.registerSuspenseInstanceRetry,ro=g.getNextHydratableSibling,qc=g.getFirstHydratableChild,Kc=g.getFirstHydratableChildWithinContainer,Yc=g.getFirstHydratableChildWithinSuspenseInstance,Ci=g.hydrateInstance,Mu=g.hydrateTextInstance,Fu=g.hydrateSuspenseInstance,Xc=g.getNextHydratableInstanceAfterSuspenseInstance,Au=g.commitHydratedContainer,ju=g.commitHydratedSuspenseInstance,Ou=g.clearSuspenseBoundary,zu=g.clearSuspenseBoundaryFromContainer,Qc=g.shouldDeleteUnhydratedTailInstances,Jc=g.didNotMatchHydratedContainerTextInstance,Rt=g.didNotMatchHydratedTextInstance,ql;function Ei(n){if(ql===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ql=r&&r[1]||""}return`
`+ql+n}var Is=!1;function io(n,r){if(!n||Is)return"";Is=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Se){var l=Se}Reflect.construct(n,[],r)}else{try{r.call()}catch(Se){l=Se}n.call(r.prototype)}else{try{throw Error()}catch(Se){l=Se}n()}}catch(Se){if(Se&&l&&typeof Se.stack=="string"){for(var u=Se.stack.split(`
`),_=l.stack.split(`
`),H=u.length-1,oe=_.length-1;1<=H&&0<=oe&&u[H]!==_[oe];)oe--;for(;1<=H&&0<=oe;H--,oe--)if(u[H]!==_[oe]){if(H!==1||oe!==1)do if(H--,oe--,0>oe||u[H]!==_[oe]){var ge=`
`+u[H].replace(" at new "," at ");return n.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",n.displayName)),ge}while(1<=H&&0<=oe);break}}}finally{Is=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Ei(n):""}var Zc=Object.prototype.hasOwnProperty,bs=[],zr=-1;function tn(n){return{current:n}}function gt(n){0>zr||(n.current=bs[zr],bs[zr]=null,zr--)}function Ke(n,r){zr++,bs[zr]=n.current,n.current=r}var Zr={},cn=tn(Zr),Mn=tn(!1),wr=Zr;function Dr(n,r){var o=n.type.contextTypes;if(!o)return Zr;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var u={},_;for(_ in o)u[_]=r[_];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=u),u}function Kt(n){return n=n.childContextTypes,n!=null}function Ni(){gt(Mn),gt(cn)}function Du(n,r,o){if(cn.current!==Zr)throw Error(h(168));Ke(cn,r),Ke(Mn,o)}function Iu(n,r,o){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var u in l)if(!(u in r))throw Error(h(108,z(n)||"Unknown",u));return C({},o,l)}function oo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,wr=cn.current,Ke(cn,n),Ke(Mn,Mn.current),!0}function Kl(n,r,o){var l=n.stateNode;if(!l)throw Error(h(169));o?(n=Iu(n,r,wr),l.__reactInternalMemoizedMergedChildContext=n,gt(Mn),gt(cn),Ke(cn,n)):gt(Mn),Ke(Mn,o)}var Gn=Math.clz32?Math.clz32:Yl,es=Math.log,$c=Math.LN2;function Yl(n){return n>>>=0,n===0?32:31-(es(n)/$c|0)|0}var tt=64,ts=4194304;function so(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function lo(n,r){var o=n.pendingLanes;if(o===0)return 0;var l=0,u=n.suspendedLanes,_=n.pingedLanes,H=o&268435455;if(H!==0){var oe=H&~u;oe!==0?l=so(oe):(_&=H,_!==0&&(l=so(_)))}else H=o&~u,H!==0?l=so(H):_!==0&&(l=so(_));if(l===0)return 0;if(r!==0&&r!==l&&(r&u)===0&&(u=l&-l,_=r&-r,u>=_||u===16&&(_&4194240)!==0))return r;if((l&4)!==0&&(l|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)o=31-Gn(r),u=1<<o,l|=n[o],r&=~u;return l}function bu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(n,r){for(var o=n.suspendedLanes,l=n.pingedLanes,u=n.expirationTimes,_=n.pendingLanes;0<_;){var H=31-Gn(_),oe=1<<H,ge=u[H];ge===-1?((oe&o)===0||(oe&l)!==0)&&(u[H]=bu(oe,r)):ge<=r&&(n.expiredLanes|=oe),_&=~oe}}function Gs(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Us(){var n=tt;return tt<<=1,(tt&4194240)===0&&(tt=64),n}function ao(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function tr(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Gn(r),n[r]=o}function $r(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var u=31-Gn(o),_=1<<u;r[u]=0,l[u]=-1,n[u]=-1,o&=~_}}function kr(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var l=31-Gn(o),u=1<<l;u&r|n[l]&r&&(n[l]|=r),o&=~u}}var Ye=0;function uo(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Cr=A.unstable_scheduleCallback,Uu=A.unstable_cancelCallback,Bu=A.unstable_shouldYield,ns=A.unstable_requestPaint,Yt=A.unstable_now,Bs=A.unstable_ImmediatePriority,Vs=A.unstable_UserBlockingPriority,Hs=A.unstable_NormalPriority,ed=A.unstable_IdlePriority,ei=null,Fn=null;function co(n){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}}function Ws(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var hr=typeof Object.is=="function"?Object.is:Ws,Ir=null,ho=!1,fo=!1;function qs(n){Ir===null?Ir=[n]:Ir.push(n)}function Vu(n){ho=!0,qs(n)}function nn(){if(!fo&&Ir!==null){fo=!0;var n=0,r=Ye;try{var o=Ir;for(Ye=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}Ir=null,ho=!1}catch(u){throw Ir!==null&&(Ir=Ir.slice(n+1)),Cr(Bs,nn),u}finally{Ye=r,fo=!1}}return null}var ti=[],br=0,rs=null,Pi=0,xn=[],Un=0,bt=null,An=1,fr="";function pr(n,r){ti[br++]=Pi,ti[br++]=rs,rs=n,Pi=r}function Hu(n,r,o){xn[Un++]=An,xn[Un++]=fr,xn[Un++]=bt,bt=n;var l=An;n=fr;var u=32-Gn(l)-1;l&=~(1<<u),o+=1;var _=32-Gn(r)+u;if(30<_){var H=u-u%5;_=(l&(1<<H)-1).toString(32),l>>=H,u-=H,An=1<<32-Gn(r)+u|o<<u|l,fr=_+n}else An=1<<_|o<<u|l,fr=n}function is(n){n.return!==null&&(pr(n,1),Hu(n,1,0))}function os(n){for(;n===rs;)rs=ti[--br],ti[br]=null,Pi=ti[--br],ti[br]=null;for(;n===bt;)bt=xn[--Un],xn[Un]=null,fr=xn[--Un],xn[Un]=null,An=xn[--Un],xn[Un]=null}var rn=null,Sn=null,mt=!1,ss=!1,gr=null;function Wu(n,r){var o=Jn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function Ks(n,r){switch(n.tag){case 5:return r=Zo(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,rn=n,Sn=qc(r),!0):!1;case 6:return r=Wl(r,n.pendingProps),r!==null?(n.stateNode=r,rn=n,Sn=null,!0):!1;case 13:if(r=$o(r),r!==null){var o=bt!==null?{id:An,overflow:fr}:null;return n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Jn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,rn=n,Sn=null,!0}return!1;default:return!1}}function Xl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ql(n){if(mt){var r=Sn;if(r){var o=r;if(!Ks(n,r)){if(Xl(n))throw Error(h(418));r=ro(o);var l=rn;r&&Ks(n,r)?Wu(l,o):(n.flags=n.flags&-4097|2,mt=!1,rn=n)}}else{if(Xl(n))throw Error(h(418));n.flags=n.flags&-4097|2,mt=!1,rn=n}}}function qu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Ys(n){if(!Oe||n!==rn)return!1;if(!mt)return qu(n),mt=!0,!1;if(n.tag!==3&&(n.tag!==5||Qc(n.type)&&!ue(n.type,n.memoizedProps))){var r=Sn;if(r){if(Xl(n))throw Ku(),Error(h(418));for(;r;)Wu(n,r),r=ro(r)}}if(qu(n),n.tag===13){if(!Oe)throw Error(h(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(h(317));Sn=Xc(n)}else Sn=rn?ro(n.stateNode):null;return!0}function Ku(){for(var n=Sn;n;)n=ro(n)}function Ri(){Oe&&(Sn=rn=null,ss=mt=!1)}function Jl(n){gr===null?gr=[n]:gr.push(n)}var td=m.ReactCurrentBatchConfig;function Xs(n,r){if(hr(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var u=o[l];if(!Zc.call(r,u)||!hr(n[u],r[u]))return!1}return!0}function nd(n){switch(n.tag){case 5:return Ei(n.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return n=io(n.type,!1),n;case 11:return n=io(n.type.render,!1),n;case 1:return n=io(n.type,!0),n;default:return""}}function Ti(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(h(309));var l=o.stateNode}if(!l)throw Error(h(147,n));var u=l,_=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===_?r.ref:(r=function(H){var oe=u.refs;H===null?delete oe[_]:oe[_]=H},r._stringRef=_,r)}if(typeof n!="string")throw Error(h(284));if(!o._owner)throw Error(h(290,n))}return n}function Qs(n,r){throw n=Object.prototype.toString.call(r),Error(h(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Yu(n){var r=n._init;return r(n._payload)}function Xu(n){function r(fe,le){if(n){var me=fe.deletions;me===null?(fe.deletions=[le],fe.flags|=16):me.push(le)}}function o(fe,le){if(!n)return null;for(;le!==null;)r(fe,le),le=le.sibling;return null}function l(fe,le){for(fe=new Map;le!==null;)le.key!==null?fe.set(le.key,le):fe.set(le.index,le),le=le.sibling;return fe}function u(fe,le){return fe=_i(fe,le),fe.index=0,fe.sibling=null,fe}function _(fe,le,me){return fe.index=me,n?(me=fe.alternate,me!==null?(me=me.index,me<le?(fe.flags|=2,le):me):(fe.flags|=2,le)):(fe.flags|=1048576,le)}function H(fe){return n&&fe.alternate===null&&(fe.flags|=2),fe}function oe(fe,le,me,Re){return le===null||le.tag!==6?(le=Io(me,fe.mode,Re),le.return=fe,le):(le=u(le,me),le.return=fe,le)}function ge(fe,le,me,Re){var ze=me.type;return ze===N?Le(fe,le,me.props.children,Re,me.key):le!==null&&(le.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===c&&Yu(ze)===le.type)?(Re=u(le,me.props),Re.ref=Ti(fe,le,me),Re.return=fe,Re):(Re=Rl(me.type,me.key,me.props,null,fe.mode,Re),Re.ref=Ti(fe,le,me),Re.return=fe,Re)}function Se(fe,le,me,Re){return le===null||le.tag!==4||le.stateNode.containerInfo!==me.containerInfo||le.stateNode.implementation!==me.implementation?(le=Tl(me,fe.mode,Re),le.return=fe,le):(le=u(le,me.children||[]),le.return=fe,le)}function Le(fe,le,me,Re,ze){return le===null||le.tag!==7?(le=ln(me,fe.mode,Re,ze),le.return=fe,le):(le=u(le,me),le.return=fe,le)}function Be(fe,le,me){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Io(""+le,fe.mode,me),le.return=fe,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return me=Rl(le.type,le.key,le.props,null,fe.mode,me),me.ref=Ti(fe,null,le),me.return=fe,me;case k:return le=Tl(le,fe.mode,me),le.return=fe,le;case c:var Re=le._init;return Be(fe,Re(le._payload),me)}if(ee(le)||D(le))return le=ln(le,fe.mode,me,null),le.return=fe,le;Qs(fe,le)}return null}function Pe(fe,le,me,Re){var ze=le!==null?le.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ze!==null?null:oe(fe,le,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return me.key===ze?ge(fe,le,me,Re):null;case k:return me.key===ze?Se(fe,le,me,Re):null;case c:return ze=me._init,Pe(fe,le,ze(me._payload),Re)}if(ee(me)||D(me))return ze!==null?null:Le(fe,le,me,Re,null);Qs(fe,me)}return null}function pt(fe,le,me,Re,ze){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return fe=fe.get(me)||null,oe(le,fe,""+Re,ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:return fe=fe.get(Re.key===null?me:Re.key)||null,ge(le,fe,Re,ze);case k:return fe=fe.get(Re.key===null?me:Re.key)||null,Se(le,fe,Re,ze);case c:var We=Re._init;return pt(fe,le,me,We(Re._payload),ze)}if(ee(Re)||D(Re))return fe=fe.get(me)||null,Le(le,fe,Re,ze,null);Qs(le,Re)}return null}function st(fe,le,me,Re){for(var ze=null,We=null,Ve=le,Ze=le=0,Ht=null;Ve!==null&&Ze<me.length;Ze++){Ve.index>Ze?(Ht=Ve,Ve=null):Ht=Ve.sibling;var Qe=Pe(fe,Ve,me[Ze],Re);if(Qe===null){Ve===null&&(Ve=Ht);break}n&&Ve&&Qe.alternate===null&&r(fe,Ve),le=_(Qe,le,Ze),We===null?ze=Qe:We.sibling=Qe,We=Qe,Ve=Ht}if(Ze===me.length)return o(fe,Ve),mt&&pr(fe,Ze),ze;if(Ve===null){for(;Ze<me.length;Ze++)Ve=Be(fe,me[Ze],Re),Ve!==null&&(le=_(Ve,le,Ze),We===null?ze=Ve:We.sibling=Ve,We=Ve);return mt&&pr(fe,Ze),ze}for(Ve=l(fe,Ve);Ze<me.length;Ze++)Ht=pt(Ve,fe,Ze,me[Ze],Re),Ht!==null&&(n&&Ht.alternate!==null&&Ve.delete(Ht.key===null?Ze:Ht.key),le=_(Ht,le,Ze),We===null?ze=Ht:We.sibling=Ht,We=Ht);return n&&Ve.forEach(function(mn){return r(fe,mn)}),mt&&pr(fe,Ze),ze}function Pn(fe,le,me,Re){var ze=D(me);if(typeof ze!="function")throw Error(h(150));if(me=ze.call(me),me==null)throw Error(h(151));for(var We=ze=null,Ve=le,Ze=le=0,Ht=null,Qe=me.next();Ve!==null&&!Qe.done;Ze++,Qe=me.next()){Ve.index>Ze?(Ht=Ve,Ve=null):Ht=Ve.sibling;var mn=Pe(fe,Ve,Qe.value,Re);if(mn===null){Ve===null&&(Ve=Ht);break}n&&Ve&&mn.alternate===null&&r(fe,Ve),le=_(mn,le,Ze),We===null?ze=mn:We.sibling=mn,We=mn,Ve=Ht}if(Qe.done)return o(fe,Ve),mt&&pr(fe,Ze),ze;if(Ve===null){for(;!Qe.done;Ze++,Qe=me.next())Qe=Be(fe,Qe.value,Re),Qe!==null&&(le=_(Qe,le,Ze),We===null?ze=Qe:We.sibling=Qe,We=Qe);return mt&&pr(fe,Ze),ze}for(Ve=l(fe,Ve);!Qe.done;Ze++,Qe=me.next())Qe=pt(Ve,fe,Ze,Qe.value,Re),Qe!==null&&(n&&Qe.alternate!==null&&Ve.delete(Qe.key===null?Ze:Qe.key),le=_(Qe,le,Ze),We===null?ze=Qe:We.sibling=Qe,We=Qe);return n&&Ve.forEach(function(ld){return r(fe,ld)}),mt&&pr(fe,Ze),ze}function Ar(fe,le,me,Re){if(typeof me=="object"&&me!==null&&me.type===N&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case x:e:{for(var ze=me.key,We=le;We!==null;){if(We.key===ze){if(ze=me.type,ze===N){if(We.tag===7){o(fe,We.sibling),le=u(We,me.props.children),le.return=fe,fe=le;break e}}else if(We.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===c&&Yu(ze)===We.type){o(fe,We.sibling),le=u(We,me.props),le.ref=Ti(fe,We,me),le.return=fe,fe=le;break e}o(fe,We);break}else r(fe,We);We=We.sibling}me.type===N?(le=ln(me.props.children,fe.mode,Re,me.key),le.return=fe,fe=le):(Re=Rl(me.type,me.key,me.props,null,fe.mode,Re),Re.ref=Ti(fe,le,me),Re.return=fe,fe=Re)}return H(fe);case k:e:{for(We=me.key;le!==null;){if(le.key===We)if(le.tag===4&&le.stateNode.containerInfo===me.containerInfo&&le.stateNode.implementation===me.implementation){o(fe,le.sibling),le=u(le,me.children||[]),le.return=fe,fe=le;break e}else{o(fe,le);break}else r(fe,le);le=le.sibling}le=Tl(me,fe.mode,Re),le.return=fe,fe=le}return H(fe);case c:return We=me._init,Ar(fe,le,We(me._payload),Re)}if(ee(me))return st(fe,le,me,Re);if(D(me))return Pn(fe,le,me,Re);Qs(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,le!==null&&le.tag===6?(o(fe,le.sibling),le=u(le,me),le.return=fe,fe=le):(o(fe,le),le=Io(me,fe.mode,Re),le.return=fe,fe=le),H(fe)):o(fe,le)}return Ar}var Li=Xu(!0),Qu=Xu(!1),Js=tn(null),Zs=null,po=null,Zl=null;function $l(){Zl=po=Zs=null}function Ju(n,r,o){we?(Ke(Js,r._currentValue),r._currentValue=o):(Ke(Js,r._currentValue2),r._currentValue2=o)}function ls(n){var r=Js.current;gt(Js),we?n._currentValue=r:n._currentValue2=r}function Mi(n,r,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===o)break;n=n.return}}function go(n,r){Zs=n,Zl=po=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Ut=!0),n.firstContext=null)}function Bn(n){var r=we?n._currentValue:n._currentValue2;if(Zl!==n)if(n={context:n,memoizedValue:r,next:null},po===null){if(Zs===null)throw Error(h(308));po=n,Zs.dependencies={lanes:0,firstContext:n}}else po=po.next=n;return r}var ni=null;function $s(n){ni===null?ni=[n]:ni.push(n)}function ea(n,r,o,l){var u=r.interleaved;return u===null?(o.next=o,$s(r)):(o.next=u.next,u.next=o),r.interleaved=o,mr(n,l)}function mr(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Vn=!1;function ta(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zu(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Gr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(n,r,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var u=l.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),l.pending=r,mr(n,o)}return u=l.interleaved,u===null?(r.next=r,$s(l)):(r.next=u.next,u.next=r),l.interleaved=r,mr(n,o)}function as(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,kr(n,o)}}function mo(n,r){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var u=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var H={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};_===null?u=_=H:_=_.next=H,o=o.next}while(o!==null);_===null?u=_=r:_=_.next=r}else u=_=r;o={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:_,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function ri(n,r,o,l){var u=n.updateQueue;Vn=!1;var _=u.firstBaseUpdate,H=u.lastBaseUpdate,oe=u.shared.pending;if(oe!==null){u.shared.pending=null;var ge=oe,Se=ge.next;ge.next=null,H===null?_=Se:H.next=Se,H=ge;var Le=n.alternate;Le!==null&&(Le=Le.updateQueue,oe=Le.lastBaseUpdate,oe!==H&&(oe===null?Le.firstBaseUpdate=Se:oe.next=Se,Le.lastBaseUpdate=ge))}if(_!==null){var Be=u.baseState;H=0,Le=Se=ge=null,oe=_;do{var Pe=oe.lane,pt=oe.eventTime;if((l&Pe)===Pe){Le!==null&&(Le=Le.next={eventTime:pt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var st=n,Pn=oe;switch(Pe=r,pt=o,Pn.tag){case 1:if(st=Pn.payload,typeof st=="function"){Be=st.call(pt,Be,Pe);break e}Be=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Pn.payload,Pe=typeof st=="function"?st.call(pt,Be,Pe):st,Pe==null)break e;Be=C({},Be,Pe);break e;case 2:Vn=!0}}oe.callback!==null&&oe.lane!==0&&(n.flags|=64,Pe=u.effects,Pe===null?u.effects=[oe]:Pe.push(oe))}else pt={eventTime:pt,lane:Pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Le===null?(Se=Le=pt,ge=Be):Le=Le.next=pt,H|=Pe;if(oe=oe.next,oe===null){if(oe=u.shared.pending,oe===null)break;Pe=oe,oe=Pe.next,Pe.next=null,u.lastBaseUpdate=Pe,u.shared.pending=null}}while(!0);if(Le===null&&(ge=Be),u.baseState=ge,u.firstBaseUpdate=Se,u.lastBaseUpdate=Le,r=u.shared.interleaved,r!==null){u=r;do H|=u.lane,u=u.next;while(u!==r)}else _===null&&(u.shared.lanes=0);qr|=H,n.lanes=H,n.memoizedState=Be}}function $u(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],u=l.callback;if(u!==null){if(l.callback=null,l=o,typeof u!="function")throw Error(h(191,u));u.call(l)}}}var ii={},nr=tn(ii),vo=tn(ii),oi=tn(ii);function rr(n){if(n===ii)throw Error(h(174));return n}function el(n,r){Ke(oi,r),Ke(vo,n),Ke(nr,ii),n=P(r),gt(nr),Ke(nr,n)}function Fi(){gt(nr),gt(vo),gt(oi)}function na(n){var r=rr(oi.current),o=rr(nr.current);r=O(o,n.type,r),o!==r&&(Ke(vo,n),Ke(nr,r))}function ra(n){vo.current===n&&(gt(nr),gt(vo))}var Ct=tn(0);function tl(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lu(o)||ki(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ia=[];function oa(){for(var n=0;n<ia.length;n++){var r=ia[n];we?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}ia.length=0}var jn=m.ReactCurrentDispatcher,Ai=m.ReactCurrentBatchConfig,si=0,xt=null,jt=null,Gt=null,yo=!1,us=!1,cs=0,_o=0;function Xt(){throw Error(h(321))}function ji(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!hr(n[o],r[o]))return!1;return!0}function ds(n,r,o,l,u,_){if(si=_,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,jn.current=n===null||n.memoizedState===null?ga:ma,n=o(l,u),us){_=0;do{if(us=!1,cs=0,25<=_)throw Error(h(301));_+=1,Gt=jt=null,r.updateQueue=null,jn.current=va,n=o(l,u)}while(us)}if(jn.current=bi,r=jt!==null&&jt.next!==null,si=0,Gt=jt=xt=null,yo=!1,r)throw Error(h(300));return n}function nl(){var n=cs!==0;return cs=0,n}function Hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?xt.memoizedState=Gt=n:Gt=Gt.next=n,Gt}function on(){if(jt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=jt.next;var r=Gt===null?xt.memoizedState:Gt.next;if(r!==null)Gt=r,jt=n;else{if(n===null)throw Error(h(310));jt=n,n={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Gt===null?xt.memoizedState=Gt=n:Gt=Gt.next=n}return Gt}function Oi(n,r){return typeof r=="function"?r(n):r}function rl(n){var r=on(),o=r.queue;if(o===null)throw Error(h(311));o.lastRenderedReducer=n;var l=jt,u=l.baseQueue,_=o.pending;if(_!==null){if(u!==null){var H=u.next;u.next=_.next,_.next=H}l.baseQueue=u=_,o.pending=null}if(u!==null){_=u.next,l=l.baseState;var oe=H=null,ge=null,Se=_;do{var Le=Se.lane;if((si&Le)===Le)ge!==null&&(ge=ge.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),l=Se.hasEagerState?Se.eagerState:n(l,Se.action);else{var Be={lane:Le,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};ge===null?(oe=ge=Be,H=l):ge=ge.next=Be,xt.lanes|=Le,qr|=Le}Se=Se.next}while(Se!==null&&Se!==_);ge===null?H=l:ge.next=oe,hr(l,r.memoizedState)||(Ut=!0),r.memoizedState=l,r.baseState=H,r.baseQueue=ge,o.lastRenderedState=l}if(n=o.interleaved,n!==null){u=n;do _=u.lane,xt.lanes|=_,qr|=_,u=u.next;while(u!==n)}else u===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function xo(n){var r=on(),o=r.queue;if(o===null)throw Error(h(311));o.lastRenderedReducer=n;var l=o.dispatch,u=o.pending,_=r.memoizedState;if(u!==null){o.pending=null;var H=u=u.next;do _=n(_,H.action),H=H.next;while(H!==u);hr(_,r.memoizedState)||(Ut=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),o.lastRenderedState=_}return[_,l]}function sa(){}function la(n,r){var o=xt,l=on(),u=r(),_=!hr(l.memoizedState,u);if(_&&(l.memoizedState=u,Ut=!0),l=l.queue,sl(ca.bind(null,o,l,n),[n]),l.getSnapshot!==r||_||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,zi(9,ua.bind(null,o,l,u,r),void 0,null),ct===null)throw Error(h(349));(si&30)!==0||aa(o,r,u)}return u}function aa(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=xt.updateQueue,r===null?(r={lastEffect:null,stores:null},xt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function ua(n,r,o,l){r.value=o,r.getSnapshot=l,da(r)&&Br(n)}function ca(n,r,o){return o(function(){da(r)&&Br(n)})}function da(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!hr(n,o)}catch{return!0}}function Br(n){var r=mr(n,1);r!==null&&pn(r,n,1,-1)}function il(n){var r=Hn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:n},r.queue=n,n=n.dispatch=rd.bind(null,xt,n),[r.memoizedState,n]}function zi(n,r,o,l){return n={tag:n,create:r,destroy:o,deps:l,next:null},r=xt.updateQueue,r===null?(r={lastEffect:null,stores:null},xt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,r.lastEffect=n)),n}function ec(){return on().memoizedState}function ol(n,r,o,l){var u=Hn();xt.flags|=n,u.memoizedState=zi(1|r,o,void 0,l===void 0?null:l)}function li(n,r,o,l){var u=on();l=l===void 0?null:l;var _=void 0;if(jt!==null){var H=jt.memoizedState;if(_=H.destroy,l!==null&&ji(l,H.deps)){u.memoizedState=zi(r,o,_,l);return}}xt.flags|=n,u.memoizedState=zi(1|r,o,_,l)}function tc(n,r){return ol(8390656,8,n,r)}function sl(n,r){return li(2048,8,n,r)}function ha(n,r){return li(4,2,n,r)}function dt(n,r){return li(4,4,n,r)}function ll(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function hs(n,r,o){return o=o!=null?o.concat([n]):null,li(4,4,ll.bind(null,r,n),o)}function Di(){}function fa(n,r){var o=on();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&ji(r,l[1])?l[0]:(o.memoizedState=[n,r],n)}function al(n,r){var o=on();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&ji(r,l[1])?l[0]:(n=n(),o.memoizedState=[n,r],n)}function So(n,r,o){return(si&21)===0?(n.baseState&&(n.baseState=!1,Ut=!0),n.memoizedState=o):(hr(o,r)||(o=Us(),xt.lanes|=o,qr|=o,n.baseState=!0),r)}function ul(n,r){var o=Ye;Ye=o!==0&&4>o?o:4,n(!0);var l=Ai.transition;Ai.transition={};try{n(!1),r()}finally{Ye=o,Ai.transition=l}}function Ii(){return on().memoizedState}function nc(n,r,o){var l=Vt(n);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},rc(n))pa(r,o);else if(o=ea(n,r,o,l),o!==null){var u=vt();pn(o,n,l,u),fs(o,r,l)}}function rd(n,r,o){var l=Vt(n),u={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(rc(n))pa(r,u);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var H=r.lastRenderedState,oe=_(H,o);if(u.hasEagerState=!0,u.eagerState=oe,hr(oe,H)){var ge=r.interleaved;ge===null?(u.next=u,$s(r)):(u.next=ge.next,ge.next=u),r.interleaved=u;return}}catch{}finally{}o=ea(n,r,u,l),o!==null&&(u=vt(),pn(o,n,l,u),fs(o,r,l))}}function rc(n){var r=n.alternate;return n===xt||r!==null&&r===xt}function pa(n,r){us=yo=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function fs(n,r,o){if((o&4194240)!==0){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,kr(n,o)}}var bi={readContext:Bn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},ga={readContext:Bn,useCallback:function(n,r){return Hn().memoizedState=[n,r===void 0?null:r],n},useContext:Bn,useEffect:tc,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,ol(4194308,4,ll.bind(null,r,n),o)},useLayoutEffect:function(n,r){return ol(4194308,4,n,r)},useInsertionEffect:function(n,r){return ol(4,2,n,r)},useMemo:function(n,r){var o=Hn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var l=Hn();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=nc.bind(null,xt,n),[l.memoizedState,n]},useRef:function(n){var r=Hn();return n={current:n},r.memoizedState=n},useState:il,useDebugValue:Di,useDeferredValue:function(n){return Hn().memoizedState=n},useTransition:function(){var n=il(!1),r=n[0];return n=ul.bind(null,n[1]),Hn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var l=xt,u=Hn();if(mt){if(o===void 0)throw Error(h(407));o=o()}else{if(o=r(),ct===null)throw Error(h(349));(si&30)!==0||aa(l,r,o)}u.memoizedState=o;var _={value:o,getSnapshot:r};return u.queue=_,tc(ca.bind(null,l,_,n),[n]),l.flags|=2048,zi(9,ua.bind(null,l,_,o,r),void 0,null),o},useId:function(){var n=Hn(),r=ct.identifierPrefix;if(mt){var o=fr,l=An;o=(l&~(1<<32-Gn(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=cs++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=_o++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},ma={readContext:Bn,useCallback:fa,useContext:Bn,useEffect:sl,useImperativeHandle:hs,useInsertionEffect:ha,useLayoutEffect:dt,useMemo:al,useReducer:rl,useRef:ec,useState:function(){return rl(Oi)},useDebugValue:Di,useDeferredValue:function(n){var r=on();return So(r,jt.memoizedState,n)},useTransition:function(){var n=rl(Oi)[0],r=on().memoizedState;return[n,r]},useMutableSource:sa,useSyncExternalStore:la,useId:Ii,unstable_isNewReconciler:!1},va={readContext:Bn,useCallback:fa,useContext:Bn,useEffect:sl,useImperativeHandle:hs,useInsertionEffect:ha,useLayoutEffect:dt,useMemo:al,useReducer:xo,useRef:ec,useState:function(){return xo(Oi)},useDebugValue:Di,useDeferredValue:function(n){var r=on();return jt===null?r.memoizedState=n:So(r,jt.memoizedState,n)},useTransition:function(){var n=xo(Oi)[0],r=on().memoizedState;return[n,r]},useMutableSource:sa,useSyncExternalStore:la,useId:Ii,unstable_isNewReconciler:!1};function Wn(n,r){if(n&&n.defaultProps){r=C({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function ya(n,r,o,l){r=n.memoizedState,o=o(l,r),o=o==null?r:C({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ps={isMounted:function(n){return(n=n._reactInternals)?b(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var l=vt(),u=Vt(n),_=Gr(l,u);_.payload=r,o!=null&&(_.callback=o),r=Ur(n,_,u),r!==null&&(pn(r,n,u,l),as(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var l=vt(),u=Vt(n),_=Gr(l,u);_.tag=1,_.payload=r,o!=null&&(_.callback=o),r=Ur(n,_,u),r!==null&&(pn(r,n,u,l),as(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=vt(),l=Vt(n),u=Gr(o,l);u.tag=2,r!=null&&(u.callback=r),r=Ur(n,u,l),r!==null&&(pn(r,n,l,o),as(r,n,l))}};function ic(n,r,o,l,u,_,H){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,_,H):r.prototype&&r.prototype.isPureReactComponent?!Xs(o,l)||!Xs(u,_):!0}function oc(n,r,o){var l=!1,u=Zr,_=r.contextType;return typeof _=="object"&&_!==null?_=Bn(_):(u=Kt(r)?wr:cn.current,l=r.contextTypes,_=(l=l!=null)?Dr(n,u):Zr),r=new r(o,_),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ps,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=u,n.__reactInternalMemoizedMaskedChildContext=_),r}function cl(n,r,o,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==n&&ps.enqueueReplaceState(r,r.state,null)}function Er(n,r,o,l){var u=n.stateNode;u.props=o,u.state=n.memoizedState,u.refs={},ta(n);var _=r.contextType;typeof _=="object"&&_!==null?u.context=Bn(_):(_=Kt(r)?wr:cn.current,u.context=Dr(n,_)),u.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(ya(n,r,_,o),u.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&ps.enqueueReplaceState(u,u.state,null),ri(n,o,u,l),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308)}function Gi(n,r){try{var o="",l=r;do o+=nd(l),l=l.return;while(l);var u=o}catch(_){u=`
Error generating stack: `+_.message+`
`+_.stack}return{value:n,source:r,stack:u,digest:null}}function ai(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function ir(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var gs=typeof WeakMap=="function"?WeakMap:Map;function Nr(n,r,o){o=Gr(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Pt||(Pt=!0,Ot=l),ir(n,r)},o}function dl(n,r,o){o=Gr(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=r.value;o.payload=function(){return l(u)},o.callback=function(){ir(n,r)}}var _=n.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){ir(n,r),typeof l!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var H=r.stack;this.componentDidCatch(r.value,{componentStack:H!==null?H:""})}),o}function sc(n,r,o){var l=n.pingCache;if(l===null){l=n.pingCache=new gs;var u=new Set;l.set(r,u)}else u=l.get(r),u===void 0&&(u=new Set,l.set(r,u));u.has(o)||(u.add(o),n=pc.bind(null,n,r,o),r.then(n,n))}function lc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function ui(n,r,o,l,u){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Gr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=u,n)}var ms=m.ReactCurrentOwner,Ut=!1;function Qt(n,r,o,l){r.child=n===null?Qu(r,null,o,l):Li(r,n.child,o,l)}function hl(n,r,o,l,u){o=o.render;var _=r.ref;return go(r,u),l=ds(n,r,o,l,_,u),o=nl(),n!==null&&!Ut?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~u,Hr(n,r,u)):(mt&&o&&is(r),r.flags|=1,Qt(n,r,l,u),r.child)}function Ui(n,r,o,l,u){if(n===null){var _=o.type;return typeof _=="function"&&!zo(_)&&_.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=_,Vr(n,r,_,l,u)):(n=Rl(o.type,null,l,r,r.mode,u),n.ref=r.ref,n.return=r,r.child=n)}if(_=n.child,(n.lanes&u)===0){var H=_.memoizedProps;if(o=o.compare,o=o!==null?o:Xs,o(H,l)&&n.ref===r.ref)return Hr(n,r,u)}return r.flags|=1,n=_i(_,l),n.ref=r.ref,n.return=r,r.child=n}function Vr(n,r,o,l,u){if(n!==null){var _=n.memoizedProps;if(Xs(_,l)&&n.ref===r.ref)if(Ut=!1,r.pendingProps=l=_,(n.lanes&u)!==0)(n.flags&131072)!==0&&(Ut=!0);else return r.lanes=n.lanes,Hr(n,r,u)}return Pr(n,r,o,l,u)}function ht(n,r,o){var l=r.pendingProps,u=l.children,_=n!==null?n.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(gi,Bt),Bt|=o;else{if((o&1073741824)===0)return n=_!==null?_.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ke(gi,Bt),Bt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=_!==null?_.baseLanes:o,Ke(gi,Bt),Bt|=l}else _!==null?(l=_.baseLanes|o,r.memoizedState=null):l=o,Ke(gi,Bt),Bt|=l;return Qt(n,r,u,o),r.child}function ut(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Pr(n,r,o,l,u){var _=Kt(o)?wr:cn.current;return _=Dr(r,_),go(r,u),o=ds(n,r,o,l,_,u),l=nl(),n!==null&&!Ut?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~u,Hr(n,r,u)):(mt&&l&&is(r),r.flags|=1,Qt(n,r,o,u),r.child)}function sn(n,r,o,l,u){if(Kt(o)){var _=!0;oo(r)}else _=!1;if(go(r,u),r.stateNode===null)vs(n,r),oc(r,o,l),Er(r,o,l,u),l=!0;else if(n===null){var H=r.stateNode,oe=r.memoizedProps;H.props=oe;var ge=H.context,Se=o.contextType;typeof Se=="object"&&Se!==null?Se=Bn(Se):(Se=Kt(o)?wr:cn.current,Se=Dr(r,Se));var Le=o.getDerivedStateFromProps,Be=typeof Le=="function"||typeof H.getSnapshotBeforeUpdate=="function";Be||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(oe!==l||ge!==Se)&&cl(r,H,l,Se),Vn=!1;var Pe=r.memoizedState;H.state=Pe,ri(r,l,H,u),ge=r.memoizedState,oe!==l||Pe!==ge||Mn.current||Vn?(typeof Le=="function"&&(ya(r,o,Le,l),ge=r.memoizedState),(oe=Vn||ic(r,o,oe,l,Pe,ge,Se))?(Be||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(r.flags|=4194308)):(typeof H.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ge),H.props=l,H.state=ge,H.context=Se,l=oe):(typeof H.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{H=r.stateNode,Zu(n,r),oe=r.memoizedProps,Se=r.type===r.elementType?oe:Wn(r.type,oe),H.props=Se,Be=r.pendingProps,Pe=H.context,ge=o.contextType,typeof ge=="object"&&ge!==null?ge=Bn(ge):(ge=Kt(o)?wr:cn.current,ge=Dr(r,ge));var pt=o.getDerivedStateFromProps;(Le=typeof pt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(oe!==Be||Pe!==ge)&&cl(r,H,l,ge),Vn=!1,Pe=r.memoizedState,H.state=Pe,ri(r,l,H,u);var st=r.memoizedState;oe!==Be||Pe!==st||Mn.current||Vn?(typeof pt=="function"&&(ya(r,o,pt,l),st=r.memoizedState),(Se=Vn||ic(r,o,Se,l,Pe,st,ge)||!1)?(Le||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(l,st,ge),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(l,st,ge)),typeof H.componentDidUpdate=="function"&&(r.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof H.componentDidUpdate!="function"||oe===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=st),H.props=l,H.state=st,H.context=ge,l=Se):(typeof H.componentDidUpdate!="function"||oe===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=1024),l=!1)}return dn(n,r,o,l,_,u)}function dn(n,r,o,l,u,_){ut(n,r);var H=(r.flags&128)!==0;if(!l&&!H)return u&&Kl(r,o,!1),Hr(n,r,_);l=r.stateNode,ms.current=r;var oe=H&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&H?(r.child=Li(r,n.child,null,_),r.child=Li(r,null,oe,_)):Qt(n,r,oe,_),r.memoizedState=l.state,u&&Kl(r,o,!0),r.child}function ci(n){var r=n.stateNode;r.pendingContext?Du(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Du(n,r.context,!1),el(n,r.containerInfo)}function Bi(n,r,o,l,u){return Ri(),Jl(u),r.flags|=256,Qt(n,r,o,l),r.child}var hn={dehydrated:null,treeContext:null,retryLane:0};function wo(n){return{baseLanes:n,cachePool:null,transitions:null}}function _a(n,r,o){var l=r.pendingProps,u=Ct.current,_=!1,H=(r.flags&128)!==0,oe;if((oe=H)||(oe=n!==null&&n.memoizedState===null?!1:(u&2)!==0),oe?(_=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(u|=1),Ke(Ct,u&1),n===null)return Ql(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:ki(n)?r.lanes=8:r.lanes=1073741824,null):(H=l.children,n=l.fallback,_?(l=r.mode,_=r.child,H={mode:"hidden",children:H},(l&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=H):_=Do(H,l,0,null),n=ln(n,l,o,null),_.return=r,n.return=r,_.sibling=n,r.child=_,r.child.memoizedState=wo(o),r.memoizedState=hn,n):fl(r,H));if(u=n.memoizedState,u!==null&&(oe=u.dehydrated,oe!==null))return ac(n,r,H,l,oe,u,o);if(_){_=l.fallback,H=r.mode,u=n.child,oe=u.sibling;var ge={mode:"hidden",children:l.children};return(H&1)===0&&r.child!==u?(l=r.child,l.childLanes=0,l.pendingProps=ge,r.deletions=null):(l=_i(u,ge),l.subtreeFlags=u.subtreeFlags&14680064),oe!==null?_=_i(oe,_):(_=ln(_,H,o,null),_.flags|=2),_.return=r,l.return=r,l.sibling=_,r.child=l,l=_,_=r.child,H=n.child.memoizedState,H=H===null?wo(o):{baseLanes:H.baseLanes|o,cachePool:null,transitions:H.transitions},_.memoizedState=H,_.childLanes=n.childLanes&~o,r.memoizedState=hn,l}return _=n.child,n=_.sibling,l=_i(_,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=o),l.return=r,l.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=l,r.memoizedState=null,l}function fl(n,r){return r=Do({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Vi(n,r,o,l){return l!==null&&Jl(l),Li(r,n.child,null,o),n=fl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function ac(n,r,o,l,u,_,H){if(o)return r.flags&256?(r.flags&=-257,l=ai(Error(h(422))),Vi(n,r,H,l)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(_=l.fallback,u=r.mode,l=Do({mode:"visible",children:l.children},u,0,null),_=ln(_,u,H,null),_.flags|=2,l.return=r,_.return=r,l.sibling=_,r.child=l,(r.mode&1)!==0&&Li(r,n.child,null,H),r.child.memoizedState=wo(H),r.memoizedState=hn,_);if((r.mode&1)===0)return Vi(n,r,H,null);if(ki(u))return l=zs(u).digest,_=Error(h(419)),l=ai(_,l,void 0),Vi(n,r,H,l);if(o=(H&n.childLanes)!==0,Ut||o){if(l=ct,l!==null){switch(H&-H){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|H))!==0?0:u,u!==0&&u!==_.retryLane&&(_.retryLane=u,mr(n,u),pn(l,n,u,-1))}return Oo(),l=ai(Error(h(421))),Vi(n,r,H,l)}return Lu(u)?(r.flags|=128,r.child=n.child,r=mc.bind(null,n),Ds(u,r),null):(n=_.treeContext,Oe&&(Sn=Yc(u),rn=r,mt=!0,gr=null,ss=!1,n!==null&&(xn[Un++]=An,xn[Un++]=fr,xn[Un++]=bt,An=n.id,fr=n.overflow,bt=r)),r=fl(r,l.children),r.flags|=4096,r)}function Rr(n,r,o){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Mi(n.return,r,o)}function ko(n,r,o,l,u){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:u}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=u)}function pl(n,r,o){var l=r.pendingProps,u=l.revealOrder,_=l.tail;if(Qt(n,r,l.children,o),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rr(n,o,r);else if(n.tag===19)Rr(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(Ke(Ct,l),(r.mode&1)===0)r.memoizedState=null;else switch(u){case"forwards":for(o=r.child,u=null;o!==null;)n=o.alternate,n!==null&&tl(n)===null&&(u=o),o=o.sibling;o=u,o===null?(u=r.child,r.child=null):(u=o.sibling,o.sibling=null),ko(r,!1,u,o,_);break;case"backwards":for(o=null,u=r.child,r.child=null;u!==null;){if(n=u.alternate,n!==null&&tl(n)===null){r.child=u;break}n=u.sibling,u.sibling=o,o=u,u=n}ko(r,!0,o,null,_);break;case"together":ko(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vs(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Hr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(h(153));if(r.child!==null){for(n=r.child,o=_i(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function di(n,r,o){switch(r.tag){case 3:ci(r),Ri();break;case 5:na(r);break;case 1:Kt(r.type)&&oo(r);break;case 4:el(r,r.stateNode.containerInfo);break;case 10:Ju(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ke(Ct,Ct.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?_a(n,r,o):(Ke(Ct,Ct.current&1),n=Hr(n,r,o),n!==null?n.sibling:null);Ke(Ct,Ct.current&1);break;case 19:if(l=(o&r.childLanes)!==0,(n.flags&128)!==0){if(l)return pl(n,r,o);r.flags|=128}var u=r.memoizedState;if(u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ke(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,ht(n,r,o)}return Hr(n,r,o)}function wn(n){n.flags|=4}function Hi(n,r){if(n!==null&&n.child===r.child)return!0;if((r.flags&16)!==0)return!1;for(n=r.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}var hi,fi,kn,Cn;if(Ne)hi=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)Q(n,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},fi=function(){},kn=function(n,r,o,l,u){if(n=n.memoizedProps,n!==l){var _=r.stateNode,H=rr(nr.current);o=ce(_,o,n,l,u,H),(r.updateQueue=o)&&wn(r)}},Cn=function(n,r,o,l){o!==l&&wn(r)};else if(De){hi=function(n,r,o,l){for(var u=r.child;u!==null;){if(u.tag===5){var _=u.stateNode;o&&l&&(_=Os(_,u.type,u.memoizedProps,u)),Q(n,_)}else if(u.tag===6)_=u.stateNode,o&&l&&(_=Hl(_,u.memoizedProps,u)),Q(n,_);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)_=u.child,_!==null&&(_.return=u),hi(n,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}};var pi=function(n,r,o,l){for(var u=r.child;u!==null;){if(u.tag===5){var _=u.stateNode;o&&l&&(_=Os(_,u.type,u.memoizedProps,u)),Vl(n,_)}else if(u.tag===6)_=u.stateNode,o&&l&&(_=Hl(_,u.memoizedProps,u)),Vl(n,_);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)_=u.child,_!==null&&(_.return=u),pi(n,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}};fi=function(n,r){var o=r.stateNode;if(!Hi(n,r)){n=o.containerInfo;var l=Bl(n);pi(l,r,!1,!1),o.pendingChildren=l,wn(r),Tu(n,l)}},kn=function(n,r,o,l,u){var _=n.stateNode,H=n.memoizedProps;if((n=Hi(n,r))&&H===l)r.stateNode=_;else{var oe=r.stateNode,ge=rr(nr.current),Se=null;H!==l&&(Se=ce(oe,o,H,l,u,ge)),n&&Se===null?r.stateNode=_:(_=Ru(_,Se,o,H,l,r,n,oe),J(_,o,l,u,ge)&&wn(r),r.stateNode=_,n?wn(r):hi(_,r,!1,!1))}},Cn=function(n,r,o,l){o!==l?(n=rr(oi.current),o=rr(nr.current),r.stateNode=te(l,n,o,r),wn(r)):r.stateNode=n.stateNode}}else fi=function(){},kn=function(){},Cn=function(){};function qn(n,r){if(!mt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function St(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(r)for(var u=n.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=n,u=u.sibling;else for(u=n.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=n,u=u.sibling;return n.subtreeFlags|=l,n.childLanes=o,r}function Wi(n,r,o){var l=r.pendingProps;switch(os(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return Kt(r.type)&&Ni(),St(r),null;case 3:return o=r.stateNode,Fi(),gt(Mn),gt(cn),oa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ys(r)?wn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gr!==null&&(Nl(gr),gr=null))),fi(n,r),St(r),null;case 5:ra(r),o=rr(oi.current);var u=r.type;if(n!==null&&r.stateNode!=null)kn(n,r,u,l,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(h(166));return St(r),null}if(n=rr(nr.current),Ys(r)){if(!Oe)throw Error(h(175));n=Ci(r.stateNode,r.type,r.memoizedProps,o,n,r,!ss),r.updateQueue=n,n!==null&&wn(r)}else{var _=F(u,l,o,n,r);hi(_,r,!1,!1),r.stateNode=_,J(_,u,l,o,n)&&wn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return St(r),null;case 6:if(n&&r.stateNode!=null)Cn(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(h(166));if(n=rr(oi.current),o=rr(nr.current),Ys(r)){if(!Oe)throw Error(h(176));if(n=r.stateNode,o=r.memoizedProps,(l=Mu(n,o,r,!ss))&&(u=rn,u!==null))switch(u.tag){case 3:Jc(u.stateNode.containerInfo,n,o,(u.mode&1)!==0);break;case 5:Rt(u.type,u.memoizedProps,u.stateNode,n,o,(u.mode&1)!==0)}l&&wn(r)}else r.stateNode=te(l,n,o,r)}return St(r),null;case 13:if(gt(Ct),l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mt&&Sn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ku(),Ri(),r.flags|=98560,u=!1;else if(u=Ys(r),l!==null&&l.dehydrated!==null){if(n===null){if(!u)throw Error(h(318));if(!Oe)throw Error(h(344));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(h(317));Fu(u,r)}else Ri(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),u=!1}else gr!==null&&(Nl(gr),gr=null),u=!0;if(!u)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(o=l!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ct.current&1)!==0?kt===0&&(kt=3):Oo())),r.updateQueue!==null&&(r.flags|=4),St(r),null);case 4:return Fi(),fi(n,r),n===null&&Ge(r.stateNode.containerInfo),St(r),null;case 10:return ls(r.type._context),St(r),null;case 17:return Kt(r.type)&&Ni(),St(r),null;case 19:if(gt(Ct),u=r.memoizedState,u===null)return St(r),null;if(l=(r.flags&128)!==0,_=u.rendering,_===null)if(l)qn(u,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=tl(n),_!==null){for(r.flags|=128,qn(u,!1),n=_.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=o,o=r.child;o!==null;)l=o,u=n,l.flags&=14680066,_=l.alternate,_===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=_.childLanes,l.lanes=_.lanes,l.child=_.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=_.memoizedProps,l.memoizedState=_.memoizedState,l.updateQueue=_.updateQueue,l.type=_.type,u=_.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o=o.sibling;return Ke(Ct,Ct.current&1|2),r.child}n=n.sibling}u.tail!==null&&Yt()>Cs&&(r.flags|=128,l=!0,qn(u,!1),r.lanes=4194304)}else{if(!l)if(n=tl(_),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),qn(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!mt)return St(r),null}else 2*Yt()-u.renderingStartTime>Cs&&o!==1073741824&&(r.flags|=128,l=!0,qn(u,!1),r.lanes=4194304);u.isBackwards?(_.sibling=r.child,r.child=_):(n=u.last,n!==null?n.sibling=_:r.child=_,u.last=_)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Yt(),r.sibling=null,n=Ct.current,Ke(Ct,l?n&1|2:n&1),r):(St(r),null);case 22:case 23:return Pl(),o=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(Bt&1073741824)!==0&&(St(r),Ne&&r.subtreeFlags&6&&(r.flags|=8192)):St(r),null;case 24:return null;case 25:return null}throw Error(h(156,r.tag))}function uc(n,r){switch(os(r),r.tag){case 1:return Kt(r.type)&&Ni(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Fi(),gt(Mn),gt(cn),oa(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return ra(r),null;case 13:if(gt(Ct),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(h(340));Ri()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return gt(Ct),null;case 4:return Fi(),null;case 10:return ls(r.type._context),null;case 22:case 23:return Pl(),null;case 24:return null;default:return null}}var Co=!1,Jt=!1,Kn=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function ot(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){yt(n,r,l)}else o.current=null}function Yn(n,r,o){try{o()}catch(l){yt(n,r,l)}}var xa=!1;function cc(n,r){for(q(n.containerInfo),Ce=r;Ce!==null;)if(n=Ce,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Ce=r;else for(;Ce!==null;){n=Ce;try{var o=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,u=o.memoizedState,_=n.stateNode,H=_.getSnapshotBeforeUpdate(n.elementType===n.type?l:Wn(n.type,l),u);_.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Ne&&no(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(oe){yt(n,n.return,oe)}if(r=n.sibling,r!==null){r.return=n.return,Ce=r;break}Ce=n.return}return o=xa,xa=!1,o}function qi(n,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&n)===n){var _=u.destroy;u.destroy=void 0,_!==void 0&&Yn(r,o,_)}u=u.next}while(u!==l)}}function Eo(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function gl(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=he(o);break;default:n=o}typeof r=="function"?r(n):r.current=n}}function ys(n){var r=n.alternate;r!==null&&(n.alternate=null,ys(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&nt(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Sa(n){return n.tag===5||n.tag===3||n.tag===4}function Ki(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Sa(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _s(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?wi(o,n,r):bn(o,n);else if(l!==4&&(n=n.child,n!==null))for(_s(n,r,o),n=n.sibling;n!==null;)_s(n,r,o),n=n.sibling}function wa(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?Qo(o,n,r):un(o,n);else if(l!==4&&(n=n.child,n!==null))for(wa(n,r,o),n=n.sibling;n!==null;)wa(n,r,o),n=n.sibling}var Tt=null,On=!1;function vr(n,r,o){for(o=o.child;o!==null;)ml(n,r,o),o=o.sibling}function ml(n,r,o){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(ei,o)}catch{}switch(o.tag){case 5:Jt||ot(o,r);case 6:if(Ne){var l=Tt,u=On;Tt=null,vr(n,r,o),Tt=l,On=u,Tt!==null&&(On?Jo(Tt,o.stateNode):Il(Tt,o.stateNode))}else vr(n,r,o);break;case 18:Ne&&Tt!==null&&(On?zu(Tt,o.stateNode):Ou(Tt,o.stateNode));break;case 4:Ne?(l=Tt,u=On,Tt=o.stateNode.containerInfo,On=!0,vr(n,r,o),Tt=l,On=u):(De&&(l=o.stateNode.containerInfo,u=Bl(l),js(l,u)),vr(n,r,o));break;case 0:case 11:case 14:case 15:if(!Jt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var _=u,H=_.destroy;_=_.tag,H!==void 0&&((_&2)!==0||(_&4)!==0)&&Yn(o,r,H),u=u.next}while(u!==l)}vr(n,r,o);break;case 1:if(!Jt&&(ot(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(oe){yt(o,r,oe)}vr(n,r,o);break;case 21:vr(n,r,o);break;case 22:o.mode&1?(Jt=(l=Jt)||o.memoizedState!==null,vr(n,r,o),Jt=l):vr(n,r,o);break;default:vr(n,r,o)}}function Yi(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new Kn),r.forEach(function(l){var u=id.bind(null,n,l);o.has(l)||(o.add(l),l.then(u,u))})}}function or(n,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];try{var _=n,H=r;if(Ne){var oe=H;e:for(;oe!==null;){switch(oe.tag){case 5:Tt=oe.stateNode,On=!1;break e;case 3:Tt=oe.stateNode.containerInfo,On=!0;break e;case 4:Tt=oe.stateNode.containerInfo,On=!0;break e}oe=oe.return}if(Tt===null)throw Error(h(160));ml(_,H,u),Tt=null,On=!1}else ml(_,H,u);var ge=u.alternate;ge!==null&&(ge.return=null),u.return=null}catch(Se){yt(u,r,Se)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)xs(r,n),r=r.sibling}function xs(n,r){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(or(r,n),Xn(n),l&4){try{qi(3,n,n.return),Eo(3,n)}catch(Pe){yt(n,n.return,Pe)}try{qi(5,n,n.return)}catch(Pe){yt(n,n.return,Pe)}}break;case 1:or(r,n),Xn(n),l&512&&o!==null&&ot(o,o.return);break;case 5:if(or(r,n),Xn(n),l&512&&o!==null&&ot(o,o.return),Ne){if(n.flags&32){var u=n.stateNode;try{As(u)}catch(Pe){yt(n,n.return,Pe)}}if(l&4&&(u=n.stateNode,u!=null)){var _=n.memoizedProps;if(o=o!==null?o.memoizedProps:_,l=n.type,r=n.updateQueue,n.updateQueue=null,r!==null)try{Si(u,r,l,o,_,n)}catch(Pe){yt(n,n.return,Pe)}}}break;case 6:if(or(r,n),Xn(n),l&4&&Ne){if(n.stateNode===null)throw Error(h(162));u=n.stateNode,_=n.memoizedProps,o=o!==null?o.memoizedProps:_;try{Ft(u,o,_)}catch(Pe){yt(n,n.return,Pe)}}break;case 3:if(or(r,n),Xn(n),l&4){if(Ne&&Oe&&o!==null&&o.memoizedState.isDehydrated)try{Au(r.containerInfo)}catch(Pe){yt(n,n.return,Pe)}if(De){u=r.containerInfo,_=r.pendingChildren;try{js(u,_)}catch(Pe){yt(n,n.return,Pe)}}}break;case 4:if(or(r,n),Xn(n),l&4&&De){_=n.stateNode,u=_.containerInfo,_=_.pendingChildren;try{js(u,_)}catch(Pe){yt(n,n.return,Pe)}}break;case 13:or(r,n),Xn(n),u=n.child,u.flags&8192&&(_=u.memoizedState!==null,u.stateNode.isHidden=_,!_||u.alternate!==null&&u.alternate.memoizedState!==null||(Mo=Yt())),l&4&&Yi(n);break;case 22:var H=o!==null&&o.memoizedState!==null;if(n.mode&1?(Jt=(o=Jt)||H,or(r,n),Jt=o):or(r,n),Xn(n),l&8192){if(o=n.memoizedState!==null,(n.stateNode.isHidden=o)&&!H&&(n.mode&1)!==0)for(Ce=n,l=n.child;l!==null;){for(r=Ce=l;Ce!==null;){H=Ce;var oe=H.child;switch(H.tag){case 0:case 11:case 14:case 15:qi(4,H,H.return);break;case 1:ot(H,H.return);var ge=H.stateNode;if(typeof ge.componentWillUnmount=="function"){var Se=H,Le=H.return;try{var Be=Se;ge.props=Be.memoizedProps,ge.state=Be.memoizedState,ge.componentWillUnmount()}catch(Pe){yt(Se,Le,Pe)}}break;case 5:ot(H,H.return);break;case 22:if(H.memoizedState!==null){_l(r);continue}}oe!==null?(oe.return=H,Ce=oe):_l(r)}l=l.sibling}if(Ne){e:if(l=null,Ne)for(r=n;;){if(r.tag===5){if(l===null){l=r;try{u=r.stateNode,o?bl(u):Ul(r.stateNode,r.memoizedProps)}catch(Pe){yt(n,n.return,Pe)}}}else if(r.tag===6){if(l===null)try{_=r.stateNode,o?Gl(_):to(_,r.memoizedProps)}catch(Pe){yt(n,n.return,Pe)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:or(r,n),Xn(n),l&4&&Yi(n);break;case 21:break;default:or(r,n),Xn(n)}}function Xn(n){var r=n.flags;if(r&2){try{if(Ne){e:{for(var o=n.return;o!==null;){if(Sa(o)){var l=o;break e}o=o.return}throw Error(h(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(As(u),l.flags&=-33);var _=Ki(n);wa(n,_,u);break;case 3:case 4:var H=l.stateNode.containerInfo,oe=Ki(n);_s(n,oe,H);break;default:throw Error(h(161))}}}catch(ge){yt(n,n.return,ge)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function No(n,r,o){Ce=n,vl(n)}function vl(n,r,o){for(var l=(n.mode&1)!==0;Ce!==null;){var u=Ce,_=u.child;if(u.tag===22&&l){var H=u.memoizedState!==null||Co;if(!H){var oe=u.alternate,ge=oe!==null&&oe.memoizedState!==null||Jt;oe=Co;var Se=Jt;if(Co=H,(Jt=ge)&&!Se)for(Ce=u;Ce!==null;)H=Ce,ge=H.child,H.tag===22&&H.memoizedState!==null?xl(u):ge!==null?(ge.return=H,Ce=ge):xl(u);for(;_!==null;)Ce=_,vl(_),_=_.sibling;Ce=u,Co=oe,Jt=Se}yl(n)}else(u.subtreeFlags&8772)!==0&&_!==null?(_.return=u,Ce=_):yl(n)}}function yl(n){for(;Ce!==null;){var r=Ce;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Jt||Eo(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Jt)if(o===null)l.componentDidMount();else{var u=r.elementType===r.type?o.memoizedProps:Wn(r.type,o.memoizedProps);l.componentDidUpdate(u,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var _=r.updateQueue;_!==null&&$u(r,_,l);break;case 3:var H=r.updateQueue;if(H!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=he(r.child.stateNode);break;case 1:o=r.child.stateNode}$u(r,H,o)}break;case 5:var oe=r.stateNode;o===null&&r.flags&4&&At(oe,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&r.memoizedState===null){var ge=r.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var Le=Se.dehydrated;Le!==null&&ju(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Jt||r.flags&512&&gl(r)}catch(Be){yt(r,r.return,Be)}}if(r===n){Ce=null;break}if(o=r.sibling,o!==null){o.return=r.return,Ce=o;break}Ce=r.return}}function _l(n){for(;Ce!==null;){var r=Ce;if(r===n){Ce=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Ce=o;break}Ce=r.return}}function xl(n){for(;Ce!==null;){var r=Ce;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Eo(4,r)}catch(ge){yt(r,o,ge)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var u=r.return;try{l.componentDidMount()}catch(ge){yt(r,u,ge)}}var _=r.return;try{gl(r)}catch(ge){yt(r,_,ge)}break;case 5:var H=r.return;try{gl(r)}catch(ge){yt(r,H,ge)}}}catch(ge){yt(r,r.return,ge)}if(r===n){Ce=null;break}var oe=r.sibling;if(oe!==null){oe.return=r.return,Ce=oe;break}Ce=r.return}}var Wr=0,En=1,Tr=2,Po=3,Ss=4;if(typeof Symbol=="function"&&Symbol.for){var Qn=Symbol.for;Wr=Qn("selector.component"),En=Qn("selector.has_pseudo_class"),Tr=Qn("selector.role"),Po=Qn("selector.test_id"),Ss=Qn("selector.text")}function Lr(n){var r=et(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(h(364));return r}if(n=$n(n),n===null)throw Error(h(362));return n.stateNode.current}function ws(n,r){switch(r.$$typeof){case Wr:if(n.type===r.value)return!0;break;case En:e:{r=r.value,n=[n,0];for(var o=0;o<n.length;){var l=n[o++],u=n[o++],_=r[u];if(l.tag!==5||!$t(l)){for(;_!=null&&ws(l,_);)u++,_=r[u];if(u===r.length){r=!0;break e}else for(l=l.child;l!==null;)n.push(l,u),l=l.sibling}}r=!1}return r;case Tr:if(n.tag===5&&Sr(n.stateNode,r.value))return!0;break;case Ss:if((n.tag===5||n.tag===6)&&(n=Ln(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case Po:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}function Sl(n){switch(n.$$typeof){case Wr:return"<"+(X(n.value)||"Unknown")+">";case En:return":has("+(Sl(n)||"")+")";case Tr:return'[role="'+n.value+'"]';case Ss:return'"'+n.value+'"';case Po:return'[data-testname="'+n.value+'"]';default:throw Error(h(365))}}function Mr(n,r){var o=[];n=[n,0];for(var l=0;l<n.length;){var u=n[l++],_=n[l++],H=r[_];if(u.tag!==5||!$t(u)){for(;H!=null&&ws(u,H);)_++,H=r[_];if(_===r.length)o.push(u);else for(u=u.child;u!==null;)n.push(u,_),u=u.sibling}}return o}function Fr(n,r){if(!Et)throw Error(h(363));n=Lr(n),n=Mr(n,r),r=[],n=Array.from(n);for(var o=0;o<n.length;){var l=n[o++];if(l.tag===5)$t(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)n.push(l),l=l.sibling}return r}var wl=Math.ceil,ks=m.ReactCurrentDispatcher,Ro=m.ReactCurrentOwner,Nt=m.ReactCurrentBatchConfig,He=0,ct=null,wt=null,Lt=0,Bt=0,gi=tn(0),kt=0,To=null,qr=0,ft=0,Lo=0,Xi=null,fn=null,Mo=0,Cs=1/0,Nn=null;function at(){Cs=Yt()+500}var Pt=!1,Ot=null,yr=null,mi=!1,sr=null,kl=0,zt=0,Es=null,Fo=-1,Ao=0;function vt(){return(He&6)!==0?Yt():Fo!==-1?Fo:Fo=Yt()}function Vt(n){return(n.mode&1)===0?1:(He&2)!==0&&Lt!==0?Lt&-Lt:td.transition!==null?(Ao===0&&(Ao=Us()),Ao):(n=Ye,n!==0?n:Mt())}function pn(n,r,o,l){if(50<zt)throw zt=0,Es=null,Error(h(185));tr(n,o,l),((He&2)===0||n!==ct)&&(n===ct&&((He&2)===0&&(ft|=o),kt===4&&Kr(n,Lt)),gn(n,l),o===1&&He===0&&(r.mode&1)===0&&(at(),ho&&nn()))}function gn(n,r){var o=n.callbackNode;Gu(n,r);var l=lo(n,n===ct?Lt:0);if(l===0)o!==null&&Uu(o),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(o!=null&&Uu(o),r===1)n.tag===0?Vu(ka.bind(null,n)):qs(ka.bind(null,n)),_t?xr(function(){(He&6)===0&&nn()}):Cr(Bs,nn),o=null;else{switch(uo(l)){case 1:o=Bs;break;case 4:o=Vs;break;case 16:o=Hs;break;case 536870912:o=ed;break;default:o=Hs}o=La(o,Cl.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Cl(n,r){if(Fo=-1,Ao=0,(He&6)!==0)throw Error(h(327));var o=n.callbackNode;if(Yr()&&n.callbackNode!==o)return null;var l=lo(n,n===ct?Lt:0);if(l===0)return null;if((l&30)!==0||(l&n.expiredLanes)!==0||r)r=Qi(n,l);else{r=l;var u=He;He|=2;var _=Ea();(ct!==n||Lt!==r)&&(Nn=null,at(),vi(n,r));do try{Na();break}catch(oe){jo(n,oe)}while(!0);$l(),ks.current=_,He=u,wt!==null?r=0:(ct=null,Lt=0,r=kt)}if(r!==0){if(r===2&&(u=Gs(n),u!==0&&(l=u,r=El(n,u))),r===1)throw o=To,vi(n,0),Kr(n,l),gn(n,Yt()),o;if(r===6)Kr(n,l);else{if(u=n.current.alternate,(l&30)===0&&!dc(u)&&(r=Qi(n,l),r===2&&(_=Gs(n),_!==0&&(l=_,r=El(n,_))),r===1))throw o=To,vi(n,0),Kr(n,l),gn(n,Yt()),o;switch(n.finishedWork=u,n.finishedLanes=l,r){case 0:case 1:throw Error(h(345));case 2:yi(n,fn,Nn);break;case 3:if(Kr(n,l),(l&130023424)===l&&(r=Mo+500-Yt(),10<r)){if(lo(n,0)!==0)break;if(u=n.suspendedLanes,(u&l)!==l){vt(),n.pingedLanes|=n.suspendedLanes&u;break}n.timeoutHandle=W(yi.bind(null,n,fn,Nn),r);break}yi(n,fn,Nn);break;case 4:if(Kr(n,l),(l&4194240)===l)break;for(r=n.eventTimes,u=-1;0<l;){var H=31-Gn(l);_=1<<H,H=r[H],H>u&&(u=H),l&=~_}if(l=u,l=Yt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*wl(l/1960))-l,10<l){n.timeoutHandle=W(yi.bind(null,n,fn,Nn),l);break}yi(n,fn,Nn);break;case 5:yi(n,fn,Nn);break;default:throw Error(h(329))}}}return gn(n,Yt()),n.callbackNode===o?Cl.bind(null,n):null}function El(n,r){var o=Xi;return n.current.memoizedState.isDehydrated&&(vi(n,r).flags|=256),n=Qi(n,r),n!==2&&(r=fn,fn=o,r!==null&&Nl(r)),n}function Nl(n){fn===null?fn=n:fn.push.apply(fn,n)}function dc(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var u=o[l],_=u.getSnapshot;u=u.value;try{if(!hr(_(),u))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(n,r){for(r&=~Lo,r&=~ft,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Gn(r),l=1<<o;n[o]=-1,r&=~l}}function ka(n){if((He&6)!==0)throw Error(h(327));Yr();var r=lo(n,0);if((r&1)===0)return gn(n,Yt()),null;var o=Qi(n,r);if(n.tag!==0&&o===2){var l=Gs(n);l!==0&&(r=l,o=El(n,l))}if(o===1)throw o=To,vi(n,0),Kr(n,r),gn(n,Yt()),o;if(o===6)throw Error(h(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,yi(n,fn,Nn),gn(n,Yt()),null}function Ca(n){sr!==null&&sr.tag===0&&(He&6)===0&&Yr();var r=He;He|=1;var o=Nt.transition,l=Ye;try{if(Nt.transition=null,Ye=1,n)return n()}finally{Ye=l,Nt.transition=o,He=r,(He&6)===0&&nn()}}function Pl(){Bt=gi.current,gt(gi)}function vi(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==ve&&(n.timeoutHandle=ve,ne(o)),wt!==null)for(o=wt.return;o!==null;){var l=o;switch(os(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ni();break;case 3:Fi(),gt(Mn),gt(cn),oa();break;case 5:ra(l);break;case 4:Fi();break;case 13:gt(Ct);break;case 19:gt(Ct);break;case 10:ls(l.type._context);break;case 22:case 23:Pl()}o=o.return}if(ct=n,wt=n=_i(n.current,null),Lt=Bt=r,kt=0,To=null,Lo=ft=qr=0,fn=Xi=null,ni!==null){for(r=0;r<ni.length;r++)if(o=ni[r],l=o.interleaved,l!==null){o.interleaved=null;var u=l.next,_=o.pending;if(_!==null){var H=_.next;_.next=u,l.next=H}o.pending=l}ni=null}return n}function jo(n,r){do{var o=wt;try{if($l(),jn.current=bi,yo){for(var l=xt.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}yo=!1}if(si=0,Gt=jt=xt=null,us=!1,cs=0,Ro.current=null,o===null||o.return===null){kt=1,To=r,wt=null;break}e:{var _=n,H=o.return,oe=o,ge=r;if(r=Lt,oe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Se=ge,Le=oe,Be=Le.tag;if((Le.mode&1)===0&&(Be===0||Be===11||Be===15)){var Pe=Le.alternate;Pe?(Le.updateQueue=Pe.updateQueue,Le.memoizedState=Pe.memoizedState,Le.lanes=Pe.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var pt=lc(H);if(pt!==null){pt.flags&=-257,ui(pt,H,oe,_,r),pt.mode&1&&sc(_,Se,r),r=pt,ge=Se;var st=r.updateQueue;if(st===null){var Pn=new Set;Pn.add(ge),r.updateQueue=Pn}else st.add(ge);break e}else{if((r&1)===0){sc(_,Se,r),Oo();break e}ge=Error(h(426))}}else if(mt&&oe.mode&1){var Ar=lc(H);if(Ar!==null){(Ar.flags&65536)===0&&(Ar.flags|=256),ui(Ar,H,oe,_,r),Jl(Gi(ge,oe));break e}}_=ge=Gi(ge,oe),kt!==4&&(kt=2),Xi===null?Xi=[_]:Xi.push(_),_=H;do{switch(_.tag){case 3:_.flags|=65536,r&=-r,_.lanes|=r;var fe=Nr(_,ge,r);mo(_,fe);break e;case 1:oe=ge;var le=_.type,me=_.stateNode;if((_.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(yr===null||!yr.has(me)))){_.flags|=65536,r&=-r,_.lanes|=r;var Re=dl(_,oe,r);mo(_,Re);break e}}_=_.return}while(_!==null)}Ra(o)}catch(ze){r=ze,wt===o&&o!==null&&(wt=o=o.return);continue}break}while(!0)}function Ea(){var n=ks.current;return ks.current=bi,n===null?bi:n}function Oo(){(kt===0||kt===3||kt===2)&&(kt=4),ct===null||(qr&268435455)===0&&(ft&268435455)===0||Kr(ct,Lt)}function Qi(n,r){var o=He;He|=2;var l=Ea();(ct!==n||Lt!==r)&&(Nn=null,vi(n,r));do try{hc();break}catch(u){jo(n,u)}while(!0);if($l(),He=o,ks.current=l,wt!==null)throw Error(h(261));return ct=null,Lt=0,kt}function hc(){for(;wt!==null;)Pa(wt)}function Na(){for(;wt!==null&&!Bu();)Pa(wt)}function Pa(n){var r=vc(n.alternate,n,Bt);n.memoizedProps=n.pendingProps,r===null?Ra(n):wt=r,Ro.current=null}function Ra(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=Wi(o,r,Bt),o!==null){wt=o;return}}else{if(o=uc(o,r),o!==null){o.flags&=32767,wt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,wt=null;return}}if(r=r.sibling,r!==null){wt=r;return}wt=r=n}while(r!==null);kt===0&&(kt=5)}function yi(n,r,o){var l=Ye,u=Nt.transition;try{Nt.transition=null,Ye=1,fc(n,r,o,l)}finally{Nt.transition=u,Ye=l}return null}function fc(n,r,o,l){do Yr();while(sr!==null);if((He&6)!==0)throw Error(h(327));o=n.finishedWork;var u=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(h(177));n.callbackNode=null,n.callbackPriority=0;var _=o.lanes|o.childLanes;if($r(n,_),n===ct&&(wt=ct=null,Lt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||mi||(mi=!0,La(Hs,function(){return Yr(),null})),_=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||_){_=Nt.transition,Nt.transition=null;var H=Ye;Ye=1;var oe=He;He|=4,Ro.current=null,cc(n,o),xs(o,n),U(n.containerInfo),n.current=o,No(o),ns(),He=oe,Ye=H,Nt.transition=_}else n.current=o;if(mi&&(mi=!1,sr=n,kl=u),_=n.pendingLanes,_===0&&(yr=null),co(o.stateNode),gn(n,Yt()),r!==null)for(l=n.onRecoverableError,o=0;o<r.length;o++)u=r[o],l(u.value,{componentStack:u.stack,digest:u.digest});if(Pt)throw Pt=!1,n=Ot,Ot=null,n;return(kl&1)!==0&&n.tag!==0&&Yr(),_=n.pendingLanes,(_&1)!==0?n===Es?zt++:(zt=0,Es=n):zt=0,nn(),null}function Yr(){if(sr!==null){var n=uo(kl),r=Nt.transition,o=Ye;try{if(Nt.transition=null,Ye=16>n?16:n,sr===null)var l=!1;else{if(n=sr,sr=null,kl=0,(He&6)!==0)throw Error(h(331));var u=He;for(He|=4,Ce=n.current;Ce!==null;){var _=Ce,H=_.child;if((Ce.flags&16)!==0){var oe=_.deletions;if(oe!==null){for(var ge=0;ge<oe.length;ge++){var Se=oe[ge];for(Ce=Se;Ce!==null;){var Le=Ce;switch(Le.tag){case 0:case 11:case 15:qi(8,Le,_)}var Be=Le.child;if(Be!==null)Be.return=Le,Ce=Be;else for(;Ce!==null;){Le=Ce;var Pe=Le.sibling,pt=Le.return;if(ys(Le),Le===Se){Ce=null;break}if(Pe!==null){Pe.return=pt,Ce=Pe;break}Ce=pt}}}var st=_.alternate;if(st!==null){var Pn=st.child;if(Pn!==null){st.child=null;do{var Ar=Pn.sibling;Pn.sibling=null,Pn=Ar}while(Pn!==null)}}Ce=_}}if((_.subtreeFlags&2064)!==0&&H!==null)H.return=_,Ce=H;else e:for(;Ce!==null;){if(_=Ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:qi(9,_,_.return)}var fe=_.sibling;if(fe!==null){fe.return=_.return,Ce=fe;break e}Ce=_.return}}var le=n.current;for(Ce=le;Ce!==null;){H=Ce;var me=H.child;if((H.subtreeFlags&2064)!==0&&me!==null)me.return=H,Ce=me;else e:for(H=le;Ce!==null;){if(oe=Ce,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Eo(9,oe)}}catch(ze){yt(oe,oe.return,ze)}if(oe===H){Ce=null;break e}var Re=oe.sibling;if(Re!==null){Re.return=oe.return,Ce=Re;break e}Ce=oe.return}}if(He=u,nn(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(ei,n)}catch{}l=!0}return l}finally{Ye=o,Nt.transition=r}}return!1}function Ta(n,r,o){r=Gi(o,r),r=Nr(n,r,1),n=Ur(n,r,1),r=vt(),n!==null&&(tr(n,1,r),gn(n,r))}function yt(n,r,o){if(n.tag===3)Ta(n,n,o);else for(;r!==null;){if(r.tag===3){Ta(r,n,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){n=Gi(o,n),n=dl(r,n,1),r=Ur(r,n,1),n=vt(),r!==null&&(tr(r,1,n),gn(r,n));break}}r=r.return}}function pc(n,r,o){var l=n.pingCache;l!==null&&l.delete(r),r=vt(),n.pingedLanes|=n.suspendedLanes&o,ct===n&&(Lt&o)===o&&(kt===4||kt===3&&(Lt&130023424)===Lt&&500>Yt()-Mo?vi(n,0):Lo|=o),gn(n,r)}function gc(n,r){r===0&&((n.mode&1)===0?r=1:(r=ts,ts<<=1,(ts&130023424)===0&&(ts=4194304)));var o=vt();n=mr(n,r),n!==null&&(tr(n,r,o),gn(n,o))}function mc(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),gc(n,o)}function id(n,r){var o=0;switch(n.tag){case 13:var l=n.stateNode,u=n.memoizedState;u!==null&&(o=u.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(h(314))}l!==null&&l.delete(r),gc(n,o)}var vc;vc=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Mn.current)Ut=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return Ut=!1,di(n,r,o);Ut=(n.flags&131072)!==0}else Ut=!1,mt&&(r.flags&1048576)!==0&&Hu(r,Pi,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;vs(n,r),n=r.pendingProps;var u=Dr(r,cn.current);go(r,o),u=ds(null,r,l,n,u,o);var _=nl();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Kt(l)?(_=!0,oo(r)):_=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ta(r),u.updater=ps,r.stateNode=u,u._reactInternals=r,Er(r,l,n,o),r=dn(null,r,l,!0,_,o)):(r.tag=0,mt&&_&&is(r),Qt(null,r,u,o),r=r.child),r;case 16:l=r.elementType;e:{switch(vs(n,r),n=r.pendingProps,u=l._init,l=u(l._payload),r.type=l,u=r.tag=od(l),n=Wn(l,n),u){case 0:r=Pr(null,r,l,n,o);break e;case 1:r=sn(null,r,l,n,o);break e;case 11:r=hl(null,r,l,n,o);break e;case 14:r=Ui(null,r,l,Wn(l.type,n),o);break e}throw Error(h(306,l,""))}return r;case 0:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),Pr(n,r,l,u,o);case 1:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),sn(n,r,l,u,o);case 3:e:{if(ci(r),n===null)throw Error(h(387));l=r.pendingProps,_=r.memoizedState,u=_.element,Zu(n,r),ri(r,l,null,o);var H=r.memoizedState;if(l=H.element,Oe&&_.isDehydrated)if(_={element:l,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){u=Gi(Error(h(423)),r),r=Bi(n,r,l,o,u);break e}else if(l!==u){u=Gi(Error(h(424)),r),r=Bi(n,r,l,o,u);break e}else for(Oe&&(Sn=Kc(r.stateNode.containerInfo),rn=r,mt=!0,gr=null,ss=!1),o=Qu(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ri(),l===u){r=Hr(n,r,o);break e}Qt(n,r,l,o)}r=r.child}return r;case 5:return na(r),n===null&&Ql(r),l=r.type,u=r.pendingProps,_=n!==null?n.memoizedProps:null,H=u.children,ue(l,u)?H=null:_!==null&&ue(l,_)&&(r.flags|=32),ut(n,r),Qt(n,r,H,o),r.child;case 6:return n===null&&Ql(r),null;case 13:return _a(n,r,o);case 4:return el(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Li(r,null,l,o):Qt(n,r,l,o),r.child;case 11:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),hl(n,r,l,u,o);case 7:return Qt(n,r,r.pendingProps,o),r.child;case 8:return Qt(n,r,r.pendingProps.children,o),r.child;case 12:return Qt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,u=r.pendingProps,_=r.memoizedProps,H=u.value,Ju(r,l,H),_!==null)if(hr(_.value,H)){if(_.children===u.children&&!Mn.current){r=Hr(n,r,o);break e}}else for(_=r.child,_!==null&&(_.return=r);_!==null;){var oe=_.dependencies;if(oe!==null){H=_.child;for(var ge=oe.firstContext;ge!==null;){if(ge.context===l){if(_.tag===1){ge=Gr(-1,o&-o),ge.tag=2;var Se=_.updateQueue;if(Se!==null){Se=Se.shared;var Le=Se.pending;Le===null?ge.next=ge:(ge.next=Le.next,Le.next=ge),Se.pending=ge}}_.lanes|=o,ge=_.alternate,ge!==null&&(ge.lanes|=o),Mi(_.return,o,r),oe.lanes|=o;break}ge=ge.next}}else if(_.tag===10)H=_.type===r.type?null:_.child;else if(_.tag===18){if(H=_.return,H===null)throw Error(h(341));H.lanes|=o,oe=H.alternate,oe!==null&&(oe.lanes|=o),Mi(H,o,r),H=_.sibling}else H=_.child;if(H!==null)H.return=_;else for(H=_;H!==null;){if(H===r){H=null;break}if(_=H.sibling,_!==null){_.return=H.return,H=_;break}H=H.return}_=H}Qt(n,r,u.children,o),r=r.child}return r;case 9:return u=r.type,l=r.pendingProps.children,go(r,o),u=Bn(u),l=l(u),r.flags|=1,Qt(n,r,l,o),r.child;case 14:return l=r.type,u=Wn(l,r.pendingProps),u=Wn(l.type,u),Ui(n,r,l,u,o);case 15:return Vr(n,r,r.type,r.pendingProps,o);case 17:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),vs(n,r),r.tag=1,Kt(l)?(n=!0,oo(r)):n=!1,go(r,o),oc(r,l,u),Er(r,l,u,o),dn(null,r,l,!0,n,o);case 19:return pl(n,r,o);case 22:return ht(n,r,o)}throw Error(h(156,r.tag))};function La(n,r){return Cr(n,r)}function yc(n,r,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,r,o,l){return new yc(n,r,o,l)}function zo(n){return n=n.prototype,!(!n||!n.isReactComponent)}function od(n){if(typeof n=="function")return zo(n)?1:0;if(n!=null){if(n=n.$$typeof,n===w)return 11;if(n===p)return 14}return 2}function _i(n,r){var o=n.alternate;return o===null?(o=Jn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Rl(n,r,o,l,u,_){var H=2;if(l=n,typeof n=="function")zo(n)&&(H=1);else if(typeof n=="string")H=5;else e:switch(n){case N:return ln(o.children,u,_,r);case M:H=8,u|=8;break;case E:return n=Jn(12,o,r,u|2),n.elementType=E,n.lanes=_,n;case T:return n=Jn(13,o,r,u),n.elementType=T,n.lanes=_,n;case I:return n=Jn(19,o,r,u),n.elementType=I,n.lanes=_,n;case S:return Do(o,u,_,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:H=10;break e;case v:H=9;break e;case w:H=11;break e;case p:H=14;break e;case c:H=16,l=null;break e}throw Error(h(130,n==null?n:typeof n,""))}return r=Jn(H,o,r,u),r.elementType=n,r.type=l,r.lanes=_,r}function ln(n,r,o,l){return n=Jn(7,n,l,r),n.lanes=o,n}function Do(n,r,o,l){return n=Jn(22,n,l,r),n.elementType=S,n.lanes=o,n.stateNode={isHidden:!1},n}function Io(n,r,o){return n=Jn(6,n,null,r),n.lanes=o,n}function Tl(n,r,o){return r=Jn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function _c(n,r,o,l,u){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=l,this.onRecoverableError=u,Oe&&(this.mutableSourceEagerHydrationData=null)}function Ma(n,r,o,l,u,_,H,oe,ge){return n=new _c(n,r,o,oe,ge),r===1?(r=1,_===!0&&(r|=8)):r=0,_=Jn(3,null,null,r),n.current=_,_.stateNode=n,_.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ta(_),n}function Ll(n){if(!n)return Zr;n=n._reactInternals;e:{if(b(n)!==n||n.tag!==1)throw Error(h(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(h(171))}if(n.tag===1){var o=n.type;if(Kt(o))return Iu(n,o,r)}return r}function Ji(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(h(188)):(n=Object.keys(n).join(","),Error(h(268,n)));return n=Z(r),n===null?null:n.stateNode}function Ml(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function bo(n,r){Ml(n,r),(n=n.alternate)&&Ml(n,r)}function sd(n){return n=Z(n),n===null?null:n.stateNode}function xc(){return null}return R.attemptContinuousHydration=function(n){if(n.tag===13){var r=mr(n,134217728);if(r!==null){var o=vt();pn(r,n,134217728,o)}bo(n,134217728)}},R.attemptDiscreteHydration=function(n){if(n.tag===13){var r=mr(n,1);if(r!==null){var o=vt();pn(r,n,1,o)}bo(n,1)}},R.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Vt(n),o=mr(n,r);if(o!==null){var l=vt();pn(o,n,r,l)}bo(n,r)}},R.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=so(r.pendingLanes);o!==0&&(kr(r,o|1),gn(r,Yt()),(He&6)===0&&(at(),nn()))}break;case 13:Ca(function(){var l=mr(n,1);if(l!==null){var u=vt();pn(l,n,1,u)}}),bo(n,1)}},R.batchedUpdates=function(n,r){var o=He;He|=1;try{return n(r)}finally{He=o,He===0&&(at(),ho&&nn())}},R.createComponentSelector=function(n){return{$$typeof:Wr,value:n}},R.createContainer=function(n,r,o,l,u,_,H){return Ma(n,r,!1,null,o,l,u,_,H)},R.createHasPseudoClassSelector=function(n){return{$$typeof:En,value:n}},R.createHydrationContainer=function(n,r,o,l,u,_,H,oe,ge){return n=Ma(o,l,!0,n,u,_,H,oe,ge),n.context=Ll(null),o=n.current,l=vt(),u=Vt(o),_=Gr(l,u),_.callback=r??null,Ur(o,_,u),n.current.lanes=u,tr(n,u,l),gn(n,l),n},R.createPortal=function(n,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:l==null?null:""+l,children:n,containerInfo:r,implementation:o}},R.createRoleSelector=function(n){return{$$typeof:Tr,value:n}},R.createTestNameSelector=function(n){return{$$typeof:Po,value:n}},R.createTextSelector=function(n){return{$$typeof:Ss,value:n}},R.deferredUpdates=function(n){var r=Ye,o=Nt.transition;try{return Nt.transition=null,Ye=16,n()}finally{Ye=r,Nt.transition=o}},R.discreteUpdates=function(n,r,o,l,u){var _=Ye,H=Nt.transition;try{return Nt.transition=null,Ye=1,n(r,o,l,u)}finally{Ye=_,Nt.transition=H,He===0&&at()}},R.findAllNodes=Fr,R.findBoundingRects=function(n,r){if(!Et)throw Error(h(363));r=Fr(n,r),n=[];for(var o=0;o<r.length;o++)n.push(lt(r[o]));for(r=n.length-1;0<r;r--){o=n[r];for(var l=o.x,u=l+o.width,_=o.y,H=_+o.height,oe=r-1;0<=oe;oe--)if(r!==oe){var ge=n[oe],Se=ge.x,Le=Se+ge.width,Be=ge.y,Pe=Be+ge.height;if(l>=Se&&_>=Be&&u<=Le&&H<=Pe){n.splice(r,1);break}else if(l!==Se||o.width!==ge.width||Pe<_||Be>H){if(!(_!==Be||o.height!==ge.height||Le<l||Se>u)){Se>l&&(ge.width+=Se-l,ge.x=l),Le<u&&(ge.width=u-Se),n.splice(r,1);break}}else{Be>_&&(ge.height+=Be-_,ge.y=_),Pe<H&&(ge.height=H-Be),n.splice(r,1);break}}}return n},R.findHostInstance=Ji,R.findHostInstanceWithNoPortals=function(n){return n=K(n),n=n!==null?se(n):null,n===null?null:n.stateNode},R.findHostInstanceWithWarning=function(n){return Ji(n)},R.flushControlled=function(n){var r=He;He|=1;var o=Nt.transition,l=Ye;try{Nt.transition=null,Ye=1,n()}finally{Ye=l,Nt.transition=o,He=r,He===0&&(at(),nn())}},R.flushPassiveEffects=Yr,R.flushSync=Ca,R.focusWithin=function(n,r){if(!Et)throw Error(h(363));for(n=Lr(n),r=Mr(n,r),r=Array.from(r),n=0;n<r.length;){var o=r[n++];if(!$t(o)){if(o.tag===5&&en(o.stateNode))return!0;for(o=o.child;o!==null;)r.push(o),o=o.sibling}}return!1},R.getCurrentUpdatePriority=function(){return Ye},R.getFindAllNodesFailureDescription=function(n,r){if(!Et)throw Error(h(363));var o=0,l=[];n=[Lr(n),0];for(var u=0;u<n.length;){var _=n[u++],H=n[u++],oe=r[H];if((_.tag!==5||!$t(_))&&(ws(_,oe)&&(l.push(Sl(oe)),H++,H>o&&(o=H)),H<r.length))for(_=_.child;_!==null;)n.push(_,H),_=_.sibling}if(o<r.length){for(n=[];o<r.length;o++)n.push(Sl(r[o]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},R.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return he(n.child.stateNode);default:return n.child.stateNode}},R.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:sd,findFiberByHostInstance:n.findFiberByHostInstance||xc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{ei=r.inject(n),Fn=r}catch{}n=!!r.checkDCE}}return n},R.isAlreadyRendering=function(){return!1},R.observeVisibleRects=function(n,r,o,l){if(!Et)throw Error(h(363));n=Fr(n,r);var u=er(n,o,l).disconnect;return{disconnect:function(){u()}}},R.registerMutableSourceForHydration=function(n,r){var o=r._getVersion;o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o)},R.runWithPriority=function(n,r){var o=Ye;try{return Ye=n,r()}finally{Ye=o}},R.shouldError=function(){return null},R.shouldSuspend=function(){return!1},R.updateContainer=function(n,r,o,l){var u=r.current,_=vt(),H=Vt(u);return o=Ll(o),r.context===null?r.context=o:r.pendingContext=o,r=Gr(_,H),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=Ur(u,r,H),n!==null&&(pn(n,u,H,_),as(n,u,H)),H},R}),Wd}var Xf;function G1(){return Xf||(Xf=1,Hd.exports=b1()),Hd.exports}var U1=G1();const B1=Qd(U1);var qd={exports:{}},Yo={};var Qf;function V1(){return Qf||(Qf=1,Yo.ConcurrentRoot=1,Yo.ContinuousEventPriority=4,Yo.DefaultEventPriority=16,Yo.DiscreteEventPriority=1,Yo.IdleEventPriority=536870912,Yo.LegacyRoot=0),Yo}var Jf;function H1(){return Jf||(Jf=1,qd.exports=V1()),qd.exports}var f0=H1(),W1=qe();const Zf={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let $f=!1,e0=!1;const nh=".react-konva-event",q1=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,K1=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Y1={};function Wc(f,g,R=Y1){if(!$f&&"zIndex"in g&&(console.warn(K1),$f=!0),!e0&&g.draggable){var V=g.x!==void 0||g.y!==void 0,A=g.onDragEnd||g.onDragMove;V&&!A&&(console.warn(q1),e0=!0)}for(var C in R)if(!Zf[C]){var h=C.slice(0,2)==="on",m=R[C]!==g[C];if(h&&m){var x=C.substr(2).toLowerCase();x.substr(0,7)==="content"&&(x="content"+x.substr(7,1).toUpperCase()+x.substr(8)),f.off(x,R[C])}var k=!g.hasOwnProperty(C);k&&f.setAttr(C,void 0)}var N=g._useStrictMode,M={},E=!1;const y={};for(var C in g)if(!Zf[C]){var h=C.slice(0,2)==="on",v=R[C]!==g[C];if(h&&v){var x=C.substr(2).toLowerCase();x.substr(0,7)==="content"&&(x="content"+x.substr(7,1).toUpperCase()+x.substr(8)),g[C]&&(y[x]=g[C])}!h&&(g[C]!==R[C]||N&&g[C]!==f.getAttr(C))&&(E=!0,M[C]=g[C])}E&&(f.setAttrs(M),Xo(f));for(var x in y)f.on(x+nh,y[x])}function Xo(f){if(!W1.Konva.autoDrawEnabled){var g=f.getLayer()||f.getStage();g&&g.batchDraw()}}var Kd=Jd();const p0={},X1={};Pu.Node.prototype._applyProps=Wc;function Q1(f,g){if(typeof g=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${g}`);return}f.add(g),Xo(f)}function J1(f,g,R){let V=Pu[f];V||(console.error(`Konva has no node with the type ${f}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${f}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),V=Pu.Group);const A={},C={};for(var h in g){var m=h.slice(0,2)==="on";m?C[h]=g[h]:A[h]=g[h]}const x=new V(A);return Wc(x,C),x}function Z1(f,g,R){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${f}"`)}function $1(f,g,R){return!1}function e2(f){return f}function t2(){return null}function n2(){return null}function r2(f,g,R,V){return X1}function i2(){}function o2(f){}function s2(f,g){return!1}function l2(){return p0}function a2(){return p0}const u2=setTimeout,c2=clearTimeout,d2=-1;function h2(f,g){return!1}const f2=!1,p2=!0,g2=!0;function m2(f,g){g.parent===f?g.moveToTop():f.add(g),Xo(f)}function v2(f,g){g.parent===f?g.moveToTop():f.add(g),Xo(f)}function g0(f,g,R){g._remove(),f.add(g),g.setZIndex(R.getZIndex()),Xo(f)}function y2(f,g,R){g0(f,g,R)}function _2(f,g){g.destroy(),g.off(nh),Xo(f)}function x2(f,g){g.destroy(),g.off(nh),Xo(f)}function S2(f,g,R){console.error(`Text components are not yet supported in ReactKonva. You text is: "${R}"`)}function w2(f,g,R){}function k2(f,g,R,V,A){Wc(f,A,V)}function C2(f){f.hide(),Xo(f)}function E2(f){}function N2(f,g){(g.visible==null||g.visible)&&f.show()}function P2(f,g){}function R2(f){}function T2(){}const L2=()=>f0.DefaultEventPriority,M2=Object.freeze(Object.defineProperty({__proto__:null,appendChild:m2,appendChildToContainer:v2,appendInitialChild:Q1,cancelTimeout:c2,clearContainer:R2,commitMount:w2,commitTextUpdate:S2,commitUpdate:k2,createInstance:J1,createTextInstance:Z1,detachDeletedInstance:T2,finalizeInitialChildren:$1,getChildHostContext:a2,getCurrentEventPriority:L2,getPublicInstance:e2,getRootHostContext:l2,hideInstance:C2,hideTextInstance:E2,idlePriority:Kd.unstable_IdlePriority,insertBefore:g0,insertInContainerBefore:y2,isPrimaryRenderer:f2,noTimeout:d2,now:Kd.unstable_now,prepareForCommit:t2,preparePortalMount:n2,prepareUpdate:r2,removeChild:_2,removeChildFromContainer:x2,resetAfterCommit:i2,resetTextContent:o2,run:Kd.unstable_runWithPriority,scheduleTimeout:u2,shouldDeprioritizeSubtree:s2,shouldSetTextContent:h2,supportsMutation:g2,unhideInstance:N2,unhideTextInstance:P2,warnsIfNotActing:p2},Symbol.toStringTag,{value:"Module"}));var F2=Object.defineProperty,A2=Object.defineProperties,j2=Object.getOwnPropertyDescriptors,t0=Object.getOwnPropertySymbols,O2=Object.prototype.hasOwnProperty,z2=Object.prototype.propertyIsEnumerable,n0=(f,g,R)=>g in f?F2(f,g,{enumerable:!0,configurable:!0,writable:!0,value:R}):f[g]=R,r0=(f,g)=>{for(var R in g||(g={}))O2.call(g,R)&&n0(f,R,g[R]);if(t0)for(var R of t0(g))z2.call(g,R)&&n0(f,R,g[R]);return f},D2=(f,g)=>A2(f,j2(g)),i0,o0;typeof window<"u"&&((i0=window.document)!=null&&i0.createElement||((o0=window.navigator)==null?void 0:o0.product)==="ReactNative")?Ee.useLayoutEffect:Ee.useEffect;function m0(f,g,R){if(!f)return;if(R(f)===!0)return f;let V=f.child;for(;V;){const A=m0(V,g,R);if(A)return A;V=V.sibling}}function v0(f){try{return Object.defineProperties(f,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return f}}const s0=console.error;console.error=function(){const f=[...arguments].join("");if(f?.startsWith("Warning:")&&f.includes("useContext")){console.error=s0;return}return s0.apply(this,arguments)};const rh=v0(Ee.createContext(null));class y0 extends Ee.Component{render(){return Ee.createElement(rh.Provider,{value:this._reactInternals},this.props.children)}}function I2(){const f=Ee.useContext(rh);if(f===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const g=Ee.useId();return Ee.useMemo(()=>{for(const V of[f,f?.alternate]){if(!V)continue;const A=m0(V,!1,C=>{let h=C.memoizedState;for(;h;){if(h.memoizedState===g)return!0;h=h.next}});if(A)return A}},[f,g])}function b2(){const f=I2(),[g]=Ee.useState(()=>new Map);g.clear();let R=f;for(;R;){if(R.type&&typeof R.type=="object"){const A=R.type._context===void 0&&R.type.Provider===R.type?R.type:R.type._context;A&&A!==rh&&!g.has(A)&&g.set(A,Ee.useContext(v0(A)))}R=R.return}return g}function G2(){const f=b2();return Ee.useMemo(()=>Array.from(f.keys()).reduce((g,R)=>V=>Ee.createElement(g,null,Ee.createElement(R.Provider,D2(r0({},V),{value:f.get(R)}))),g=>Ee.createElement(y0,r0({},g))),[f])}function U2(f){const g=In.useRef({});return In.useLayoutEffect(()=>{g.current=f}),In.useLayoutEffect(()=>()=>{g.current={}},[]),g.current}const B2=f=>{const g=In.useRef(null),R=In.useRef(null),V=In.useRef(null),A=U2(f),C=G2(),h=m=>{const{forwardedRef:x}=f;x&&(typeof x=="function"?x(m):x.current=m)};return In.useLayoutEffect(()=>(R.current=new Pu.Stage({width:f.width,height:f.height,container:g.current}),h(R.current),V.current=Nu.createContainer(R.current,f0.LegacyRoot,!1,null),Nu.updateContainer(In.createElement(C,{},f.children),V.current),()=>{Pu.isBrowser&&(h(null),Nu.updateContainer(null,V.current,null),R.current.destroy())}),[]),In.useLayoutEffect(()=>{h(R.current),Wc(R.current,f,A),Nu.updateContainer(In.createElement(C,{},f.children),V.current,null)}),In.createElement("div",{ref:g,id:f.id,accessKey:f.accessKey,className:f.className,role:f.role,style:f.style,tabIndex:f.tabIndex,title:f.title})},V2="Layer",H2="Group",W2="Line",_0="Image",q2="Transformer",Nu=B1(M2);Nu.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:In.version,rendererPackageName:"react-konva"});const K2=In.forwardRef((f,g)=>In.createElement(y0,{},In.createElement(B2,{...f,forwardedRef:g}))),Y2=In.memo(function({item:g,onDelete:R,onSelect:V,isSelected:A,onUpdate:C,snapEnabled:h,gridSpacing:m}){const[x,k]=Ee.useState(null),[N,M]=Ee.useState(!0),E=Ee.useRef(),y=Ee.useRef(),v=Ee.useRef(g);if(Ee.useEffect(()=>{v.current=g},[g]),Ee.useEffect(()=>{const I=new window.Image;I.src=Fs(g.image),I.onload=()=>{k(I),M(!1)},I.onerror=()=>{console.error(`Failed to load image: ${g.image}`),M(!1)}},[g.image]),Ee.useEffect(()=>{A&&y.current&&E.current&&(y.current.nodes([E.current]),y.current.getLayer().batchDraw())},[A]),N)return null;const w=I=>{let p=I.target.x(),c=I.target.y();h&&(p=Math.round(p/m)*m,c=Math.round(c/m)*m,I.target.x(p),I.target.y(c)),v.current.x=p,v.current.y=c,C(v.current)},T=()=>{if(E.current){const I=E.current,p=I.scaleX(),c=I.scaleY(),S=Math.max(p,c),L=Math.max(20,v.current.width*S),D=Math.max(20,v.current.height*S);I.scaleX(1),I.scaleY(1),v.current.x=I.x(),v.current.y=I.y(),v.current.rotation=I.rotation(),v.current.width=L,v.current.height=D,C(v.current)}};return B.jsxs(B.Fragment,{children:[B.jsx(_0,{ref:E,image:x,x:g.x,y:g.y,width:g.width,height:g.height,rotation:g.rotation,draggable:!0,onDragEnd:w,onClick:()=>V(g.id),onTap:()=>V(g.id),onContextMenu:I=>{I.evt.preventDefault(),R(g.id)},stroke:A?"#CBB8F9":void 0,strokeWidth:A?2:0,shadowColor:A?"#A5CAFE":void 0,shadowBlur:A?8:0,shadowOpacity:A?.6:0,name:"furniture-item"}),A&&B.jsx(q2,{ref:y,keepRatio:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(I,p)=>{if(p.width<20||p.height<20)return I;const c=I.width/I.height,S=p.width/p.height;return Math.abs(c-S)>1e-4&&(p.height=p.width/c),p},rotationSnaps:[0,90,180,270],onTransformEnd:T})]})}),x0=Ee.forwardRef(function({furniture:g,onUpdateFurniture:R,stageRef:V,background:A,scale:C=1,showGrid:h=!1,isPanning:m=!1,snapEnabled:x=!1},k){const N=Ee.useRef(),[M,E]=Ee.useState(null),y=Ee.useRef(),[v,w]=Ee.useState(null),[T,I]=Ee.useState({width:1200,height:800}),[p,c]=Ee.useState(1),[S,L]=Ee.useState({x:0,y:0}),[D,X]=Ee.useState("cover"),z=Ee.useCallback(()=>{if(!y.current)return;const he=y.current.offsetWidth,P=y.current.offsetHeight;if(v&&A){const O=A.width,q=A.height,U=D==="cover"?Math.max(he/O,P/q):Math.min(he/O,P/q);if(c(U),I({width:O,height:q}),D==="cover")L({x:0,y:0});else{const F=O*U,Q=q*U;L({x:(he-F)/2,y:(P-Q)/2})}}else c(1),I({width:he,height:P}),L({x:0,y:0})},[v,A,D]);Ee.useEffect(()=>{if(A){const he=new window.Image;he.src=Fs(A.image),he.onload=()=>w(he),he.onerror=()=>{console.error(`Failed to load background: ${A.image}`),w(null)}}else w(null),c(1)},[A]),Ee.useEffect(()=>{z()},[z]),Ee.useEffect(()=>{V&&N.current&&(V.current=N.current),k&&N.current&&(k.current=N.current)},[V,k]),Ee.useEffect(()=>{const he=()=>z();return he(),window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[z]);const b=Ee.useCallback(he=>{const P=g.filter(O=>O.id!==he);R(P),E(null)},[g,R]),G=he=>{const P=he.target,O=typeof P?.hasName=="function"&&P.hasName("furniture-item"),q=P?.getParent?.()&&P.getParent().getClassName()==="Transformer";!O&&!q&&E(null)},K=Ee.useCallback(he=>{if(he.key==="Delete"&&M)b(M);else if((he.key==="r"||he.key==="R")&&M){const P=g.find(O=>O.id===M);P&&(P.rotation=(P.rotation+45)%360,R([...g]))}},[M,g,b,R]);Ee.useEffect(()=>(window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)),[K]);const Z=50,re=C*p,se=re>0?Z/re:Z,ee=[];if(h){for(let he=0;he<=T.width;he+=se)ee.push({points:[he,0,he,T.height]});for(let he=0;he<=T.height;he+=se)ee.push({points:[0,he,T.width,he]})}return B.jsxs("div",{ref:y,className:"flex-1 bg-gray-50 relative overflow-hidden w-full h-full",children:[B.jsx("div",{className:"absolute top-2 left-2 z-10 pointer-events-none glass px-2 py-1 rounded-md",children:"Arrastra muebles  R = rotar  Supr = eliminar"}),B.jsx("div",{className:"absolute top-2 right-2 z-20",children:B.jsx("button",{onClick:()=>X(he=>he==="contain"?"cover":"contain"),className:"px-3 py-1 rounded-md border border-border bg-white shadow-sm text-xs",children:D==="contain"?"Contain":"Cover"})}),B.jsx(K2,{ref:N,width:T.width,height:T.height,scaleX:C*p,scaleY:C*p,x:S.x,y:S.y,draggable:m,onMouseDown:G,onTouchStart:G,style:{background:v?"transparent":"#fff",cursor:m?"grab":"default"},children:B.jsxs(V2,{children:[v&&A&&B.jsx(_0,{image:v,x:0,y:0,width:A.width,height:A.height}),h&&B.jsx(H2,{listening:!1,children:ee.map((he,P)=>B.jsx(W2,{points:he.points,stroke:"#e2e8f0",strokeWidth:1,perfectDrawEnabled:!1},P))}),g.map(he=>B.jsx(Y2,{item:he,onDelete:b,onSelect:E,isSelected:M===he.id,snapEnabled:x,gridSpacing:se,onUpdate:P=>{const O=g.map(q=>q.id===P.id?P:q);R(O)}},he.id))]})})]})});x0.displayName="CanvasEditor";const X2=({onSelectBackground:f,currentBackground:g,isEmbedded:R=!1})=>{const[V,A]=Ee.useState([]),[C,h]=Ee.useState(!0),[m,x]=Ee.useState([]),k=Ee.useRef(null);Ee.useEffect(()=>{(async()=>{const D="/backgrounds.json",X="https://key-studios.github.io/muba-test/";try{let z=await fetch(X+D);z.ok||(z=await fetch(D));const b=await z.json();A(b.backgrounds)}catch(z){console.error("Error loading backgrounds:",z)}finally{h(!1)}})();const L=localStorage.getItem("uploadedBackgrounds");L&&x(JSON.parse(L))},[]);const N=S=>{const L=S.target.files;if(L){for(let D=0;D<L.length;D++){const X=L[D];if(!X.type.startsWith("image/")){alert("Por favor sube solo archivos de imagen");continue}const z=new FileReader;z.onload=b=>{const G=b.target.result,K=new Image;K.onload=()=>{const Z={id:`uploaded-${Date.now()}-${Math.random()}`,name:X.name.replace(/\.[^/.]+$/,""),image:G,width:K.width,height:K.height,isUploaded:!0},re=[...m,Z];x(re),localStorage.setItem("uploadedBackgrounds",JSON.stringify(re)),f(Z)},K.src=G},z.readAsDataURL(X)}k.current&&(k.current.value="")}},M=S=>{const L=m.filter(D=>D.id!==S);x(L),localStorage.setItem("uploadedBackgrounds",JSON.stringify(L)),g?.id===S&&f(null)},[E,y]=Ee.useState(!0),v=Ee.useRef(null),w=Ee.useRef(null),T=()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{y(!1)},2500)};Ee.useEffect(()=>{const S=L=>{L.clientY<140&&(y(!0),T())};return window.addEventListener("mousemove",S),()=>window.removeEventListener("mousemove",S)},[]),Ee.useEffect(()=>{const S=w.current;if(!S)return;const L=()=>{y(!0),T()};return S.addEventListener("mouseenter",L),S.addEventListener("focusin",L),S.addEventListener("mousemove",L),()=>{S.removeEventListener("mouseenter",L),S.removeEventListener("focusin",L),S.removeEventListener("mousemove",L)}},[]);const I=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),p=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),c=`glass border border-border rounded-2xl px-6 py-5 shadow-2xl transition-all duration-500 ease-out backdrop-blur-xl max-w-md ${E?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}`;return B.jsxs("div",{ref:w,className:c,children:[B.jsxs("div",{className:"flex items-center justify-between mb-4",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center",children:B.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),B.jsx("h3",{className:"text-lg font-bold text-text",children:"Fondos"})]}),!R&&B.jsxs("button",{onClick:()=>k.current?.click(),className:"text-sm px-4 py-2 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white rounded-xl transition-all shadow-md hover:shadow-lg flex items-center gap-2 font-medium",title:"Sube tus propias imgenes",children:[B.jsx(I,{}),B.jsx("span",{children:"Subir"})]}),B.jsx("input",{ref:k,type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden"})]}),R&&B.jsx("div",{className:"mb-4",children:B.jsxs("button",{onClick:()=>k.current?.click(),className:"w-full text-sm px-4 py-2 bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2 font-medium",title:"Sube tus propias imgenes",children:[B.jsx(I,{}),B.jsx("span",{children:"Subir fondo"})]})}),B.jsxs("div",{className:`grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 ${R?"":"max-h-[60vh]"} overflow-y-auto pr-2`,children:[B.jsxs("button",{onClick:()=>f(null),className:`relative aspect-square rounded-xl border-2 transition-all overflow-hidden group ${g===null?"border-indigo-500 shadow-lg ring-2 ring-indigo-200":"border-border hover:border-indigo-300 hover:shadow-md"}`,children:[B.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:B.jsxs("div",{className:"text-center",children:[B.jsx("svg",{className:"w-8 h-8 mx-auto text-gray-400 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),B.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Sin fondo"})]})}),g===null&&B.jsx("div",{className:"absolute inset-0 bg-indigo-500/10 flex items-center justify-center",children:B.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center",children:B.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]}),V.map(S=>B.jsxs("button",{onClick:()=>f(S),className:`relative aspect-square rounded-xl border-2 transition-all overflow-hidden group ${g?.id===S.id?"border-indigo-500 shadow-lg ring-2 ring-indigo-200 scale-105":"border-border hover:border-indigo-300 hover:shadow-md"}`,title:S.name,children:[B.jsx("img",{src:Fs(S.image),alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:B.jsx("p",{className:"absolute bottom-2 left-2 right-2 text-xs font-medium text-white text-center truncate",children:S.name})}),g?.id===S.id&&B.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 flex items-center justify-center",children:B.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center shadow-lg",children:B.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]},S.id)),m.map(S=>B.jsxs("div",{className:"relative group",title:S.name,children:[B.jsxs("button",{onClick:()=>f(S),className:`relative aspect-square rounded-xl border-2 transition-all overflow-hidden w-full ${g?.id===S.id?"border-indigo-500 shadow-lg ring-2 ring-indigo-200 scale-105":"border-border hover:border-indigo-300 hover:shadow-md"}`,children:[B.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:B.jsx("p",{className:"absolute bottom-2 left-2 right-2 text-xs font-medium text-white text-center truncate",children:S.name.length>10?S.name.substring(0,10)+"...":S.name})}),g?.id===S.id&&B.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 flex items-center justify-center",children:B.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center shadow-lg",children:B.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})})]}),B.jsx("button",{onClick:L=>{L.stopPropagation(),M(S.id)},className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-all shadow-lg z-10",title:"Eliminar",children:B.jsx(p,{})})]},S.id))]}),m.length>0&&B.jsxs("div",{className:"text-xs text-text-subtle mt-4 text-center bg-indigo-50 px-3 py-2 rounded-lg border border-indigo-200",children:[B.jsx("span",{className:"font-medium text-indigo-700",children:m.length})," ","fondo(s) personalizado(s)"]})]})},Q2=({onExport:f,onZoomIn:g,onZoomOut:R,onZoomReset:V,scale:A,showGrid:C,onToggleGrid:h,isPanning:m,onTogglePan:x,snapEnabled:k,onToggleSnap:N,scenes:M,activeSceneId:E,onCreateScene:y,onSelectScene:v,onRenameScene:w,onDeleteScene:T,panels:I,onTogglePanel:p})=>{const[c,S]=Ee.useState(!1),L=M.find(F=>F.id===E),[D,X]=Ee.useState(L?.name||""),z=()=>{X(L?.name||""),S(!0)},b=()=>{L&&D.trim()&&w(L.id,D.trim()),S(!1)},G=()=>{S(!1)},K=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),Z=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),re=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),se=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),ee=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),he=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),P=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),O=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),q=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),U=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});return B.jsxs("div",{className:"flex items-center gap-2 md:gap-4 px-2 md:px-6 py-2 md:py-3 text-xs md:text-sm overflow-x-auto",children:[B.jsxs("div",{className:"md:hidden flex items-center gap-1 flex-shrink-0",children:[B.jsx("button",{onClick:()=>p?.("catalog"),className:`p-2 rounded-lg border transition-all ${I?.catalog?"bg-indigo-100 text-indigo-700 border-indigo-300":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Catlogo",children:B.jsx(q,{})}),B.jsx("button",{onClick:()=>p?.("backgrounds"),className:`p-2 rounded-lg border transition-all ${I?.backgrounds?"bg-pink-100 text-pink-700 border-pink-300":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Fondos",children:B.jsx(U,{})}),B.jsx("button",{onClick:()=>p?.("scenes"),className:`p-2 rounded-lg border transition-all ${I?.scenes?"bg-cyan-100 text-cyan-700 border-cyan-300":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Escenas",children:B.jsx(O,{})})]}),B.jsx("div",{className:"hidden md:block h-8 w-px bg-border"}),B.jsx("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:B.jsxs("button",{onClick:f,className:"px-2 md:px-4 py-1.5 md:py-2 rounded-lg md:rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-medium shadow-md transition-all flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[B.jsx(he,{}),B.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})}),B.jsx("div",{className:"hidden md:block h-8 w-px bg-border"}),B.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:[B.jsx("button",{onClick:R,className:"px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border bg-surface hover:bg-surface-alt transition-all shadow-sm",title:"Alejar",children:B.jsx(Z,{})}),B.jsxs("span",{className:"min-w-[50px] md:min-w-[70px] text-center text-text font-semibold bg-surface-alt px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border text-xs md:text-sm",children:[Math.round(A*100),"%"]}),B.jsx("button",{onClick:g,className:"px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border bg-surface hover:bg-surface-alt transition-all shadow-sm",title:"Acercar",children:B.jsx(K,{})}),B.jsx("button",{onClick:V,className:"hidden sm:flex px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border bg-surface hover:bg-surface-alt transition-all shadow-sm items-center gap-1",title:"Resetear zoom",children:B.jsx(P,{})})]}),B.jsx("div",{className:"hidden md:block h-8 w-px bg-border"}),B.jsxs("div",{className:"hidden sm:flex items-center gap-1 md:gap-2 flex-shrink-0",children:[B.jsxs("button",{onClick:h,className:`px-2 md:px-4 py-1.5 md:py-2 rounded-lg border transition-all flex items-center gap-1 md:gap-2 ${C?"bg-indigo-100 text-indigo-700 border-indigo-300 shadow-inner":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Mostrar/Ocultar cuadrcula",children:[B.jsx(re,{}),B.jsx("span",{className:"hidden md:inline",children:"Grid"})]}),B.jsxs("button",{onClick:N,className:`px-2 md:px-4 py-1.5 md:py-2 rounded-lg border transition-all flex items-center gap-1 md:gap-2 ${k?"bg-indigo-100 text-indigo-700 border-indigo-300 shadow-inner":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Activar/Desactivar alineacin",children:[B.jsx(se,{}),B.jsx("span",{className:"hidden md:inline",children:"Snap"})]}),B.jsxs("button",{onClick:x,className:`px-2 md:px-4 py-1.5 md:py-2 rounded-lg border transition-all flex items-center gap-1 md:gap-2 ${m?"bg-indigo-100 text-indigo-700 border-indigo-300 shadow-inner":"bg-surface hover:bg-surface-alt border-border text-text"}`,title:"Activar/Desactivar arrastre",children:[B.jsx(ee,{}),B.jsx("span",{className:"hidden md:inline",children:"Pan"})]})]}),B.jsx("div",{className:"hidden md:block h-8 w-px bg-border"}),B.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0",children:[B.jsx("select",{value:E||"",onChange:F=>v(F.target.value),className:"px-2 md:px-3 py-1.5 md:py-2 border border-border rounded-lg bg-surface hover:bg-surface-alt focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-xs md:text-sm font-medium transition-all shadow-sm max-w-[120px] md:max-w-none",children:M.map(F=>B.jsx("option",{value:F.id,children:F.name},F.id))}),c?B.jsxs("div",{className:"flex items-center gap-1",children:[B.jsx("input",{value:D,onChange:F=>X(F.target.value),onKeyDown:F=>{F.key==="Enter"&&b(),F.key==="Escape"&&G()},className:"px-2 md:px-3 py-1.5 md:py-2 border border-border rounded-lg bg-surface focus:outline-none focus:ring-2 focus:ring-indigo-500 w-24 md:w-32 text-xs md:text-sm",autoFocus:!0}),B.jsx("button",{onClick:b,className:"px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-success bg-success text-white hover:bg-success/90 transition-all shadow-sm",children:""}),B.jsx("button",{onClick:G,className:"px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border bg-surface hover:bg-surface-alt transition-all shadow-sm",children:""})]}):B.jsxs(B.Fragment,{children:[B.jsx("button",{onClick:z,className:"hidden sm:flex px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-border bg-surface hover:bg-surface-alt transition-all shadow-sm text-xs md:text-sm font-medium",children:"Renombrar"}),B.jsxs("button",{onClick:y,className:"px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-indigo-300 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 transition-all shadow-sm text-xs md:text-sm font-medium",children:[B.jsx("span",{className:"hidden sm:inline",children:"+ Nueva"}),B.jsx("span",{className:"sm:hidden",children:"+"})]}),M.length>1&&B.jsx("button",{onClick:()=>T(E),className:"hidden sm:flex px-2 md:px-3 py-1.5 md:py-2 rounded-lg border border-danger bg-danger text-white hover:bg-danger/90 transition-all shadow-sm text-xs md:text-sm font-medium",children:"Eliminar"})]})]}),B.jsx("div",{className:"hidden md:flex items-center gap-2 ml-auto",children:B.jsxs("span",{className:"text-text-subtle text-sm font-medium bg-surface-alt px-3 py-2 rounded-lg border border-border",children:[M.length," ",M.length===1?"escena":"escenas"]})})]})},J2=({scenes:f,activeSceneId:g,onCreate:R,onSelect:V,onRename:A,onDelete:C,onClose:h,isEmbedded:m=!1})=>{const[x,k]=Ee.useState(null),[N,M]=Ee.useState(""),E=p=>{k(p.id),M(p.name)},y=()=>{x&&N.trim()&&A(x,N.trim()),k(null),M("")},v=()=>{k(null),M("")},w=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),T=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),I=()=>B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});return B.jsxs("div",{className:`${m?"w-full":"rounded-2xl shadow-2xl glass border border-border w-80 max-h-[85vh]"} flex flex-col overflow-hidden ${m?"":"backdrop-blur-xl"}`,children:[B.jsxs("div",{className:`flex items-center justify-between px-6 py-3 border-b border-border bg-gradient-to-r from-cyan-50 to-blue-50 ${m?"flex-shrink-0":""}`,children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:B.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),B.jsx("h2",{className:"text-lg font-bold text-text",children:"Escenas"})]}),!m&&B.jsx("button",{onClick:h,className:"w-8 h-8 rounded-lg bg-white border border-border hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-all flex items-center justify-center shadow-sm",children:B.jsx(w,{})}),m&&B.jsx("button",{onClick:h,className:"w-8 h-8 rounded-lg bg-white border border-border hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-all flex items-center justify-center shadow-sm",children:B.jsx(w,{})})]}),B.jsxs("div",{className:`p-4 overflow-y-auto bg-gradient-to-b from-white to-cyan-50/30 ${m?"flex-1":""}`,children:[B.jsx("div",{className:"flex gap-3 items-start overflow-x-auto pb-3",children:f.map(p=>B.jsxs("div",{className:"w-28 flex-shrink-0",children:[B.jsx("button",{onClick:()=>V(p.id),className:`w-28 h-28 rounded-md overflow-hidden border-2 transition-all flex items-center justify-center ${p.id===g?"border-cyan-500 shadow-lg ring-2 ring-cyan-200":"border-border hover:border-cyan-300"}`,title:p.name,children:p.background&&p.background.image?B.jsx("img",{src:Fs(p.background.image),alt:p.name,className:"w-full h-full object-cover",draggable:!1}):B.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:B.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})})}),B.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[B.jsx("div",{className:"flex-1",children:x===p.id?B.jsx("input",{value:N,onChange:c=>M(c.target.value),onKeyDown:c=>{c.key==="Enter"&&y(),c.key==="Escape"&&v()},className:"w-full px-2 py-1 text-xs rounded border border-border bg-white focus:outline-none",autoFocus:!0}):B.jsx("div",{className:`text-xs truncate ${p.id===g?"text-cyan-700 font-semibold":"text-text"}`,title:p.name,children:p.name})}),B.jsxs("div",{className:"flex items-center gap-1",children:[B.jsx("button",{onClick:()=>E(p),className:"w-7 h-7 rounded-md bg-white border border-border flex items-center justify-center text-gray-600 hover:bg-cyan-50",children:B.jsx(I,{})}),f.length>1&&B.jsx("button",{onClick:()=>C(p.id),className:"w-7 h-7 rounded-md bg-red-500 text-white flex items-center justify-center hover:bg-red-600",children:B.jsx(T,{})})]})]})]},p.id))}),f.length===0&&B.jsxs("div",{className:"text-center py-12",children:[B.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:B.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),B.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No hay escenas"}),B.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Crea una nueva escena para comenzar"})]})]}),B.jsxs("div",{className:`p-4 border-t border-border flex items-center justify-between bg-gradient-to-r from-cyan-50 to-blue-50 ${m?"flex-shrink-0":""}`,children:[B.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Total: ",B.jsx("span",{className:"text-cyan-600",children:f.length})]}),B.jsx("button",{onClick:R,className:"text-sm px-4 py-2 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white border-none transition-all shadow-md hover:shadow-lg font-medium",children:"+ Nueva Escena"})]})]})},Z2=({onSelectBackground:f,onUploadBackground:g,backgrounds:R,onClose:V})=>{const A=Ee.useRef(null),[C,h]=Ee.useState(null),[m,x]=Ee.useState(!1),k=y=>{const v=y.target.files;if(!v||v.length===0)return;const w=v[0];if(!w.type.startsWith("image/")){alert("Por favor sube solo archivos de imagen");return}const T=new FileReader;T.onload=I=>{const p=I.target.result,c=new Image;c.onload=()=>{const S={id:`uploaded-${Date.now()}-${Math.random()}`,name:w.name.replace(/\.[^/.]+$/,""),image:p,width:c.width,height:c.height,isUploaded:!0};g(S),f(S),V()},c.src=p},T.readAsDataURL(w),A.current&&(A.current.value="")},N=y=>{f(y),V()},M=()=>B.jsx("svg",{className:"w-12 h-12 md:w-16 md:h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),E=()=>B.jsx("svg",{className:"w-12 h-12 md:w-16 md:h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});return B.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:B.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 md:p-8 animate-fade-in",children:[B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Bienvenido!"}),B.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Elige cmo quieres comenzar tu diseo"})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[B.jsxs("button",{onClick:()=>A.current?.click(),onMouseEnter:()=>h("upload"),onMouseLeave:()=>h(null),className:"group relative aspect-[4/3] rounded-xl border-2 border-gray-200 bg-gradient-to-br from-pink-50 to-rose-50 hover:border-pink-400 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[B.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 z-10",children:[B.jsx("div",{className:`mb-4 transition-transform duration-300 ${C==="upload"?"scale-110":""}`,children:B.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center text-white shadow-lg",children:B.jsx(M,{})})}),B.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Subir mi imagen"}),B.jsx("p",{className:"text-sm md:text-base text-gray-600 text-center max-w-xs",children:"Sube una imagen desde tu dispositivo para usarla como fondo"})]}),B.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-pink-500/10 to-rose-600/10 transition-opacity duration-300 ${C==="upload"?"opacity-100":"opacity-0"}`})]}),B.jsxs("button",{onClick:()=>x(!m),onMouseEnter:()=>h("gallery"),onMouseLeave:()=>h(null),className:"group relative aspect-[4/3] rounded-xl border-2 border-gray-200 bg-gradient-to-br from-indigo-50 to-purple-50 hover:border-indigo-400 hover:shadow-xl transition-all duration-300 overflow-hidden",children:[B.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 z-10",children:[B.jsx("div",{className:`mb-4 transition-transform duration-300 ${C==="gallery"?"scale-110":""}`,children:B.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-lg",children:B.jsx(E,{})})}),B.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-2",children:"Elegir de galera"}),B.jsx("p",{className:"text-sm md:text-base text-gray-600 text-center max-w-xs",children:"Selecciona un fondo de nuestra coleccin predefinida"})]}),B.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-purple-600/10 transition-opacity duration-300 ${C==="gallery"?"opacity-100":"opacity-0"}`})]})]}),m&&R.length>0&&B.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl border border-gray-200 max-h-64 overflow-y-auto animate-fade-in",children:[B.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3 text-center",children:"Selecciona un fondo:"}),B.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:R.map(y=>B.jsxs("button",{onClick:()=>N(y),className:"relative aspect-square rounded-lg border-2 border-gray-300 hover:border-indigo-500 hover:shadow-lg transition-all overflow-hidden group",children:[B.jsx("img",{src:Fs(y.image),alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),B.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"}),B.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:B.jsx("p",{className:"text-xs text-white font-medium text-center truncate",children:y.name})})]},y.id))})]}),m&&R.length===0&&B.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl border border-gray-200 text-center",children:B.jsx("p",{className:"text-sm text-gray-600",children:"Cargando fondos disponibles..."})}),B.jsx("input",{ref:A,type:"file",accept:"image/*",onChange:k,className:"hidden"}),B.jsx("div",{className:"mt-6 text-center",children:B.jsx("button",{onClick:V,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Omitir por ahora"})})]})})},$2=async f=>{if(f?.current)try{const g=f.current.toDataURL({pixelRatio:2}),R=document.createElement("a");R.href=g,R.download=`diseo-espacios-${new Date().getTime()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R)}catch(g){console.error("Error exporting canvas:",g),alert("Error al exportar la imagen. Por favor intenta de nuevo.")}};function ep(){const[f,g]=Ee.useState([]),[R,V]=Ee.useState([]),[A,C]=Ee.useState(null),h=Ee.useRef(),[m,x]=Ee.useState(!0),[k,N]=Ee.useState(!1),[M,E]=Ee.useState(!1),[y,v]=Ee.useState(!0),[w,T]=Ee.useState({catalog:!1,backgrounds:!1,scenes:!1}),[I,p]=Ee.useState(!1),[c,S]=Ee.useState([]),L=Ee.useRef(null);Ee.useEffect(()=>{const ue=()=>{const te=window.innerWidth>=768;T(te?W=>({...W,catalog:W.catalog===!1?!0:W.catalog}):{catalog:!1,backgrounds:!1,scenes:!1})};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]),Ee.useEffect(()=>{(async()=>{const te="/furniture.json",W="https://key-studios.github.io/muba-test/";try{let ne=await fetch(W+te);ne.ok||(ne=await fetch(te));const ve=await ne.json();g(ve.categories)}catch(ne){console.error("Error loading furniture catalog:",ne)}finally{x(!1)}})()},[]),Ee.useEffect(()=>{(async()=>{const te="/backgrounds.json",W="https://key-studios.github.io/muba-test/";try{let ne=await fetch(W+te);ne.ok||(ne=await fetch(te));const ve=await ne.json();S(ve.backgrounds||[])}catch(ne){console.error("Error loading backgrounds:",ne)}})()},[]),Ee.useEffect(()=>{localStorage.getItem("muba_has_seen_welcome")||p(!0)},[]),Ee.useEffect(()=>{const ue=localStorage.getItem("muba_scenes_v1");if(ue)try{const W=JSON.parse(ue);if(Array.isArray(W)&&W.length){V(W),C(W[0].id);return}}catch(W){console.error("Error parsing scenes",W)}const te={id:`scene-${Date.now()}`,name:"Escena 1",furniture:[],background:null,scale:1,showGrid:!1,snapEnabled:!1};V([te]),C(te.id)},[]),Ee.useEffect(()=>{R.length&&(L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{localStorage.setItem("muba_scenes_v1",JSON.stringify(R))},400))},[R]);const D=R.find(ue=>ue.id===A)||null,X=ue=>{V(te=>te.map(W=>W.id===A?{...W,...ue}:W))},z=()=>{const ue=R.length+1,te={id:`scene-${Date.now()}-${Math.random()}`,name:`Escena ${ue}`,furniture:[],background:null,scale:D?D.scale:1,showGrid:D?D.showGrid:!1,snapEnabled:D?D.snapEnabled:!1};V(W=>[...W,te]),C(te.id)},b=ue=>{C(ue)},G=(ue,te)=>{V(W=>W.map(ne=>ne.id===ue?{...ne,name:te}:ne))},K=ue=>{R.length<=1||(V(te=>te.filter(W=>W.id!==ue)),A===ue&&C(te=>R.filter(ne=>ne.id!==ue)[0]?.id||null))},Z=ue=>{ue.preventDefault(),ue.stopPropagation();try{const te=JSON.parse(ue.dataTransfer.getData("application/json"));let W=50,ne=50;if(h.current&&D){const De=h.current.container().getBoundingClientRect();W=(ue.clientX-De.left)/D.scale,ne=(ue.clientY-De.top)/D.scale}const ve=Math.round(te.width*(D?.scale||1)),we=Math.round(te.height*(D?.scale||1)),Ne={id:`furniture-${Date.now()}-${Math.random()}`,name:te.name,image:te.image,width:ve,height:we,x:W,y:ne,rotation:0,baseWidth:te.width,baseHeight:te.height};D&&X({furniture:[...D.furniture,Ne]})}catch(te){console.error("Error parsing drag data:",te)}},re=ue=>{ue.preventDefault(),ue.stopPropagation(),ue.dataTransfer.dropEffect="copy"},se=()=>{if(!D||D.furniture.length===0){alert("Por favor aade muebles al canvas antes de exportar.");return}$2(h)},ee=()=>D&&X({scale:Math.min(3,D.scale+.1)}),he=()=>D&&X({scale:Math.max(.3,D.scale-.1)}),P=()=>D&&X({scale:1}),O=()=>D&&X({showGrid:!D.showGrid}),q=()=>N(ue=>!ue),U=()=>D&&X({snapEnabled:!D.snapEnabled}),F=()=>{p(!1),localStorage.setItem("muba_has_seen_welcome","true")},Q=ue=>{const te=localStorage.getItem("uploadedBackgrounds"),W=te?JSON.parse(te):[];W.push(ue),localStorage.setItem("uploadedBackgrounds",JSON.stringify(W))},J=ue=>{D&&X({background:ue})};if(m)return B.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:B.jsxs("div",{className:"text-center",children:[B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 mx-auto mb-4"}),B.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-indigo-600 mx-auto absolute top-0 left-1/2 -translate-x-1/2"})]}),B.jsx("p",{className:"text-indigo-600 font-medium",children:"Cargando catlogo..."})]})});const ce=ue=>T(te=>({...te,[ue]:!te[ue]}));return B.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex flex-col",children:[I&&B.jsx(Z2,{backgrounds:c,onSelectBackground:J,onUploadBackground:Q,onClose:F}),B.jsx("div",{className:"flex-shrink-0 border-b border-border bg-white/80 backdrop-blur-xl shadow-sm z-30",children:B.jsx(Q2,{onExport:se,onZoomIn:ee,onZoomOut:he,onZoomReset:P,scale:D?D.scale:1,showGrid:D?D.showGrid:!1,onToggleGrid:O,isPanning:k,onTogglePan:q,snapEnabled:D?D.snapEnabled:!1,onToggleSnap:U,scenes:R,activeSceneId:A,onCreateScene:z,onSelectScene:b,onRenameScene:G,onDeleteScene:K,panels:w,onTogglePanel:ce})}),B.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[(w.backgrounds||w.catalog)&&B.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>{w.backgrounds&&ce("backgrounds"),w.catalog&&ce("catalog")}}),w.backgrounds&&B.jsx("div",{className:`flex-shrink-0 border-r border-border bg-white/95 backdrop-blur-xl shadow-xl z-50 overflow-y-auto transition-transform duration-300
            ${w.backgrounds?"translate-x-0":"-translate-x-full"}
            w-80 max-w-[85vw] md:w-80 md:max-w-none
            fixed md:relative h-full md:h-auto
            ${w.backgrounds?"left-0":"-left-full"}`,children:B.jsxs("div",{className:"p-4",children:[B.jsxs("div",{className:"flex items-center justify-between mb-4",children:[B.jsx("h3",{className:"text-lg font-bold text-text",children:"Fondos"}),B.jsx("button",{onClick:()=>ce("backgrounds"),className:"w-8 h-8 rounded-lg bg-gray-100 hover:bg-gray-200 border border-border flex items-center justify-center transition-all",title:"Ocultar fondos",children:B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),B.jsx(X2,{onSelectBackground:ue=>{D&&X({background:ue}),window.innerWidth<768&&ce("backgrounds")},currentBackground:D?D.background:null,isEmbedded:!0})]})}),!w.backgrounds&&B.jsx("button",{onClick:()=>ce("backgrounds"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-20 w-10 h-20 bg-white/90 backdrop-blur-sm border-r border-t border-b border-border rounded-r-xl shadow-lg hover:bg-white transition-all items-center justify-center",title:"Mostrar fondos",children:B.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),B.jsx("div",{className:"flex-1 relative overflow-hidden",onDrop:Z,onDragOver:re,children:D&&B.jsx(x0,{furniture:D.furniture,onUpdateFurniture:ue=>X({furniture:ue}),stageRef:h,background:D.background,scale:D.scale,showGrid:D.showGrid,isPanning:k,snapEnabled:D.snapEnabled})}),w.catalog&&B.jsx("div",{className:`flex-shrink-0 border-l border-border bg-white/95 backdrop-blur-xl shadow-xl z-50 overflow-y-auto transition-transform duration-300
            ${w.catalog?"translate-x-0":"translate-x-full"}
            w-80 max-w-[85vw] md:w-80 md:max-w-none
            fixed md:relative h-full md:h-auto
            ${w.catalog?"right-0":"-right-full"}`,children:B.jsx(J0,{categories:f,onAddFurniture:()=>{},existingFurniture:D?D.furniture.length:0,hidden:!1,onToggle:()=>ce("catalog"),isEmbedded:!0})}),!w.catalog&&B.jsx("button",{onClick:()=>ce("catalog"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-20 w-10 h-20 bg-white/90 backdrop-blur-sm border-l border-t border-b border-border rounded-l-xl shadow-lg hover:bg-white transition-all items-center justify-center",title:"Mostrar catlogo",children:B.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),w.scenes&&B.jsx("div",{className:`flex-shrink-0 border-t border-border bg-white/95 backdrop-blur-xl shadow-xl z-50 overflow-y-auto transition-transform duration-300
          ${w.scenes?"translate-y-0":"translate-y-full"}
          max-h-[70vh] md:max-h-64
          fixed md:relative bottom-0 left-0 right-0 md:bottom-auto md:left-auto md:right-auto`,children:B.jsx(J2,{scenes:R,activeSceneId:A,onCreate:z,onSelect:ue=>{b(ue),window.innerWidth<768&&ce("scenes")},onRename:G,onDelete:K,onClose:()=>ce("scenes"),isEmbedded:!0})}),!w.scenes&&B.jsx("button",{onClick:()=>ce("scenes"),className:"fixed md:absolute bottom-0 left-1/2 -translate-x-1/2 z-20 w-20 h-10 bg-white/90 backdrop-blur-sm border-t border-l border-r border-border rounded-t-xl shadow-lg hover:bg-white transition-all flex items-center justify-center",title:"Mostrar escenas",children:B.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),B.jsxs("div",{className:"md:hidden fixed bottom-4 right-4 z-30 flex flex-col gap-2",children:[B.jsx("button",{onClick:()=>ce("catalog"),className:"w-14 h-14 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center",title:"Catlogo",children:B.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),B.jsx("button",{onClick:()=>ce("backgrounds"),className:"w-14 h-14 rounded-full bg-gradient-to-r from-pink-500 to-rose-600 text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center",title:"Fondos",children:B.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})}Q0.createRoot(document.getElementById("root")).render(B.jsx(Ee.StrictMode,{children:B.jsx(ep,{})}));
