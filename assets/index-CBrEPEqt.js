(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))B(D);new MutationObserver(D=>{for(const k of D)if(k.type==="childList")for(const p of k.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&B(p)}).observe(document,{childList:!0,subtree:!0});function R(D){const k={};return D.integrity&&(k.integrity=D.integrity),D.referrerPolicy&&(k.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?k.credentials="include":D.crossOrigin==="anonymous"?k.credentials="omit":k.credentials="same-origin",k}function B(D){if(D.ep)return;D.ep=!0;const k=R(D);fetch(D.href,k)}})();var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Fd={exports:{}},za={},Ld={exports:{}},Xe={};var Df;function V0(){if(Df)return Xe;Df=1;var h=Symbol.for("react.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),F=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=F&&M[F]||M["@@iterator"],typeof M=="function"?M:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function T(M,Y,Z){this.props=M,this.context=Y,this.refs=E,this.updater=Z||g}T.prototype.isReactComponent={},T.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function I(){}I.prototype=T.prototype;function f(M,Y,Z){this.props=M,this.context=Y,this.refs=E,this.updater=Z||g}var c=f.prototype=new I;c.constructor=f,v(c,T.prototype),c.isPureReactComponent=!0;var P=Array.isArray,A=Object.prototype.hasOwnProperty,V={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function z(M,Y,Z){var de,me={},oe=null,W=null;if(Y!=null)for(de in Y.ref!==void 0&&(W=Y.ref),Y.key!==void 0&&(oe=""+Y.key),Y)A.call(Y,de)&&!X.hasOwnProperty(de)&&(me[de]=Y[de]);var ie=arguments.length-2;if(ie===1)me.children=Z;else if(1<ie){for(var ve=Array(ie),xe=0;xe<ie;xe++)ve[xe]=arguments[xe+2];me.children=ve}if(M&&M.defaultProps)for(de in ie=M.defaultProps,ie)me[de]===void 0&&(me[de]=ie[de]);return{$$typeof:h,type:M,key:oe,ref:W,props:me,_owner:V.current}}function U(M,Y){return{$$typeof:h,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function G(M){return typeof M=="object"&&M!==null&&M.$$typeof===h}function q(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return Y[Z]})}var J=/\/+/g;function ee(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?q(""+M.key):Y.toString(36)}function re(M,Y,Z,de,me){var oe=typeof M;(oe==="undefined"||oe==="boolean")&&(M=null);var W=!1;if(M===null)W=!0;else switch(oe){case"string":case"number":W=!0;break;case"object":switch(M.$$typeof){case h:case _:W=!0}}if(W)return W=M,me=me(W),M=de===""?"."+ee(W,0):de,P(me)?(Z="",M!=null&&(Z=M.replace(J,"$&/")+"/"),re(me,Y,Z,"",function(xe){return xe})):me!=null&&(G(me)&&(me=U(me,Z+(!me.key||W&&W.key===me.key?"":(""+me.key).replace(J,"$&/")+"/")+M)),Y.push(me)),1;if(W=0,de=de===""?".":de+":",P(M))for(var ie=0;ie<M.length;ie++){oe=M[ie];var ve=de+ee(oe,ie);W+=re(oe,Y,Z,ve,me)}else if(ve=w(M),typeof ve=="function")for(M=ve.call(M),ie=0;!(oe=M.next()).done;)oe=oe.value,ve=de+ee(oe,ie++),W+=re(oe,Y,Z,ve,me);else if(oe==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return W}function Q(M,Y,Z){if(M==null)return M;var de=[],me=0;return re(M,de,"","",function(oe){return Y.call(Z,oe,me++)}),de}function ge(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var N={current:null},L={transition:null},H={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:L,ReactCurrentOwner:V};function j(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:Q,forEach:function(M,Y,Z){Q(M,function(){Y.apply(this,arguments)},Z)},count:function(M){var Y=0;return Q(M,function(){Y++}),Y},toArray:function(M){return Q(M,function(Y){return Y})||[]},only:function(M){if(!G(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Xe.Component=T,Xe.Fragment=R,Xe.Profiler=D,Xe.PureComponent=f,Xe.StrictMode=B,Xe.Suspense=S,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Xe.act=j,Xe.cloneElement=function(M,Y,Z){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var de=v({},M.props),me=M.key,oe=M.ref,W=M._owner;if(Y!=null){if(Y.ref!==void 0&&(oe=Y.ref,W=V.current),Y.key!==void 0&&(me=""+Y.key),M.type&&M.type.defaultProps)var ie=M.type.defaultProps;for(ve in Y)A.call(Y,ve)&&!X.hasOwnProperty(ve)&&(de[ve]=Y[ve]===void 0&&ie!==void 0?ie[ve]:Y[ve])}var ve=arguments.length-2;if(ve===1)de.children=Z;else if(1<ve){ie=Array(ve);for(var xe=0;xe<ve;xe++)ie[xe]=arguments[xe+2];de.children=ie}return{$$typeof:h,type:M.type,key:me,ref:oe,props:de,_owner:W}},Xe.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:k,_context:M},M.Consumer=M},Xe.createElement=z,Xe.createFactory=function(M){var Y=z.bind(null,M);return Y.type=M,Y},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(M){return{$$typeof:y,render:M}},Xe.isValidElement=G,Xe.lazy=function(M){return{$$typeof:C,_payload:{_status:-1,_result:M},_init:ge}},Xe.memo=function(M,Y){return{$$typeof:x,type:M,compare:Y===void 0?null:Y}},Xe.startTransition=function(M){var Y=L.transition;L.transition={};try{M()}finally{L.transition=Y}},Xe.unstable_act=j,Xe.useCallback=function(M,Y){return N.current.useCallback(M,Y)},Xe.useContext=function(M){return N.current.useContext(M)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(M){return N.current.useDeferredValue(M)},Xe.useEffect=function(M,Y){return N.current.useEffect(M,Y)},Xe.useId=function(){return N.current.useId()},Xe.useImperativeHandle=function(M,Y,Z){return N.current.useImperativeHandle(M,Y,Z)},Xe.useInsertionEffect=function(M,Y){return N.current.useInsertionEffect(M,Y)},Xe.useLayoutEffect=function(M,Y){return N.current.useLayoutEffect(M,Y)},Xe.useMemo=function(M,Y){return N.current.useMemo(M,Y)},Xe.useReducer=function(M,Y,Z){return N.current.useReducer(M,Y,Z)},Xe.useRef=function(M){return N.current.useRef(M)},Xe.useState=function(M){return N.current.useState(M)},Xe.useSyncExternalStore=function(M,Y,Z){return N.current.useSyncExternalStore(M,Y,Z)},Xe.useTransition=function(){return N.current.useTransition()},Xe.version="18.3.1",Xe}var If;function bc(){return If||(If=1,Ld.exports=V0()),Ld.exports}var zf;function H0(){if(zf)return za;zf=1;var h=bc(),_=Symbol.for("react.element"),R=Symbol.for("react.fragment"),B=Object.prototype.hasOwnProperty,D=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function p(y,S,x){var C,F={},w=null,g=null;x!==void 0&&(w=""+x),S.key!==void 0&&(w=""+S.key),S.ref!==void 0&&(g=S.ref);for(C in S)B.call(S,C)&&!k.hasOwnProperty(C)&&(F[C]=S[C]);if(y&&y.defaultProps)for(C in S=y.defaultProps,S)F[C]===void 0&&(F[C]=S[C]);return{$$typeof:_,type:y,key:w,ref:g,props:F,_owner:D.current}}return za.Fragment=R,za.jsx=p,za.jsxs=p,za}var Gf;function W0(){return Gf||(Gf=1,Fd.exports=H0()),Fd.exports}var pe=W0(),Re=bc();const Gn=Qd(Re);var Gc={},Md={exports:{}},ur={},Ad={exports:{}},Od={};var Uf;function q0(){return Uf||(Uf=1,(function(h){function _(L,H){var j=L.length;L.push(H);e:for(;0<j;){var M=j-1>>>1,Y=L[M];if(0<D(Y,H))L[M]=H,L[j]=Y,j=M;else break e}}function R(L){return L.length===0?null:L[0]}function B(L){if(L.length===0)return null;var H=L[0],j=L.pop();if(j!==H){L[0]=j;e:for(var M=0,Y=L.length,Z=Y>>>1;M<Z;){var de=2*(M+1)-1,me=L[de],oe=de+1,W=L[oe];if(0>D(me,j))oe<Y&&0>D(W,me)?(L[M]=W,L[oe]=j,M=oe):(L[M]=me,L[de]=j,M=de);else if(oe<Y&&0>D(W,j))L[M]=W,L[oe]=j,M=oe;else break e}}return H}function D(L,H){var j=L.sortIndex-H.sortIndex;return j!==0?j:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var k=performance;h.unstable_now=function(){return k.now()}}else{var p=Date,y=p.now();h.unstable_now=function(){return p.now()-y}}var S=[],x=[],C=1,F=null,w=3,g=!1,v=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(L){for(var H=R(x);H!==null;){if(H.callback===null)B(x);else if(H.startTime<=L)B(x),H.sortIndex=H.expirationTime,_(S,H);else break;H=R(x)}}function P(L){if(E=!1,c(L),!v)if(R(S)!==null)v=!0,ge(A);else{var H=R(x);H!==null&&N(P,H.startTime-L)}}function A(L,H){v=!1,E&&(E=!1,I(z),z=-1),g=!0;var j=w;try{for(c(H),F=R(S);F!==null&&(!(F.expirationTime>H)||L&&!q());){var M=F.callback;if(typeof M=="function"){F.callback=null,w=F.priorityLevel;var Y=M(F.expirationTime<=H);H=h.unstable_now(),typeof Y=="function"?F.callback=Y:F===R(S)&&B(S),c(H)}else B(S);F=R(S)}if(F!==null)var Z=!0;else{var de=R(x);de!==null&&N(P,de.startTime-H),Z=!1}return Z}finally{F=null,w=j,g=!1}}var V=!1,X=null,z=-1,U=5,G=-1;function q(){return!(h.unstable_now()-G<U)}function J(){if(X!==null){var L=h.unstable_now();G=L;var H=!0;try{H=X(!0,L)}finally{H?ee():(V=!1,X=null)}}else V=!1}var ee;if(typeof f=="function")ee=function(){f(J)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Q=re.port2;re.port1.onmessage=J,ee=function(){Q.postMessage(null)}}else ee=function(){T(J,0)};function ge(L){X=L,V||(V=!0,ee())}function N(L,H){z=T(function(){L(h.unstable_now())},H)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(L){L.callback=null},h.unstable_continueExecution=function(){v||g||(v=!0,ge(A))},h.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},h.unstable_getCurrentPriorityLevel=function(){return w},h.unstable_getFirstCallbackNode=function(){return R(S)},h.unstable_next=function(L){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var j=w;w=H;try{return L()}finally{w=j}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=w;w=L;try{return H()}finally{w=j}},h.unstable_scheduleCallback=function(L,H,j){var M=h.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=j+Y,L={id:C++,callback:H,priorityLevel:L,startTime:j,expirationTime:Y,sortIndex:-1},j>M?(L.sortIndex=j,_(x,L),R(S)===null&&L===R(x)&&(E?(I(z),z=-1):E=!0,N(P,j-M))):(L.sortIndex=Y,_(S,L),v||g||(v=!0,ge(A))),L},h.unstable_shouldYield=q,h.unstable_wrapCallback=function(L){var H=w;return function(){var j=w;w=H;try{return L.apply(this,arguments)}finally{w=j}}}})(Od)),Od}var jf;function Jd(){return jf||(jf=1,Ad.exports=q0()),Ad.exports}var Bf;function K0(){if(Bf)return ur;Bf=1;var h=bc(),_=Jd();function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B=new Set,D={};function k(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(D[e]=t,e=0;e<t.length;e++)B.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},F={};function w(e){return S.call(F,e)?!0:S.call(C,e)?!1:x.test(e)?F[e]=!0:(C[e]=!0,!1)}function g(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v(e,t,i,o){if(t===null||typeof t>"u"||g(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,i,o,a,d,O){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=O}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function f(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,f);T[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,f);T[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,f);T[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function c(e,t,i,o){var a=T.hasOwnProperty(t)?T[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v(t,i,a,o)&&(i=null),o||a===null?w(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var P=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),V=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),L=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,M;function Y(e){if(M===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return`
`+M+e}var Z=!1;function de(e,t){if(!e||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ce){var o=ce}Reflect.construct(e,[],t)}else{try{t.call()}catch(ce){o=ce}e.call(t.prototype)}else{try{throw Error()}catch(ce){o=ce}e()}}catch(ce){if(ce&&o&&typeof ce.stack=="string"){for(var a=ce.stack.split(`
`),d=o.stack.split(`
`),O=a.length-1,K=d.length-1;1<=O&&0<=K&&a[O]!==d[K];)K--;for(;1<=O&&0<=K;O--,K--)if(a[O]!==d[K]){if(O!==1||K!==1)do if(O--,K--,0>K||a[O]!==d[K]){var $=`
`+a[O].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=O&&0<=K);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Y(e):""}function me(e){switch(e.tag){case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case V:return"Portal";case U:return"Profiler";case z:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case G:return(e._context.displayName||"Context")+".Provider";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xe(e){var t=ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(O){o=""+O,d.call(this,O)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(O){o=""+O},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ee(e){e._valueTracker||(e._valueTracker=xe(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ve(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function De(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function et(e,t){var i=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function je(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=ie(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lt(e,t){t=t.checked,t!=null&&c(e,"checked",t,!1)}function nt(e,t){Lt(e,t);var i=ie(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sr(e,t.type,i):t.hasOwnProperty("defaultValue")&&Sr(e,t.type,ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Sr(e,t,i){(t!=="number"||De(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Et=Array.isArray;function $n(e,t,i,o){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+ie(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fn(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(R(92));if(Et(i)){if(1<i.length)throw Error(R(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ie(i)}}function $t(e,t){var i=ie(t.value),o=ie(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function wr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function en(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?en(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,Un=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wi=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(e){wi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),At[t]=At[e]})});function Xs(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||At.hasOwnProperty(e)&&At[e]?(""+t).trim():t+"px"}function xi(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=Xs(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var zl=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(e,t){if(t){if(zl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jl=null,ts=null,ns=null;function Nu(e){if(e=mo(e)){if(typeof jl!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Qt(t),jl(e.stateNode,e.type,t))}}function Bl(e){ts?ns?ns.push(e):ns=[e]:ts=e}function bl(){if(ts){var e=ts,t=ns;if(ns=ts=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function Ru(e,t){return e(t)}function Ao(){}var Oo=!1;function Vl(e,t,i){if(Oo)return e(t,i);Oo=!0;try{return Ru(e,t,i)}finally{Oo=!1,(ts!==null||ns!==null)&&(Ao(),bl())}}function Js(e,t){var i=e.stateNode;if(i===null)return null;var o=Qt(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(R(231,t,typeof i));return i}var Hl=!1;if(y)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Hl=!1}function Tu(e,t,i,o,a,d,O,K,$){var ce=Array.prototype.slice.call(arguments,3);try{t.apply(i,ce)}catch(_e){this.onError(_e)}}var Ci=!1,Do=null,Io=!1,rs=null,qc={onError:function(e){Ci=!0,Do=e}};function Kc(e,t,i,o,a,d,O,K,$){Ci=!1,Do=null,Tu.apply(qc,arguments)}function Yc(e,t,i,o,a,d,O,K,$){if(Kc.apply(this,arguments),Ci){if(Ci){var ce=Do;Ci=!1,Do=null}else throw Error(R(198));Io||(Io=!0,rs=ce)}}function ki(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Fu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(ki(e)!==e)throw Error(R(188))}function Xc(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(R(188));return t!==e?null:e}for(var i=e,o=t;;){var a=i.return;if(a===null)break;var d=a.alternate;if(d===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===i)return Lu(a),e;if(d===o)return Lu(a),t;d=d.sibling}throw Error(R(188))}if(i.return!==o.return)i=a,o=d;else{for(var O=!1,K=a.child;K;){if(K===i){O=!0,i=a,o=d;break}if(K===o){O=!0,o=a,i=d;break}K=K.sibling}if(!O){for(K=d.child;K;){if(K===i){O=!0,i=d,o=a;break}if(K===o){O=!0,o=d,i=a;break}K=K.sibling}if(!O)throw Error(R(189))}}if(i.alternate!==o)throw Error(R(190))}if(i.tag!==3)throw Error(R(188));return i.stateNode.current===i?e:t}function Mu(e){return e=Xc(e),e!==null?Au(e):null}function Au(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Au(e);if(t!==null)return t;e=e.sibling}return null}var Ou=_.unstable_scheduleCallback,Du=_.unstable_cancelCallback,Qc=_.unstable_shouldYield,Jc=_.unstable_requestPaint,Rt=_.unstable_now,Wl=_.unstable_getCurrentPriorityLevel,Ei=_.unstable_ImmediatePriority,zo=_.unstable_UserBlockingPriority,is=_.unstable_NormalPriority,Zc=_.unstable_LowPriority,Go=_.unstable_IdlePriority,Ir=null,tn=null;function gt(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ir,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:Ln,Zr=Math.log,cn=Math.LN2;function Ln(e){return e>>>=0,e===0?32:31-(Zr(e)/cn|0)|0}var xr=64,zr=4194304;function Kt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pi(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,d=e.pingedLanes,O=i&268435455;if(O!==0){var K=O&~a;K!==0?o=Kt(K):(d&=O,d!==0&&(o=Kt(d)))}else O=i&~a,O!==0?o=Kt(O):d!==0&&(o=Kt(d));if(o===0)return 0;if(t!==0&&t!==o&&(t&a)===0&&(a=o&-o,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ke(t),a=1<<i,o|=e[i],t&=~a;return o}function Iu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var O=31-Ke(d),K=1<<O,$=a[O];$===-1?((K&i)===0||(K&o)!==0)&&(a[O]=Iu(K,t)):$<=t&&(e.expiredLanes|=K),d&=~K}}function ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ql(){var e=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),e}function jn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function $s(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=i}function $c(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Ke(i),d=1<<a;t[a]=0,o[a]=-1,e[a]=-1,i&=~d}}function Kl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ke(i),a=1<<o;a&t|e[o]&t&&(e[o]|=t),i&=~a}}var tt=0;function eo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var os,ls,Gu,Uu,Uo,jo=!1,as=[],tr=null,$r=null,Cr=null,Ye=new Map,us=new Map,kr=[],ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Ye.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function to(e,t,i,o,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[a]},t!==null&&(t=mo(t),t!==null&&ls(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Yt(e,t,i,o,a){switch(t){case"focusin":return tr=to(tr,e,t,i,o,a),!0;case"dragenter":return $r=to($r,e,t,i,o,a),!0;case"mouseover":return Cr=to(Cr,e,t,i,o,a),!0;case"pointerover":var d=a.pointerId;return Ye.set(d,to(Ye.get(d)||null,e,t,i,o,a)),!0;case"gotpointercapture":return d=a.pointerId,us.set(d,to(us.get(d)||null,e,t,i,o,a)),!0}return!1}function Bo(e){var t=ui(e.target);if(t!==null){var i=ki(t);if(i!==null){if(t=i.tag,t===13){if(t=Fu(i),t!==null){e.blockedOn=t,Uo(e.priority,function(){Gu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Gl=o,i.target.dispatchEvent(o),Gl=null}else return t=mo(i),t!==null&&ls(t),e.blockedOn=i,!1;t.shift()}return!0}function Vo(e,t,i){bo(e)&&i.delete(t)}function ed(){jo=!1,tr!==null&&bo(tr)&&(tr=null),$r!==null&&bo($r)&&($r=null),Cr!==null&&bo(Cr)&&(Cr=null),Ye.forEach(Vo),us.forEach(Vo)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,jo||(jo=!0,_.unstable_scheduleCallback(_.unstable_NormalPriority,ed)))}function Mn(e){function t(a){return ei(a,e)}if(0<as.length){ei(as[0],e);for(var i=1;i<as.length;i++){var o=as[i];o.blockedOn===e&&(o.blockedOn=null)}}for(tr!==null&&ei(tr,e),$r!==null&&ei($r,e),Cr!==null&&ei(Cr,e),Ye.forEach(t),us.forEach(t),i=0;i<kr.length;i++)o=kr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<kr.length&&(i=kr[0],i.blockedOn===null);)Bo(i),i.blockedOn===null&&kr.shift()}var cs=P.ReactCurrentBatchConfig,Ho=!0;function fr(e,t,i,o){var a=tt,d=cs.transition;cs.transition=null;try{tt=1,ds(e,t,i,o)}finally{tt=a,cs.transition=d}}function Gr(e,t,i,o){var a=tt,d=cs.transition;cs.transition=null;try{tt=4,ds(e,t,i,o)}finally{tt=a,cs.transition=d}}function ds(e,t,i,o){if(Ho){var a=Wo(e,t,i,o);if(a===null)ll(e,t,o,fs,i),Bu(e,o);else if(Yt(a,e,t,i,o))o.stopPropagation();else if(Bu(e,o),t&4&&-1<ju.indexOf(e)){for(;a!==null;){var d=mo(a);if(d!==null&&os(d),d=Wo(e,t,i,o),d===null&&ll(e,t,o,fs,i),d===a)break;a=d}a!==null&&o.stopPropagation()}else ll(e,t,o,null,i)}}var fs=null;function Wo(e,t,i,o){if(fs=null,e=Ul(o),e=ui(e),e!==null)if(t=ki(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Fu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function bu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case Ei:return 1;case zo:return 4;case is:case Zc:return 16;case Go:return 536870912;default:return 16}default:return 16}}var nn=null,ti=null,Ur=null;function no(){if(Ur)return Ur;var e,t=ti,i=t.length,o,a="value"in nn?nn.value:nn.textContent,d=a.length;for(e=0;e<i&&t[e]===a[e];e++);var O=i-e;for(o=1;o<=O&&t[i-o]===a[d-o];o++);return Ur=a.slice(e,1<o?1-o:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sn(){return!0}function Bn(){return!1}function Ut(e){function t(i,o,a,d,O){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=d,this.target=O,this.currentTarget=null;for(var K in e)e.hasOwnProperty(K)&&(i=e[K],this[K]=i?i(d):d[K]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sn:Bn,this.isPropagationStopped=Bn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=Ut(An),pr=j({},An,{view:0,detail:0}),Vu=Ut(pr),ro,io,rn,wn=j({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(ro=e.screenX-rn.screenX,io=e.screenY-rn.screenY):io=ro=0,rn=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:io}}),mt=Ut(wn),so=j({},wn,{dataTransfer:0}),gr=Ut(so),Hu=j({},pr,{relatedTarget:0}),qo=Ut(Hu),Yl=j({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=Ut(Yl),Wu=j({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ko=Ut(Wu),qu=j({},An,{data:0}),Ri=Ut(qu),Ql={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yo[e])?!!t[e]:!1}function Ti(){return nd}var Xo=j({},pr,{key:function(e){if(e.key){var t=Ql[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?td[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=Ut(Xo),Yu=j({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Ut(Yu),Xu=j({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Qo=Ut(Xu),Jo=j({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),hs=Ut(Jo),Jl=j({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zl=Ut(Jl),Qu=[9,13,27,32],oo=y&&"CompositionEvent"in window,Li=null;y&&"documentMode"in document&&(Li=document.documentMode);var ps=y&&"TextEvent"in window&&!Li,bn=y&&(!oo||Li&&8<Li&&11>=Li),ni=" ",Zo=!1;function $l(e,t){switch(e){case"keyup":return Qu.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function ea(e,t){switch(e){case"compositionend":return mr(t);case"keypress":return t.which!==32?null:(Zo=!0,ni);case"textInput":return e=t.data,e===ni&&Zo?null:e;default:return null}}function Ju(e,t){if(Vn)return e==="compositionend"||!oo&&$l(e,t)?(e=no(),Ur=ti=nn=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bn&&t.locale!=="ko"?null:t.data;default:return null}}var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jr[e.type]:t==="textarea"}function lo(e,t,i,o){Bl(o),t=al(t,"onChange"),0<t.length&&(i=new hr("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var gs=null,ri=null;function Zu(e){da(e,0)}function ii(e){var t=Bt(e);if(ze(t))return e}function nr(e,t){if(e==="change")return t}var ms=!1;if(y){var si;if(y){var rr="oninput"in document;if(!rr){var $o=document.createElement("div");$o.setAttribute("oninput","return;"),rr=typeof $o.oninput=="function"}si=rr}else si=!1;ms=si&&(!document.documentMode||9<document.documentMode)}function Mi(){gs&&(gs.detachEvent("onpropertychange",ta),ri=gs=null)}function ta(e){if(e.propertyName==="value"&&ii(ri)){var t=[];lo(t,ri,e,Ul(e)),Vl(Zu,t)}}function na(e,t,i){e==="focusin"?(Mi(),gs=t,ri=i,gs.attachEvent("onpropertychange",ta)):e==="focusout"&&Mi()}function kt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ri)}function el(e,t){if(e==="click")return ii(t)}function ra(e,t){if(e==="input"||e==="change")return ii(t)}function ia(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:ia;function Ai(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!S.call(t,a)||!On(e[a],t[a]))return!1}return!0}function oi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function St(e,t){var i=oi(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=oi(i)}}function Ot(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ot(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jt(){for(var e=window,t=De();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=De(e.document)}return t}function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ao(e){var t=jt(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Ot(i.ownerDocument.documentElement,i)){if(o!==null&&vs(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,d=Math.min(o.start,a);o=o.end===void 0?d:Math.min(o.end,a),!e.extend&&d>o&&(a=o,o=d,d=a),a=St(i,d);var O=St(i,o);a&&O&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(O.node,O.offset)):(t.setEnd(O.node,O.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uo=y&&"documentMode"in document&&11>=document.documentMode,ys=null,Xt=null,Oi=null,co=!1;function tl(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;co||ys==null||ys!==De(o)||(o=ys,"selectionStart"in o&&vs(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oi&&Ai(Oi,o)||(Oi=o,o=al(Xt,"onSelect"),0<o.length&&(t=new hr("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=ys)))}function Hn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var sn={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionend:Hn("Transition","TransitionEnd")},Di={},nl={};y&&(nl=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function _s(e){if(Di[e])return Di[e];if(!sn[e])return e;var t=sn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in nl)return Di[e]=t[i];return e}var sa=_s("animationend"),oa=_s("animationiteration"),la=_s("animationstart"),aa=_s("transitionend"),ua=new Map,ca="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(e,t){ua.set(e,t),k(t,[e])}for(var rl=0;rl<ca.length;rl++){var Ii=ca[rl],$u=Ii.toLowerCase(),il=Ii[0].toUpperCase()+Ii.slice(1);br($u,"on"+il)}br(sa,"onAnimationEnd"),br(oa,"onAnimationIteration"),br(la,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(aa,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ec=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function sl(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Yc(o,t,void 0,e),e.currentTarget=null}function da(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var O=o.length-1;0<=O;O--){var K=o[O],$=K.instance,ce=K.currentTarget;if(K=K.listener,$!==d&&a.isPropagationStopped())break e;sl(a,K,ce),d=$}else for(O=0;O<o.length;O++){if(K=o[O],$=K.instance,ce=K.currentTarget,K=K.listener,$!==d&&a.isPropagationStopped())break e;sl(a,K,ce),d=$}}}if(Io)throw e=rs,Io=!1,rs=null,e}function dt(e,t){var i=t[cl];i===void 0&&(i=t[cl]=new Set);var o=e+"__bubble";i.has(o)||(fa(t,e,2,!1),i.add(o))}function ol(e,t,i){var o=0;t&&(o|=4),fa(i,e,o,t)}var fo="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[fo]){e[fo]=!0,B.forEach(function(i){i!=="selectionchange"&&(ec.has(i)||ol(i,!1,e),ol(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fo]||(t[fo]=!0,ol("selectionchange",!1,t))}}function fa(e,t,i,o){switch(bu(t)){case 1:var a=fr;break;case 4:a=Gr;break;default:a=ds}i=a.bind(null,t,i,e),a=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function ll(e,t,i,o,a){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var O=o.tag;if(O===3||O===4){var K=o.stateNode.containerInfo;if(K===a||K.nodeType===8&&K.parentNode===a)break;if(O===4)for(O=o.return;O!==null;){var $=O.tag;if(($===3||$===4)&&($=O.stateNode.containerInfo,$===a||$.nodeType===8&&$.parentNode===a))return;O=O.return}for(;K!==null;){if(O=ui(K),O===null)return;if($=O.tag,$===5||$===6){o=d=O;continue e}K=K.parentNode}}o=o.return}Vl(function(){var ce=d,_e=Ul(i),Se=[];e:{var ye=ua.get(e);if(ye!==void 0){var Te=hr,Me=e;switch(e){case"keypress":if(Ni(i)===0)break e;case"keydown":case"keyup":Te=Ku;break;case"focusin":Me="focus",Te=qo;break;case"focusout":Me="blur",Te=qo;break;case"beforeblur":case"afterblur":Te=qo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Qo;break;case sa:case oa:case la:Te=Xl;break;case aa:Te=hs;break;case"scroll":Te=Vu;break;case"wheel":Te=Zl;break;case"copy":case"cut":case"paste":Te=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Fi}var Ae=(t&4)!==0,Wt=!Ae&&e==="scroll",le=Ae?ye!==null?ye+"Capture":null:ye;Ae=[];for(var te=ce,ae;te!==null;){ae=te;var Ce=ae.stateNode;if(ae.tag===5&&Ce!==null&&(ae=Ce,le!==null&&(Ce=Js(te,le),Ce!=null&&Ae.push(Ss(te,Ce,ae)))),Wt)break;te=te.return}0<Ae.length&&(ye=new Te(ye,Me,null,i,_e),Se.push({event:ye,listeners:Ae}))}}if((t&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",Te=e==="mouseout"||e==="pointerout",ye&&i!==Gl&&(Me=i.relatedTarget||i.fromElement)&&(ui(Me)||Me[Pr]))break e;if((Te||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,Te?(Me=i.relatedTarget||i.toElement,Te=ce,Me=Me?ui(Me):null,Me!==null&&(Wt=ki(Me),Me!==Wt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Te=null,Me=ce),Te!==Me)){if(Ae=mt,Ce="onMouseLeave",le="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Fi,Ce="onPointerLeave",le="onPointerEnter",te="pointer"),Wt=Te==null?ye:Bt(Te),ae=Me==null?ye:Bt(Me),ye=new Ae(Ce,te+"leave",Te,i,_e),ye.target=Wt,ye.relatedTarget=ae,Ce=null,ui(_e)===ce&&(Ae=new Ae(le,te+"enter",Me,i,_e),Ae.target=ae,Ae.relatedTarget=Wt,Ce=Ae),Wt=Ce,Te&&Me)t:{for(Ae=Te,le=Me,te=0,ae=Ae;ae;ae=Gi(ae))te++;for(ae=0,Ce=le;Ce;Ce=Gi(Ce))ae++;for(;0<te-ae;)Ae=Gi(Ae),te--;for(;0<ae-te;)le=Gi(le),ae--;for(;te--;){if(Ae===le||le!==null&&Ae===le.alternate)break t;Ae=Gi(Ae),le=Gi(le)}Ae=null}else Ae=null;Te!==null&&tc(Se,ye,Te,Ae,!1),Me!==null&&Wt!==null&&tc(Se,Wt,Me,Ae,!0)}}e:{if(ye=ce?Bt(ce):window,Te=ye.nodeName&&ye.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ye.type==="file")var Oe=nr;else if(Br(ye))if(ms)Oe=ra;else{Oe=kt;var Ge=na}else(Te=ye.nodeName)&&Te.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Oe=el);if(Oe&&(Oe=Oe(e,ce))){lo(Se,Oe,i,_e);break e}Ge&&Ge(e,ye,ce),e==="focusout"&&(Ge=ye._wrapperState)&&Ge.controlled&&ye.type==="number"&&Sr(ye,"number",ye.value)}switch(Ge=ce?Bt(ce):window,e){case"focusin":(Br(Ge)||Ge.contentEditable==="true")&&(ys=Ge,Xt=ce,Oi=null);break;case"focusout":Oi=Xt=ys=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,tl(Se,i,_e);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":tl(Se,i,_e)}var Ue;if(oo)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Vn?$l(e,i)&&(Be="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(bn&&i.locale!=="ko"&&(Vn||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Vn&&(Ue=no()):(nn=_e,ti="value"in nn?nn.value:nn.textContent,Vn=!0)),Ge=al(ce,Be),0<Ge.length&&(Be=new Ri(Be,e,null,i,_e),Se.push({event:Be,listeners:Ge}),Ue?Be.data=Ue:(Ue=mr(i),Ue!==null&&(Be.data=Ue)))),(Ue=ps?ea(e,i):Ju(e,i))&&(ce=al(ce,"onBeforeInput"),0<ce.length&&(_e=new Ri("onBeforeInput","beforeinput",null,i,_e),Se.push({event:_e,listeners:ce}),_e.data=Ue))}da(Se,t)})}function Ss(e,t,i){return{instance:e,listener:t,currentTarget:i}}function al(e,t){for(var i=t+"Capture",o=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Js(e,i),d!=null&&o.unshift(Ss(e,d,a)),d=Js(e,t),d!=null&&o.push(Ss(e,d,a))),e=e.return}return o}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tc(e,t,i,o,a){for(var d=t._reactName,O=[];i!==null&&i!==o;){var K=i,$=K.alternate,ce=K.stateNode;if($!==null&&$===o)break;K.tag===5&&ce!==null&&(K=ce,a?($=Js(i,d),$!=null&&O.unshift(Ss(i,$,K))):a||($=Js(i,d),$!=null&&O.push(Ss(i,$,K)))),i=i.return}O.length!==0&&e.push({event:t,listeners:O})}var rd=/\r\n?/g,nc=/\u0000|\uFFFD/g;function ha(e){return(typeof e=="string"?e:""+e).replace(rd,`
`).replace(nc,"")}function ho(e,t,i){if(t=ha(t),ha(e)!==t&&i)throw Error(R(425))}function Ui(){}var pa=null,ga=null;function ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wn=typeof setTimeout=="function"?setTimeout:void 0,va=typeof clearTimeout=="function"?clearTimeout:void 0,po=typeof Promise=="function"?Promise:void 0,rc=typeof queueMicrotask=="function"?queueMicrotask:typeof po<"u"?function(e){return po.resolve(null).then(e).catch(ic)}:Wn;function ic(e){setTimeout(function(){throw e})}function ul(e,t){var i=t,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),Mn(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);Mn(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ji(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),ir="__reactFiber$"+ai,go="__reactProps$"+ai,Pr="__reactContainer$"+ai,cl="__reactEvents$"+ai,sc="__reactListeners$"+ai,oc="__reactHandles$"+ai;function ui(e){var t=e[ir];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Pr]||i[ir]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ji(e);e!==null;){if(i=e[ir])return i;e=ji(e)}return t}e=i,i=e.parentNode}return null}function mo(e){return e=e[ir]||e[Pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Qt(e){return e[go]||null}var dl=[],Bi=-1;function Vr(e){return{current:e}}function ft(e){0>Bi||(e.current=dl[Bi],dl[Bi]=null,Bi--)}function ut(e,t){Bi++,dl[Bi]=e.current,e.current=t}var Nr={},on=Vr(Nr),dn=Vr(!1),ci=Nr;function bi(e,t){var i=e.type.contextTypes;if(!i)return Nr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in i)a[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fn(e){return e=e.childContextTypes,e!=null}function ws(){ft(dn),ft(on)}function ya(e,t,i){if(on.current!==Nr)throw Error(R(168));ut(on,t),ut(dn,i)}function fl(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(R(108,W(e)||"Unknown",a));return j({},i,o)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ci=on.current,ut(on,e),ut(dn,dn.current),!0}function lc(e,t,i){var o=e.stateNode;if(!o)throw Error(R(169));i?(e=fl(e,t,ci),o.__reactInternalMemoizedMergedChildContext=e,ft(dn),ft(on),ut(on,e)):ft(dn),ut(dn,i)}var Rr=null,xs=!1,hl=!1;function vo(e){Rr===null?Rr=[e]:Rr.push(e)}function Hr(e){xs=!0,vo(e)}function di(){if(!hl&&Rr!==null){hl=!0;var e=0,t=tt;try{var i=Rr;for(tt=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Rr=null,xs=!1}catch(a){throw Rr!==null&&(Rr=Rr.slice(e+1)),Ou(Ei,di),a}finally{tt=t,hl=!1}}return null}var xn=[],Hi=0,fi=null,hi=0,Cn=[],kn=0,pi=null,qn=1,wt="";function Wi(e,t){xn[Hi++]=hi,xn[Hi++]=fi,fi=e,hi=t}function ac(e,t,i){Cn[kn++]=qn,Cn[kn++]=wt,Cn[kn++]=pi,pi=e;var o=qn;e=wt;var a=32-Ke(o)-1;o&=~(1<<a),i+=1;var d=32-Ke(t)+a;if(30<d){var O=a-a%5;d=(o&(1<<O)-1).toString(32),o>>=O,a-=O,qn=1<<32-Ke(t)+a|i<<a|o,wt=d+e}else qn=1<<d|i<<a|o,wt=e}function Cs(e){e.return!==null&&(Wi(e,1),ac(e,1,0))}function Jt(e){for(;e===fi;)fi=xn[--Hi],xn[Hi]=null,hi=xn[--Hi],xn[Hi]=null;for(;e===pi;)pi=Cn[--kn],Cn[kn]=null,wt=Cn[--kn],Cn[kn]=null,qn=Cn[--kn],Cn[kn]=null}var Kn=null,ke=null,st=!1,Yn=null;function _a(e,t){var i=Dr(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function uc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kn=e,ke=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kn=e,ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=pi!==null?{id:qn,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Dr(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Kn=e,ke=null,!0):!1;default:return!1}}function qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ks(e){if(st){var t=ke;if(t){var i=t;if(!uc(e,t)){if(qi(e))throw Error(R(418));t=Er(i.nextSibling);var o=Kn;t&&uc(e,t)?_a(o,i):(e.flags=e.flags&-4097|2,st=!1,Kn=e)}}else{if(qi(e))throw Error(R(418));e.flags=e.flags&-4097|2,st=!1,Kn=e}}}function pl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function yo(e){if(e!==Kn)return!1;if(!st)return pl(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ma(e.type,e.memoizedProps)),t&&(t=ke)){if(qi(e))throw Sa(),Error(R(418));for(;t;)_a(e,t),t=Er(t.nextSibling)}if(pl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ke=Er(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ke=null}}else ke=Kn?Er(e.stateNode.nextSibling):null;return!0}function Sa(){for(var e=ke;e;)e=Er(e.nextSibling)}function Ki(){ke=Kn=null,st=!1}function _o(e){Yn===null?Yn=[e]:Yn.push(e)}var wa=P.ReactCurrentBatchConfig;function Tt(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(R(309));var o=i.stateNode}if(!o)throw Error(R(147,e));var a=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(O){var K=a.refs;O===null?delete K[d]:K[d]=O},t._stringRef=d,t)}if(typeof e!="string")throw Error(R(284));if(!i._owner)throw Error(R(290,e))}return e}function Dn(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vr(e){var t=e._init;return t(e._payload)}function gl(e){function t(le,te){if(e){var ae=le.deletions;ae===null?(le.deletions=[te],le.flags|=16):ae.push(te)}}function i(le,te){if(!e)return null;for(;te!==null;)t(le,te),te=te.sibling;return null}function o(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function a(le,te){return le=Hs(le,te),le.index=0,le.sibling=null,le}function d(le,te,ae){return le.index=ae,e?(ae=le.alternate,ae!==null?(ae=ae.index,ae<te?(le.flags|=2,te):ae):(le.flags|=2,te)):(le.flags|=1048576,te)}function O(le){return e&&le.alternate===null&&(le.flags|=2),le}function K(le,te,ae,Ce){return te===null||te.tag!==6?(te=kd(ae,le.mode,Ce),te.return=le,te):(te=a(te,ae),te.return=le,te)}function $(le,te,ae,Ce){var Oe=ae.type;return Oe===X?_e(le,te,ae.props.children,Ce,ae.key):te!==null&&(te.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ge&&vr(Oe)===te.type)?(Ce=a(te,ae.props),Ce.ref=Tt(le,te,ae),Ce.return=le,Ce):(Ce=Fc(ae.type,ae.key,ae.props,null,le.mode,Ce),Ce.ref=Tt(le,te,ae),Ce.return=le,Ce)}function ce(le,te,ae,Ce){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=Ed(ae,le.mode,Ce),te.return=le,te):(te=a(te,ae.children||[]),te.return=le,te)}function _e(le,te,ae,Ce,Oe){return te===null||te.tag!==7?(te=Fo(ae,le.mode,Ce,Oe),te.return=le,te):(te=a(te,ae),te.return=le,te)}function Se(le,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number")return te=kd(""+te,le.mode,ae),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return ae=Fc(te.type,te.key,te.props,null,le.mode,ae),ae.ref=Tt(le,null,te),ae.return=le,ae;case V:return te=Ed(te,le.mode,ae),te.return=le,te;case ge:var Ce=te._init;return Se(le,Ce(te._payload),ae)}if(Et(te)||H(te))return te=Fo(te,le.mode,ae,null),te.return=le,te;Dn(le,te)}return null}function ye(le,te,ae,Ce){var Oe=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Oe!==null?null:K(le,te,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===Oe?$(le,te,ae,Ce):null;case V:return ae.key===Oe?ce(le,te,ae,Ce):null;case ge:return Oe=ae._init,ye(le,te,Oe(ae._payload),Ce)}if(Et(ae)||H(ae))return Oe!==null?null:_e(le,te,ae,Ce,null);Dn(le,ae)}return null}function Te(le,te,ae,Ce,Oe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return le=le.get(ae)||null,K(te,le,""+Ce,Oe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:return le=le.get(Ce.key===null?ae:Ce.key)||null,$(te,le,Ce,Oe);case V:return le=le.get(Ce.key===null?ae:Ce.key)||null,ce(te,le,Ce,Oe);case ge:var Ge=Ce._init;return Te(le,te,ae,Ge(Ce._payload),Oe)}if(Et(Ce)||H(Ce))return le=le.get(ae)||null,_e(te,le,Ce,Oe,null);Dn(te,Ce)}return null}function Me(le,te,ae,Ce){for(var Oe=null,Ge=null,Ue=te,Be=te=0,yn=null;Ue!==null&&Be<ae.length;Be++){Ue.index>Be?(yn=Ue,Ue=null):yn=Ue.sibling;var it=ye(le,Ue,ae[Be],Ce);if(it===null){Ue===null&&(Ue=yn);break}e&&Ue&&it.alternate===null&&t(le,Ue),te=d(it,te,Be),Ge===null?Oe=it:Ge.sibling=it,Ge=it,Ue=yn}if(Be===ae.length)return i(le,Ue),st&&Wi(le,Be),Oe;if(Ue===null){for(;Be<ae.length;Be++)Ue=Se(le,ae[Be],Ce),Ue!==null&&(te=d(Ue,te,Be),Ge===null?Oe=Ue:Ge.sibling=Ue,Ge=Ue);return st&&Wi(le,Be),Oe}for(Ue=o(le,Ue);Be<ae.length;Be++)yn=Te(Ue,le,Be,ae[Be],Ce),yn!==null&&(e&&yn.alternate!==null&&Ue.delete(yn.key===null?Be:yn.key),te=d(yn,te,Be),Ge===null?Oe=yn:Ge.sibling=yn,Ge=yn);return e&&Ue.forEach(function(Ws){return t(le,Ws)}),st&&Wi(le,Be),Oe}function Ae(le,te,ae,Ce){var Oe=H(ae);if(typeof Oe!="function")throw Error(R(150));if(ae=Oe.call(ae),ae==null)throw Error(R(151));for(var Ge=Oe=null,Ue=te,Be=te=0,yn=null,it=ae.next();Ue!==null&&!it.done;Be++,it=ae.next()){Ue.index>Be?(yn=Ue,Ue=null):yn=Ue.sibling;var Ws=ye(le,Ue,it.value,Ce);if(Ws===null){Ue===null&&(Ue=yn);break}e&&Ue&&Ws.alternate===null&&t(le,Ue),te=d(Ws,te,Be),Ge===null?Oe=Ws:Ge.sibling=Ws,Ge=Ws,Ue=yn}if(it.done)return i(le,Ue),st&&Wi(le,Be),Oe;if(Ue===null){for(;!it.done;Be++,it=ae.next())it=Se(le,it.value,Ce),it!==null&&(te=d(it,te,Be),Ge===null?Oe=it:Ge.sibling=it,Ge=it);return st&&Wi(le,Be),Oe}for(Ue=o(le,Ue);!it.done;Be++,it=ae.next())it=Te(Ue,le,Be,it.value,Ce),it!==null&&(e&&it.alternate!==null&&Ue.delete(it.key===null?Be:it.key),te=d(it,te,Be),Ge===null?Oe=it:Ge.sibling=it,Ge=it);return e&&Ue.forEach(function(b0){return t(le,b0)}),st&&Wi(le,Be),Oe}function Wt(le,te,ae,Ce){if(typeof ae=="object"&&ae!==null&&ae.type===X&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var Oe=ae.key,Ge=te;Ge!==null;){if(Ge.key===Oe){if(Oe=ae.type,Oe===X){if(Ge.tag===7){i(le,Ge.sibling),te=a(Ge,ae.props.children),te.return=le,le=te;break e}}else if(Ge.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ge&&vr(Oe)===Ge.type){i(le,Ge.sibling),te=a(Ge,ae.props),te.ref=Tt(le,Ge,ae),te.return=le,le=te;break e}i(le,Ge);break}else t(le,Ge);Ge=Ge.sibling}ae.type===X?(te=Fo(ae.props.children,le.mode,Ce,ae.key),te.return=le,le=te):(Ce=Fc(ae.type,ae.key,ae.props,null,le.mode,Ce),Ce.ref=Tt(le,te,ae),Ce.return=le,le=Ce)}return O(le);case V:e:{for(Ge=ae.key;te!==null;){if(te.key===Ge)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){i(le,te.sibling),te=a(te,ae.children||[]),te.return=le,le=te;break e}else{i(le,te);break}else t(le,te);te=te.sibling}te=Ed(ae,le.mode,Ce),te.return=le,le=te}return O(le);case ge:return Ge=ae._init,Wt(le,te,Ge(ae._payload),Ce)}if(Et(ae))return Me(le,te,ae,Ce);if(H(ae))return Ae(le,te,ae,Ce);Dn(le,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,te!==null&&te.tag===6?(i(le,te.sibling),te=a(te,ae),te.return=le,le=te):(i(le,te),te=kd(ae,le.mode,Ce),te.return=le,le=te),O(le)):i(le,te)}return Wt}var Yi=gl(!0),sr=gl(!1),So=Vr(null),Xn=null,Es=null,ml=null;function vl(){ml=Es=Xn=null}function yl(e){var t=So.current;ft(So),e._currentValue=t}function _l(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Wr(e,t){Xn=e,ml=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(m=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(ml!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(Xn===null)throw Error(R(308));Es=e,Xn.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Tr=null;function Ps(e){Tr===null?Tr=[e]:Tr.push(e)}function wo(e,t,i,o){var a=t.interleaved;return a===null?(i.next=i,Ps(t)):(i.next=a.next,a.next=i),t.interleaved=i,Qn(e,o)}function Qn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Fr=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(rt&2)!==0){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,Qn(e,i)}return a=o.interleaved,a===null?(t.next=t,Ps(o)):(t.next=a.next,a.next=t),o.interleaved=t,Qn(e,i)}function wl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Kl(e,i)}}function Co(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var O={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?a=d=O:d=d.next=O,i=i.next}while(i!==null);d===null?a=d=t:d=d.next=t}else a=d=t;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ns(e,t,i,o){var a=e.updateQueue;Fr=!1;var d=a.firstBaseUpdate,O=a.lastBaseUpdate,K=a.shared.pending;if(K!==null){a.shared.pending=null;var $=K,ce=$.next;$.next=null,O===null?d=ce:O.next=ce,O=$;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,K=_e.lastBaseUpdate,K!==O&&(K===null?_e.firstBaseUpdate=ce:K.next=ce,_e.lastBaseUpdate=$))}if(d!==null){var Se=a.baseState;O=0,_e=ce=$=null,K=d;do{var ye=K.lane,Te=K.eventTime;if((o&ye)===ye){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Me=e,Ae=K;switch(ye=t,Te=i,Ae.tag){case 1:if(Me=Ae.payload,typeof Me=="function"){Se=Me.call(Te,Se,ye);break e}Se=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ae.payload,ye=typeof Me=="function"?Me.call(Te,Se,ye):Me,ye==null)break e;Se=j({},Se,ye);break e;case 2:Fr=!0}}K.callback!==null&&K.lane!==0&&(e.flags|=64,ye=a.effects,ye===null?a.effects=[K]:ye.push(K))}else Te={eventTime:Te,lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},_e===null?(ce=_e=Te,$=Se):_e=_e.next=Te,O|=ye;if(K=K.next,K===null){if(K=a.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,a.lastBaseUpdate=ye,a.shared.pending=null}}while(!0);if(_e===null&&($=Se),a.baseState=$,a.firstBaseUpdate=ce,a.lastBaseUpdate=_e,t=a.shared.interleaved,t!==null){a=t;do O|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);Po|=O,e.lanes=O,e.memoizedState=Se}}function Pt(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(R(191,a));a.call(o)}}}var He={},ct=Vr(He),xt=Vr(He),Ft=Vr(He);function bt(e){if(e===He)throw Error(R(174));return e}function gi(e,t){switch(ut(Ft,t),ut(xt,e),ut(ct,He),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=er(t,e)}ft(ct),ut(ct,t)}function Ct(){ft(ct),ft(xt),ft(Ft)}function Rs(e){bt(Ft.current);var t=bt(ct.current),i=er(t,e.type);t!==i&&(ut(xt,e),ut(ct,i))}function qr(e){xt.current===e&&(ft(ct),ft(xt))}var ht=Vr(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xi=[];function hn(){for(var e=0;e<Xi.length;e++)Xi[e]._workInProgressVersionPrimary=null;Xi.length=0}var Fs=P.ReactCurrentDispatcher,ko=P.ReactCurrentBatchConfig,Pn=0,at=null,Nt=null,Dt=null,yr=!1,mi=!1,or=0,xl=0;function It(){throw Error(R(321))}function Eo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!On(e[i],t[i]))return!1;return!0}function Ls(e,t,i,o,a,d){if(Pn=d,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?sd:_i,e=i(o,a),mi){d=0;do{if(mi=!1,or=0,25<=d)throw Error(R(301));d+=1,Dt=Nt=null,t.updateQueue=null,Fs.current=Nl,e=i(o,a)}while(mi)}if(Fs.current=Ds,t=Nt!==null&&Nt.next!==null,Pn=0,Dt=Nt=at=null,yr=!1,t)throw Error(R(300));return e}function Ms(){var e=or!==0;return or=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?at.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Vt(){if(Nt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=Dt===null?at.memoizedState:Dt.next;if(t!==null)Dt=t,Nt=e;else{if(e===null)throw Error(R(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Dt===null?at.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function pn(e,t){return typeof t=="function"?t(e):t}function gn(e){var t=Vt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var o=Nt,a=o.baseQueue,d=i.pending;if(d!==null){if(a!==null){var O=a.next;a.next=d.next,d.next=O}o.baseQueue=a=d,i.pending=null}if(a!==null){d=a.next,o=o.baseState;var K=O=null,$=null,ce=d;do{var _e=ce.lane;if((Pn&_e)===_e)$!==null&&($=$.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),o=ce.hasEagerState?ce.eagerState:e(o,ce.action);else{var Se={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};$===null?(K=$=Se,O=o):$=$.next=Se,at.lanes|=_e,Po|=_e}ce=ce.next}while(ce!==null&&ce!==d);$===null?O=o:$.next=K,On(o,t.memoizedState)||(m=!0),t.memoizedState=o,t.baseState=O,t.baseQueue=$,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do d=a.lane,at.lanes|=d,Po|=d,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Cl(e){var t=Vt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,d=t.memoizedState;if(a!==null){i.pending=null;var O=a=a.next;do d=e(d,O.action),O=O.next;while(O!==a);On(d,t.memoizedState)||(m=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function kl(){}function El(e,t){var i=at,o=Vt(),a=t(),d=!On(o.memoizedState,a);if(d&&(o.memoizedState=a,m=!0),o=o.queue,Ea(xa.bind(null,i,o,e),[e]),o.getSnapshot!==t||d||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,As(9,Kr.bind(null,i,o,a,t),void 0,null),vn===null)throw Error(R(349));(Pn&30)!==0||cc(i,t,a)}return a}function cc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Kr(e,t,i,o){t.value=i,t.getSnapshot=o,Ca(t)&&Pl(e)}function xa(e,t,i){return i(function(){Ca(t)&&Pl(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!On(e,i)}catch{return!0}}function Pl(e){var t=Qn(e,1);t!==null&&Jr(t,e,1,-1)}function vi(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},t.queue=e,e=e.dispatch=mc.bind(null,at,e),[t.memoizedState,e]}function As(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function ka(){return Vt().memoizedState}function Os(e,t,i,o){var a=vt();at.flags|=e,a.memoizedState=As(1|t,i,void 0,o===void 0?null:o)}function Qi(e,t,i,o){var a=Vt();o=o===void 0?null:o;var d=void 0;if(Nt!==null){var O=Nt.memoizedState;if(d=O.destroy,o!==null&&Eo(o,O.deps)){a.memoizedState=As(t,i,d,o);return}}at.flags|=e,a.memoizedState=As(1|t,i,d,o)}function dc(e,t){return Os(8390656,8,e,t)}function Ea(e,t){return Qi(2048,8,e,t)}function Pa(e,t){return Qi(4,2,e,t)}function Na(e,t){return Qi(4,4,e,t)}function yi(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fc(e,t,i){return i=i!=null?i.concat([e]):null,Qi(4,4,yi.bind(null,t,e),i)}function Yr(){}function Ra(e,t){var i=Vt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Eo(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function yt(e,t){var i=Vt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Eo(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function hc(e,t,i){return(Pn&21)===0?(e.baseState&&(e.baseState=!1,m=!0),e.memoizedState=i):(On(i,t)||(i=ql(),at.lanes|=i,Po|=i,e.baseState=!0),t)}function pc(e,t){var i=tt;tt=i!==0&&4>i?i:4,e(!0);var o=ko.transition;ko.transition={};try{e(!1),t()}finally{tt=i,ko.transition=o}}function gc(){return Vt().memoizedState}function id(e,t,i){var o=bs(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Ta(e))vc(t,i);else if(i=wo(e,t,i,o),i!==null){var a=Zn();Jr(i,e,o,a),Jn(i,t,o)}}function mc(e,t,i){var o=bs(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ta(e))vc(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var O=t.lastRenderedState,K=d(O,i);if(a.hasEagerState=!0,a.eagerState=K,On(K,O)){var $=t.interleaved;$===null?(a.next=a,Ps(t)):(a.next=$.next,$.next=a),t.interleaved=a;return}}catch{}finally{}i=wo(e,t,a,o),i!==null&&(a=Zn(),Jr(i,e,o,a),Jn(i,t,o))}}function Ta(e){var t=e.alternate;return e===at||t!==null&&t===at}function vc(e,t){mi=yr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jn(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Kl(e,i)}}var Ds={readContext:En,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},sd={readContext:En,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:dc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Os(4194308,4,yi.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var i=vt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=vt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=id.bind(null,at,e),[o.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:vi,useDebugValue:Yr,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=vi(!1),t=e[0];return e=pc.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=at,a=vt();if(st){if(i===void 0)throw Error(R(407));i=i()}else{if(i=t(),vn===null)throw Error(R(349));(Pn&30)!==0||cc(o,t,i)}a.memoizedState=i;var d={value:i,getSnapshot:t};return a.queue=d,dc(xa.bind(null,o,d,e),[e]),o.flags|=2048,As(9,Kr.bind(null,o,d,i,t),void 0,null),i},useId:function(){var e=vt(),t=vn.identifierPrefix;if(st){var i=wt,o=qn;i=(o&~(1<<32-Ke(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=or++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=xl++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_i={readContext:En,useCallback:Ra,useContext:En,useEffect:Ea,useImperativeHandle:fc,useInsertionEffect:Pa,useLayoutEffect:Na,useMemo:yt,useReducer:gn,useRef:ka,useState:function(){return gn(pn)},useDebugValue:Yr,useDeferredValue:function(e){var t=Vt();return hc(t,Nt.memoizedState,e)},useTransition:function(){var e=gn(pn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:kl,useSyncExternalStore:El,useId:gc,unstable_isNewReconciler:!1},Nl={readContext:En,useCallback:Ra,useContext:En,useEffect:Ea,useImperativeHandle:fc,useInsertionEffect:Pa,useLayoutEffect:Na,useMemo:yt,useReducer:Cl,useRef:ka,useState:function(){return Cl(pn)},useDebugValue:Yr,useDeferredValue:function(e){var t=Vt();return Nt===null?t.memoizedState=e:hc(t,Nt.memoizedState,e)},useTransition:function(){var e=Cl(pn)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:kl,useSyncExternalStore:El,useId:gc,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=j({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Is(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:j({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var zs={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Zn(),a=bs(e),d=Lr(o,a);d.payload=t,i!=null&&(d.callback=i),t=Mr(e,d,a),t!==null&&(Jr(t,e,a,o),wl(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Zn(),a=bs(e),d=Lr(o,a);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Mr(e,d,a),t!==null&&(Jr(t,e,a,o),wl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zn(),o=bs(e),a=Lr(i,o);a.tag=2,t!=null&&(a.callback=t),t=Mr(e,a,o),t!==null&&(Jr(t,e,o,i),wl(t,e,o))}};function Rl(e,t,i,o,a,d,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,O):t.prototype&&t.prototype.isPureReactComponent?!Ai(i,o)||!Ai(a,d):!0}function yc(e,t,i){var o=!1,a=Nr,d=t.contextType;return typeof d=="object"&&d!==null?d=En(d):(a=fn(t)?ci:on.current,o=t.contextTypes,d=(o=o!=null)?bi(e,a):Nr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function Fa(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Tl(e,t,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},xo(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=En(d):(d=fn(t)?ci:on.current,a.context=bi(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Is(e,t,d,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&zs.enqueueReplaceState(a,a.state,null),Ns(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,t){try{var i="",o=t;do i+=me(o),o=o.return;while(o);var a=i}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function Fl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Gs(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var od=typeof WeakMap=="function"?WeakMap:Map;function _c(e,t,i){i=Lr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){kc||(kc=!0,md=o),Gs(e,t)},i}function n(e,t,i){i=Lr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;i.payload=function(){return o(a)},i.callback=function(){Gs(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Gs(e,t),typeof o!="function"&&(js===null?js=new Set([this]):js.add(this));var O=t.stack;this.componentDidCatch(t.value,{componentStack:O!==null?O:""})}),i}function r(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new od;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(i)||(a.add(i),e=L0.bind(null,e,t,i),t.then(e,e))}function s(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function l(e,t,i,o,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Lr(-1,1),t.tag=2,Mr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var u=P.ReactCurrentOwner,m=!1;function b(e,t,i,o){t.child=e===null?sr(t,null,i,o):Yi(t,e.child,i,o)}function ne(e,t,i,o,a){i=i.render;var d=t.ref;return Wr(t,a),o=Ls(e,t,i,o,d,a),i=Ms(),e!==null&&!m?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(st&&i&&Cs(t),t.flags|=1,b(e,t,o,a),t.child)}function fe(e,t,i,o,a){if(e===null){var d=i.type;return typeof d=="function"&&!Cd(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,we(e,t,d,o,a)):(e=Fc(i.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var O=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ai,i(O,o)&&e.ref===t.ref)return mn(e,t,a)}return t.flags|=1,e=Hs(d,o),e.ref=t.ref,e.return=t,t.child=e}function we(e,t,i,o,a){if(e!==null){var d=e.memoizedProps;if(Ai(d,o)&&e.ref===t.ref)if(m=!1,t.pendingProps=o=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(m=!0);else return t.lanes=e.lanes,mn(e,t,a)}return Pe(e,t,i,o,a)}function Fe(e,t,i){var o=t.pendingProps,a=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ml,_r),_r|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(Ml,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,ut(Ml,_r),_r|=o}else d!==null?(o=d.baseLanes|i,t.memoizedState=null):o=i,ut(Ml,_r),_r|=o;return b(e,t,a,i),t.child}function be(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Pe(e,t,i,o,a){var d=fn(i)?ci:on.current;return d=bi(t,d),Wr(t,a),i=Ls(e,t,i,o,d,a),o=Ms(),e!==null&&!m?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(st&&o&&Cs(t),t.flags|=1,b(e,t,i,a),t.child)}function pt(e,t,i,o,a){if(fn(i)){var d=!0;Vi(t)}else d=!1;if(Wr(t,a),t.stateNode===null)Qe(e,t),yc(t,i,o),Tl(t,i,o,a),o=!0;else if(e===null){var O=t.stateNode,K=t.memoizedProps;O.props=K;var $=O.context,ce=i.contextType;typeof ce=="object"&&ce!==null?ce=En(ce):(ce=fn(i)?ci:on.current,ce=bi(t,ce));var _e=i.getDerivedStateFromProps,Se=typeof _e=="function"||typeof O.getSnapshotBeforeUpdate=="function";Se||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==o||$!==ce)&&Fa(t,O,o,ce),Fr=!1;var ye=t.memoizedState;O.state=ye,Ns(t,o,O,a),$=t.memoizedState,K!==o||ye!==$||dn.current||Fr?(typeof _e=="function"&&(Is(t,i,_e,o),$=t.memoizedState),(K=Fr||Rl(t,i,K,o,ye,$,ce))?(Se||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(t.flags|=4194308)):(typeof O.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=$),O.props=o,O.state=$,O.context=ce,o=K):(typeof O.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{O=t.stateNode,Sl(e,t),K=t.memoizedProps,ce=t.type===t.elementType?K:ln(t.type,K),O.props=ce,Se=t.pendingProps,ye=O.context,$=i.contextType,typeof $=="object"&&$!==null?$=En($):($=fn(i)?ci:on.current,$=bi(t,$));var Te=i.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==Se||ye!==$)&&Fa(t,O,o,$),Fr=!1,ye=t.memoizedState,O.state=ye,Ns(t,o,O,a);var Me=t.memoizedState;K!==Se||ye!==Me||dn.current||Fr?(typeof Te=="function"&&(Is(t,i,Te,o),Me=t.memoizedState),(ce=Fr||Rl(t,i,ce,o,ye,Me,$)||!1)?(_e||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(o,Me,$),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(o,Me,$)),typeof O.componentDidUpdate=="function"&&(t.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Me),O.props=o,O.state=Me,O.context=$,o=ce):(typeof O.componentDidUpdate!="function"||K===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),o=!1)}return ot(e,t,i,o,d,a)}function ot(e,t,i,o,a,d){be(e,t);var O=(t.flags&128)!==0;if(!o&&!O)return a&&lc(t,i,!1),mn(e,t,d);o=t.stateNode,u.current=t;var K=O&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&O?(t.child=Yi(t,e.child,null,d),t.child=Yi(t,null,K,d)):b(e,t,K,d),t.memoizedState=o.state,a&&lc(t,i,!0),t.child}function Nn(e){var t=e.stateNode;t.pendingContext?ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ya(e,t.context,!1),gi(e,t.containerInfo)}function Ar(e,t,i,o,a){return Ki(),_o(a),t.flags|=256,b(e,t,i,o),t.child}var ue={dehydrated:null,treeContext:null,retryLane:0};function se(e){return{baseLanes:e,cachePool:null,transitions:null}}function he(e,t,i){var o=t.pendingProps,a=ht.current,d=!1,O=(t.flags&128)!==0,K;if((K=O)||(K=e!==null&&e.memoizedState===null?!1:(a&2)!==0),K?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ut(ht,a&1),e===null)return ks(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(O=o.children,e=o.fallback,d?(o=t.mode,d=t.child,O={mode:"hidden",children:O},(o&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=O):d=Lc(O,o,0,null),e=Fo(e,o,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=se(i),t.memoizedState=ue,e):Ne(t,O));if(a=e.memoizedState,a!==null&&(K=a.dehydrated,K!==null))return We(e,t,O,o,K,a,i);if(d){d=o.fallback,O=t.mode,a=e.child,K=a.sibling;var $={mode:"hidden",children:o.children};return(O&1)===0&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=$,t.deletions=null):(o=Hs(a,$),o.subtreeFlags=a.subtreeFlags&14680064),K!==null?d=Hs(K,d):(d=Fo(d,O,i,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,O=e.child.memoizedState,O=O===null?se(i):{baseLanes:O.baseLanes|i,cachePool:null,transitions:O.transitions},d.memoizedState=O,d.childLanes=e.childLanes&~i,t.memoizedState=ue,o}return d=e.child,e=d.sibling,o=Hs(d,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Ne(e,t){return t=Lc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ie(e,t,i,o){return o!==null&&_o(o),Yi(t,e.child,null,i),e=Ne(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function We(e,t,i,o,a,d,O){if(i)return t.flags&256?(t.flags&=-257,o=Fl(Error(R(422))),Ie(e,t,O,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,a=t.mode,o=Lc({mode:"visible",children:o.children},a,0,null),d=Fo(d,a,O,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,(t.mode&1)!==0&&Yi(t,e.child,null,O),t.child.memoizedState=se(O),t.memoizedState=ue,d);if((t.mode&1)===0)return Ie(e,t,O,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var K=o.dgst;return o=K,d=Error(R(419)),o=Fl(d,o,void 0),Ie(e,t,O,o)}if(K=(O&e.childLanes)!==0,m||K){if(o=vn,o!==null){switch(O&-O){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(o.suspendedLanes|O))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Qn(e,a),Jr(o,e,a,-1))}return xd(),o=Fl(Error(R(421))),Ie(e,t,O,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=M0.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,ke=Er(a.nextSibling),Kn=t,st=!0,Yn=null,e!==null&&(Cn[kn++]=qn,Cn[kn++]=wt,Cn[kn++]=pi,qn=e.id,wt=e.overflow,pi=t),t=Ne(t,o.children),t.flags|=4096,t)}function Ve(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),_l(e.return,t,i)}function Ze(e,t,i,o,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=a)}function Ht(e,t,i){var o=t.pendingProps,a=o.revealOrder,d=o.tail;if(b(e,t,o.children,i),o=ht.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ve(e,i,t);else if(e.tag===19)Ve(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ut(ht,o),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&Ts(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),Ze(t,!1,a,i,d);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ts(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}Ze(t,!0,i,null,d);break;case"together":Ze(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qe(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,i=Hs(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Hs(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ld(e,t,i){switch(t.tag){case 3:Nn(t),Ki();break;case 5:Rs(t);break;case 1:fn(t.type)&&Vi(t);break;case 4:gi(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;ut(So,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ut(ht,ht.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?he(e,t,i):(ut(ht,ht.current&1),e=mn(e,t,i),e!==null?e.sibling:null);ut(ht,ht.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Ht(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ut(ht,ht.current),o)break;return null;case 22:case 23:return t.lanes=0,Fe(e,t,i)}return mn(e,t,i)}var sf,ad,of,lf;sf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ad=function(){},of=function(e,t,i,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,bt(ct.current);var d=null;switch(i){case"input":a=et(e,a),o=et(e,o),d=[];break;case"select":a=j({},a,{value:void 0}),o=j({},o,{value:void 0}),d=[];break;case"textarea":a=lt(e,a),o=lt(e,o),d=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ui)}Qs(i,o);var O;i=null;for(ce in a)if(!o.hasOwnProperty(ce)&&a.hasOwnProperty(ce)&&a[ce]!=null)if(ce==="style"){var K=a[ce];for(O in K)K.hasOwnProperty(O)&&(i||(i={}),i[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(D.hasOwnProperty(ce)?d||(d=[]):(d=d||[]).push(ce,null));for(ce in o){var $=o[ce];if(K=a?.[ce],o.hasOwnProperty(ce)&&$!==K&&($!=null||K!=null))if(ce==="style")if(K){for(O in K)!K.hasOwnProperty(O)||$&&$.hasOwnProperty(O)||(i||(i={}),i[O]="");for(O in $)$.hasOwnProperty(O)&&K[O]!==$[O]&&(i||(i={}),i[O]=$[O])}else i||(d||(d=[]),d.push(ce,i)),i=$;else ce==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,K=K?K.__html:void 0,$!=null&&K!==$&&(d=d||[]).push(ce,$)):ce==="children"?typeof $!="string"&&typeof $!="number"||(d=d||[]).push(ce,""+$):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(D.hasOwnProperty(ce)?($!=null&&ce==="onScroll"&&dt("scroll",e),d||K===$||(d=[])):(d=d||[]).push(ce,$))}i&&(d=d||[]).push("style",i);var ce=d;(t.updateQueue=ce)&&(t.flags|=4)}},lf=function(e,t,i,o){i!==o&&(t.flags|=4)};function La(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function In(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function w0(e,t,i){var o=t.pendingProps;switch(Jt(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return fn(t.type)&&ws(),In(t),null;case 3:return o=t.stateNode,Ct(),ft(dn),ft(on),hn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yn!==null&&(_d(Yn),Yn=null))),ad(e,t),In(t),null;case 5:qr(t);var a=bt(Ft.current);if(i=t.type,e!==null&&t.stateNode!=null)of(e,t,i,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return In(t),null}if(e=bt(ct.current),yo(t)){o=t.stateNode,i=t.type;var d=t.memoizedProps;switch(o[ir]=t,o[go]=d,e=(t.mode&1)!==0,i){case"dialog":dt("cancel",o),dt("close",o);break;case"iframe":case"object":case"embed":dt("load",o);break;case"video":case"audio":for(a=0;a<li.length;a++)dt(li[a],o);break;case"source":dt("error",o);break;case"img":case"image":case"link":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"input":je(o,d),dt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},dt("invalid",o);break;case"textarea":Fn(o,d),dt("invalid",o)}Qs(i,d),a=null;for(var O in d)if(d.hasOwnProperty(O)){var K=d[O];O==="children"?typeof K=="string"?o.textContent!==K&&(d.suppressHydrationWarning!==!0&&ho(o.textContent,K,e),a=["children",K]):typeof K=="number"&&o.textContent!==""+K&&(d.suppressHydrationWarning!==!0&&ho(o.textContent,K,e),a=["children",""+K]):D.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&dt("scroll",o)}switch(i){case"input":Ee(o),_t(o,d,!0);break;case"textarea":Ee(o),wr(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ui)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{O=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=en(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=O.createElement(i,{is:o.is}):(e=O.createElement(i),i==="select"&&(O=e,o.multiple?O.multiple=!0:o.size&&(O.size=o.size))):e=O.createElementNS(e,i),e[ir]=t,e[go]=o,sf(e,t,!1,!1),t.stateNode=e;e:{switch(O=Mo(i,o),i){case"dialog":dt("cancel",e),dt("close",e),a=o;break;case"iframe":case"object":case"embed":dt("load",e),a=o;break;case"video":case"audio":for(a=0;a<li.length;a++)dt(li[a],e);a=o;break;case"source":dt("error",e),a=o;break;case"img":case"image":case"link":dt("error",e),dt("load",e),a=o;break;case"details":dt("toggle",e),a=o;break;case"input":je(e,o),a=et(e,o),dt("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=j({},o,{value:void 0}),dt("invalid",e);break;case"textarea":Fn(e,o),a=lt(e,o),dt("invalid",e);break;default:a=o}Qs(i,a),K=a;for(d in K)if(K.hasOwnProperty(d)){var $=K[d];d==="style"?xi(e,$):d==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Un(e,$)):d==="children"?typeof $=="string"?(i!=="textarea"||$!=="")&&Mt(e,$):typeof $=="number"&&Mt(e,""+$):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(D.hasOwnProperty(d)?$!=null&&d==="onScroll"&&dt("scroll",e):$!=null&&c(e,d,$,O))}switch(i){case"input":Ee(e),_t(e,o,!1);break;case"textarea":Ee(e),wr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ie(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?$n(e,!!o.multiple,d,!1):o.defaultValue!=null&&$n(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ui)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(e&&t.stateNode!=null)lf(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(i=bt(Ft.current),bt(ct.current),yo(t)){if(o=t.stateNode,i=t.memoizedProps,o[ir]=t,(d=o.nodeValue!==i)&&(e=Kn,e!==null))switch(e.tag){case 3:ho(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ho(o.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[ir]=t,t.stateNode=o}return In(t),null;case 13:if(ft(ht),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&ke!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sa(),Ki(),t.flags|=98560,d=!1;else if(d=yo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(R(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(R(317));d[ir]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;In(t),d=!1}else Yn!==null&&(_d(Yn),Yn=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?an===0&&(an=3):xd())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return Ct(),ad(e,t),e===null&&zi(t.stateNode.containerInfo),In(t),null;case 10:return yl(t.type._context),In(t),null;case 17:return fn(t.type)&&ws(),In(t),null;case 19:if(ft(ht),d=t.memoizedState,d===null)return In(t),null;if(o=(t.flags&128)!==0,O=d.rendering,O===null)if(o)La(d,!1);else{if(an!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(O=Ts(e),O!==null){for(t.flags|=128,La(d,!1),o=O.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)d=i,e=o,d.flags&=14680066,O=d.alternate,O===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=O.childLanes,d.lanes=O.lanes,d.child=O.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=O.memoizedProps,d.memoizedState=O.memoizedState,d.updateQueue=O.updateQueue,d.type=O.type,e=O.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ut(ht,ht.current&1|2),t.child}e=e.sibling}d.tail!==null&&Rt()>Al&&(t.flags|=128,o=!0,La(d,!1),t.lanes=4194304)}else{if(!o)if(e=Ts(O),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),La(d,!0),d.tail===null&&d.tailMode==="hidden"&&!O.alternate&&!st)return In(t),null}else 2*Rt()-d.renderingStartTime>Al&&i!==1073741824&&(t.flags|=128,o=!0,La(d,!1),t.lanes=4194304);d.isBackwards?(O.sibling=t.child,t.child=O):(i=d.last,i!==null?i.sibling=O:t.child=O,d.last=O)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Rt(),t.sibling=null,i=ht.current,ut(ht,o?i&1|2:i&1),t):(In(t),null);case 22:case 23:return wd(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(_r&1073741824)!==0&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function x0(e,t){switch(Jt(t),t.tag){case 1:return fn(t.type)&&ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ct(),ft(dn),ft(on),hn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return qr(t),null;case 13:if(ft(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(ht),null;case 4:return Ct(),null;case 10:return yl(t.type._context),null;case 22:case 23:return wd(),null;case 24:return null;default:return null}}var Sc=!1,zn=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ll(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){zt(e,t,o)}else i.current=null}function ud(e,t,i){try{i()}catch(o){zt(e,t,o)}}var af=!1;function k0(e,t){if(pa=Ho,e=jt(),vs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var O=0,K=-1,$=-1,ce=0,_e=0,Se=e,ye=null;t:for(;;){for(var Te;Se!==i||a!==0&&Se.nodeType!==3||(K=O+a),Se!==d||o!==0&&Se.nodeType!==3||($=O+o),Se.nodeType===3&&(O+=Se.nodeValue.length),(Te=Se.firstChild)!==null;)ye=Se,Se=Te;for(;;){if(Se===e)break t;if(ye===i&&++ce===a&&(K=O),ye===d&&++_e===o&&($=O),(Te=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=Te}i=K===-1||$===-1?null:{start:K,end:$}}else i=null}i=i||{start:0,end:0}}else i=null;for(ga={focusedElem:e,selectionRange:i},Ho=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var Me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ae=Me.memoizedProps,Wt=Me.memoizedState,le=t.stateNode,te=le.getSnapshotBeforeUpdate(t.elementType===t.type?Ae:ln(t.type,Ae),Wt);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ae=t.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(Ce){zt(t,t.return,Ce)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return Me=af,af=!1,Me}function Ma(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&ud(t,i,d)}a=a.next}while(a!==o)}}function wc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function cd(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[go],delete t[cl],delete t[sc],delete t[oc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cf(e){return e.tag===5||e.tag===3||e.tag===4}function df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ui));else if(o!==4&&(e=e.child,e!==null))for(dd(e,t,i),e=e.sibling;e!==null;)dd(e,t,i),e=e.sibling}function fd(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(fd(e,t,i),e=e.sibling;e!==null;)fd(e,t,i),e=e.sibling}var Rn=null,Xr=!1;function Us(e,t,i){for(i=i.child;i!==null;)ff(e,t,i),i=i.sibling}function ff(e,t,i){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ir,i)}catch{}switch(i.tag){case 5:zn||Ll(i,t);case 6:var o=Rn,a=Xr;Rn=null,Us(e,t,i),Rn=o,Xr=a,Rn!==null&&(Xr?(e=Rn,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Rn.removeChild(i.stateNode));break;case 18:Rn!==null&&(Xr?(e=Rn,i=i.stateNode,e.nodeType===8?ul(e.parentNode,i):e.nodeType===1&&ul(e,i),Mn(e)):ul(Rn,i.stateNode));break;case 4:o=Rn,a=Xr,Rn=i.stateNode.containerInfo,Xr=!0,Us(e,t,i),Rn=o,Xr=a;break;case 0:case 11:case 14:case 15:if(!zn&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var d=a,O=d.destroy;d=d.tag,O!==void 0&&((d&2)!==0||(d&4)!==0)&&ud(i,t,O),a=a.next}while(a!==o)}Us(e,t,i);break;case 1:if(!zn&&(Ll(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(K){zt(i,t,K)}Us(e,t,i);break;case 21:Us(e,t,i);break;case 22:i.mode&1?(zn=(o=zn)||i.memoizedState!==null,Us(e,t,i),zn=o):Us(e,t,i);break;default:Us(e,t,i)}}function hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new C0),t.forEach(function(o){var a=A0.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function Qr(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var d=e,O=t,K=O;e:for(;K!==null;){switch(K.tag){case 5:Rn=K.stateNode,Xr=!1;break e;case 3:Rn=K.stateNode.containerInfo,Xr=!0;break e;case 4:Rn=K.stateNode.containerInfo,Xr=!0;break e}K=K.return}if(Rn===null)throw Error(R(160));ff(d,O,a),Rn=null,Xr=!1;var $=a.alternate;$!==null&&($.return=null),a.return=null}catch(ce){zt(a,t,ce)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pf(t,e),t=t.sibling}function pf(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),Si(e),o&4){try{Ma(3,e,e.return),wc(3,e)}catch(Ae){zt(e,e.return,Ae)}try{Ma(5,e,e.return)}catch(Ae){zt(e,e.return,Ae)}}break;case 1:Qr(t,e),Si(e),o&512&&i!==null&&Ll(i,i.return);break;case 5:if(Qr(t,e),Si(e),o&512&&i!==null&&Ll(i,i.return),e.flags&32){var a=e.stateNode;try{Mt(a,"")}catch(Ae){zt(e,e.return,Ae)}}if(o&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,O=i!==null?i.memoizedProps:d,K=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{K==="input"&&d.type==="radio"&&d.name!=null&&Lt(a,d),Mo(K,O);var ce=Mo(K,d);for(O=0;O<$.length;O+=2){var _e=$[O],Se=$[O+1];_e==="style"?xi(a,Se):_e==="dangerouslySetInnerHTML"?Un(a,Se):_e==="children"?Mt(a,Se):c(a,_e,Se,ce)}switch(K){case"input":nt(a,d);break;case"textarea":$t(a,d);break;case"select":var ye=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var Te=d.value;Te!=null?$n(a,!!d.multiple,Te,!1):ye!==!!d.multiple&&(d.defaultValue!=null?$n(a,!!d.multiple,d.defaultValue,!0):$n(a,!!d.multiple,d.multiple?[]:"",!1))}a[go]=d}catch(Ae){zt(e,e.return,Ae)}}break;case 6:if(Qr(t,e),Si(e),o&4){if(e.stateNode===null)throw Error(R(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(Ae){zt(e,e.return,Ae)}}break;case 3:if(Qr(t,e),Si(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Mn(t.containerInfo)}catch(Ae){zt(e,e.return,Ae)}break;case 4:Qr(t,e),Si(e);break;case 13:Qr(t,e),Si(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(gd=Rt())),o&4&&hf(e);break;case 22:if(_e=i!==null&&i.memoizedState!==null,e.mode&1?(zn=(ce=zn)||_e,Qr(t,e),zn=ce):Qr(t,e),Si(e),o&8192){if(ce=e.memoizedState!==null,(e.stateNode.isHidden=ce)&&!_e&&(e.mode&1)!==0)for(Le=e,_e=e.child;_e!==null;){for(Se=Le=_e;Le!==null;){switch(ye=Le,Te=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ma(4,ye,ye.return);break;case 1:Ll(ye,ye.return);var Me=ye.stateNode;if(typeof Me.componentWillUnmount=="function"){o=ye,i=ye.return;try{t=o,Me.props=t.memoizedProps,Me.state=t.memoizedState,Me.componentWillUnmount()}catch(Ae){zt(o,i,Ae)}}break;case 5:Ll(ye,ye.return);break;case 22:if(ye.memoizedState!==null){vf(Se);continue}}Te!==null?(Te.return=ye,Le=Te):vf(Se)}_e=_e.sibling}e:for(_e=null,Se=e;;){if(Se.tag===5){if(_e===null){_e=Se;try{a=Se.stateNode,ce?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(K=Se.stateNode,$=Se.memoizedProps.style,O=$!=null&&$.hasOwnProperty("display")?$.display:null,K.style.display=Xs("display",O))}catch(Ae){zt(e,e.return,Ae)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(Ae){zt(e,e.return,Ae)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===e)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===e)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===e)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Qr(t,e),Si(e),o&4&&hf(e);break;case 21:break;default:Qr(t,e),Si(e)}}function Si(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(cf(i)){var o=i;break e}i=i.return}throw Error(R(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(Mt(a,""),o.flags&=-33);var d=df(e);fd(e,d,a);break;case 3:case 4:var O=o.stateNode.containerInfo,K=df(e);dd(e,K,O);break;default:throw Error(R(161))}}catch($){zt(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E0(e,t,i){Le=e,gf(e)}function gf(e,t,i){for(var o=(e.mode&1)!==0;Le!==null;){var a=Le,d=a.child;if(a.tag===22&&o){var O=a.memoizedState!==null||Sc;if(!O){var K=a.alternate,$=K!==null&&K.memoizedState!==null||zn;K=Sc;var ce=zn;if(Sc=O,(zn=$)&&!ce)for(Le=a;Le!==null;)O=Le,$=O.child,O.tag===22&&O.memoizedState!==null?yf(a):$!==null?($.return=O,Le=$):yf(a);for(;d!==null;)Le=d,gf(d),d=d.sibling;Le=a,Sc=K,zn=ce}mf(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,Le=d):mf(e)}}function mf(e){for(;Le!==null;){var t=Le;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:zn||wc(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!zn)if(i===null)o.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:ln(t.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Pt(t,d,o);break;case 3:var O=t.updateQueue;if(O!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Pt(t,O,i)}break;case 5:var K=t.stateNode;if(i===null&&t.flags&4){i=K;var $=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&i.focus();break;case"img":$.src&&(i.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var ce=t.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&Mn(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}zn||t.flags&512&&cd(t)}catch(ye){zt(t,t.return,ye)}}if(t===e){Le=null;break}if(i=t.sibling,i!==null){i.return=t.return,Le=i;break}Le=t.return}}function vf(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Le=i;break}Le=t.return}}function yf(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{wc(4,t)}catch($){zt(t,i,$)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch($){zt(t,a,$)}}var d=t.return;try{cd(t)}catch($){zt(t,d,$)}break;case 5:var O=t.return;try{cd(t)}catch($){zt(t,O,$)}}}catch($){zt(t,t.return,$)}if(t===e){Le=null;break}var K=t.sibling;if(K!==null){K.return=t.return,Le=K;break}Le=t.return}}var P0=Math.ceil,xc=P.ReactCurrentDispatcher,hd=P.ReactCurrentOwner,Or=P.ReactCurrentBatchConfig,rt=0,vn=null,Zt=null,Tn=0,_r=0,Ml=Vr(0),an=0,Aa=null,Po=0,Cc=0,pd=0,Oa=null,lr=null,gd=0,Al=1/0,Zi=null,kc=!1,md=null,js=null,Ec=!1,Bs=null,Pc=0,Da=0,vd=null,Nc=-1,Rc=0;function Zn(){return(rt&6)!==0?Rt():Nc!==-1?Nc:Nc=Rt()}function bs(e){return(e.mode&1)===0?1:(rt&2)!==0&&Tn!==0?Tn&-Tn:wa.transition!==null?(Rc===0&&(Rc=ql()),Rc):(e=tt,e!==0||(e=window.event,e=e===void 0?16:bu(e.type)),e)}function Jr(e,t,i,o){if(50<Da)throw Da=0,vd=null,Error(R(185));$s(e,i,o),((rt&2)===0||e!==vn)&&(e===vn&&((rt&2)===0&&(Cc|=i),an===4&&Vs(e,Tn)),ar(e,o),i===1&&rt===0&&(t.mode&1)===0&&(Al=Rt()+500,xs&&di()))}function ar(e,t){var i=e.callbackNode;zu(e,t);var o=Pi(e,e===vn?Tn:0);if(o===0)i!==null&&Du(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Du(i),t===1)e.tag===0?Hr(Sf.bind(null,e)):vo(Sf.bind(null,e)),rc(function(){(rt&6)===0&&di()}),i=null;else{switch(eo(o)){case 1:i=Ei;break;case 4:i=zo;break;case 16:i=is;break;case 536870912:i=Go;break;default:i=is}i=Rf(i,_f.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function _f(e,t){if(Nc=-1,Rc=0,(rt&6)!==0)throw Error(R(327));var i=e.callbackNode;if(Ol()&&e.callbackNode!==i)return null;var o=Pi(e,e===vn?Tn:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Tc(e,o);else{t=o;var a=rt;rt|=2;var d=xf();(vn!==e||Tn!==t)&&(Zi=null,Al=Rt()+500,Ro(e,t));do try{T0();break}catch(K){wf(e,K)}while(!0);vl(),xc.current=d,rt=a,Zt!==null?t=0:(vn=null,Tn=0,t=an)}if(t!==0){if(t===2&&(a=ss(e),a!==0&&(o=a,t=yd(e,a))),t===1)throw i=Aa,Ro(e,0),Vs(e,o),ar(e,Rt()),i;if(t===6)Vs(e,o);else{if(a=e.current.alternate,(o&30)===0&&!N0(a)&&(t=Tc(e,o),t===2&&(d=ss(e),d!==0&&(o=d,t=yd(e,d))),t===1))throw i=Aa,Ro(e,0),Vs(e,o),ar(e,Rt()),i;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:To(e,lr,Zi);break;case 3:if(Vs(e,o),(o&130023424)===o&&(t=gd+500-Rt(),10<t)){if(Pi(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wn(To.bind(null,e,lr,Zi),t);break}To(e,lr,Zi);break;case 4:if(Vs(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var O=31-Ke(o);d=1<<O,O=t[O],O>a&&(a=O),o&=~d}if(o=a,o=Rt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*P0(o/1960))-o,10<o){e.timeoutHandle=Wn(To.bind(null,e,lr,Zi),o);break}To(e,lr,Zi);break;case 5:To(e,lr,Zi);break;default:throw Error(R(329))}}}return ar(e,Rt()),e.callbackNode===i?_f.bind(null,e):null}function yd(e,t){var i=Oa;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=Tc(e,t),e!==2&&(t=lr,lr=i,t!==null&&_d(t)),e}function _d(e){lr===null?lr=e:lr.push.apply(lr,e)}function N0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],d=a.getSnapshot;a=a.value;try{if(!On(d(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vs(e,t){for(t&=~pd,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ke(t),o=1<<i;e[i]=-1,t&=~o}}function Sf(e){if((rt&6)!==0)throw Error(R(327));Ol();var t=Pi(e,0);if((t&1)===0)return ar(e,Rt()),null;var i=Tc(e,t);if(e.tag!==0&&i===2){var o=ss(e);o!==0&&(t=o,i=yd(e,o))}if(i===1)throw i=Aa,Ro(e,0),Vs(e,t),ar(e,Rt()),i;if(i===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,To(e,lr,Zi),ar(e,Rt()),null}function Sd(e,t){var i=rt;rt|=1;try{return e(t)}finally{rt=i,rt===0&&(Al=Rt()+500,xs&&di())}}function No(e){Bs!==null&&Bs.tag===0&&(rt&6)===0&&Ol();var t=rt;rt|=1;var i=Or.transition,o=tt;try{if(Or.transition=null,tt=1,e)return e()}finally{tt=o,Or.transition=i,rt=t,(rt&6)===0&&di()}}function wd(){_r=Ml.current,ft(Ml)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,va(i)),Zt!==null)for(i=Zt.return;i!==null;){var o=i;switch(Jt(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ws();break;case 3:Ct(),ft(dn),ft(on),hn();break;case 5:qr(o);break;case 4:Ct();break;case 13:ft(ht);break;case 19:ft(ht);break;case 10:yl(o.type._context);break;case 22:case 23:wd()}i=i.return}if(vn=e,Zt=e=Hs(e.current,null),Tn=_r=t,an=0,Aa=null,pd=Cc=Po=0,lr=Oa=null,Tr!==null){for(t=0;t<Tr.length;t++)if(i=Tr[t],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,d=i.pending;if(d!==null){var O=d.next;d.next=a,o.next=O}i.pending=o}Tr=null}return e}function wf(e,t){do{var i=Zt;try{if(vl(),Fs.current=Ds,yr){for(var o=at.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}yr=!1}if(Pn=0,Dt=Nt=at=null,mi=!1,or=0,hd.current=null,i===null||i.return===null){an=1,Aa=t,Zt=null;break}e:{var d=e,O=i.return,K=i,$=t;if(t=Tn,K.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=$,_e=K,Se=_e.tag;if((_e.mode&1)===0&&(Se===0||Se===11||Se===15)){var ye=_e.alternate;ye?(_e.updateQueue=ye.updateQueue,_e.memoizedState=ye.memoizedState,_e.lanes=ye.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=s(O);if(Te!==null){Te.flags&=-257,l(Te,O,K,d,t),Te.mode&1&&r(d,ce,t),t=Te,$=ce;var Me=t.updateQueue;if(Me===null){var Ae=new Set;Ae.add($),t.updateQueue=Ae}else Me.add($);break e}else{if((t&1)===0){r(d,ce,t),xd();break e}$=Error(R(426))}}else if(st&&K.mode&1){var Wt=s(O);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),l(Wt,O,K,d,t),_o(Ji($,K));break e}}d=$=Ji($,K),an!==4&&(an=2),Oa===null?Oa=[d]:Oa.push(d),d=O;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var le=_c(d,$,t);Co(d,le);break e;case 1:K=$;var te=d.type,ae=d.stateNode;if((d.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(js===null||!js.has(ae)))){d.flags|=65536,t&=-t,d.lanes|=t;var Ce=n(d,K,t);Co(d,Ce);break e}}d=d.return}while(d!==null)}kf(i)}catch(Oe){t=Oe,Zt===i&&i!==null&&(Zt=i=i.return);continue}break}while(!0)}function xf(){var e=xc.current;return xc.current=Ds,e===null?Ds:e}function xd(){(an===0||an===3||an===2)&&(an=4),vn===null||(Po&268435455)===0&&(Cc&268435455)===0||Vs(vn,Tn)}function Tc(e,t){var i=rt;rt|=2;var o=xf();(vn!==e||Tn!==t)&&(Zi=null,Ro(e,t));do try{R0();break}catch(a){wf(e,a)}while(!0);if(vl(),rt=i,xc.current=o,Zt!==null)throw Error(R(261));return vn=null,Tn=0,an}function R0(){for(;Zt!==null;)Cf(Zt)}function T0(){for(;Zt!==null&&!Qc();)Cf(Zt)}function Cf(e){var t=Nf(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?kf(e):Zt=t,hd.current=null}function kf(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=w0(i,t,_r),i!==null){Zt=i;return}}else{if(i=x0(i,t),i!==null){i.flags&=32767,Zt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{an=6,Zt=null;return}}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);an===0&&(an=5)}function To(e,t,i){var o=tt,a=Or.transition;try{Or.transition=null,tt=1,F0(e,t,i,o)}finally{Or.transition=a,tt=o}return null}function F0(e,t,i,o){do Ol();while(Bs!==null);if((rt&6)!==0)throw Error(R(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if($c(e,d),e===vn&&(Zt=vn=null,Tn=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ec||(Ec=!0,Rf(is,function(){return Ol(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=Or.transition,Or.transition=null;var O=tt;tt=1;var K=rt;rt|=4,hd.current=null,k0(e,i),pf(i,e),ao(ga),Ho=!!pa,ga=pa=null,e.current=i,E0(i),Jc(),rt=K,tt=O,Or.transition=d}else e.current=i;if(Ec&&(Ec=!1,Bs=e,Pc=a),d=e.pendingLanes,d===0&&(js=null),gt(i.stateNode),ar(e,Rt()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(kc)throw kc=!1,e=md,md=null,e;return(Pc&1)!==0&&e.tag!==0&&Ol(),d=e.pendingLanes,(d&1)!==0?e===vd?Da++:(Da=0,vd=e):Da=0,di(),null}function Ol(){if(Bs!==null){var e=eo(Pc),t=Or.transition,i=tt;try{if(Or.transition=null,tt=16>e?16:e,Bs===null)var o=!1;else{if(e=Bs,Bs=null,Pc=0,(rt&6)!==0)throw Error(R(331));var a=rt;for(rt|=4,Le=e.current;Le!==null;){var d=Le,O=d.child;if((Le.flags&16)!==0){var K=d.deletions;if(K!==null){for(var $=0;$<K.length;$++){var ce=K[$];for(Le=ce;Le!==null;){var _e=Le;switch(_e.tag){case 0:case 11:case 15:Ma(8,_e,d)}var Se=_e.child;if(Se!==null)Se.return=_e,Le=Se;else for(;Le!==null;){_e=Le;var ye=_e.sibling,Te=_e.return;if(uf(_e),_e===ce){Le=null;break}if(ye!==null){ye.return=Te,Le=ye;break}Le=Te}}}var Me=d.alternate;if(Me!==null){var Ae=Me.child;if(Ae!==null){Me.child=null;do{var Wt=Ae.sibling;Ae.sibling=null,Ae=Wt}while(Ae!==null)}}Le=d}}if((d.subtreeFlags&2064)!==0&&O!==null)O.return=d,Le=O;else e:for(;Le!==null;){if(d=Le,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ma(9,d,d.return)}var le=d.sibling;if(le!==null){le.return=d.return,Le=le;break e}Le=d.return}}var te=e.current;for(Le=te;Le!==null;){O=Le;var ae=O.child;if((O.subtreeFlags&2064)!==0&&ae!==null)ae.return=O,Le=ae;else e:for(O=te;Le!==null;){if(K=Le,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:wc(9,K)}}catch(Oe){zt(K,K.return,Oe)}if(K===O){Le=null;break e}var Ce=K.sibling;if(Ce!==null){Ce.return=K.return,Le=Ce;break e}Le=K.return}}if(rt=a,di(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ir,e)}catch{}o=!0}return o}finally{tt=i,Or.transition=t}}return!1}function Ef(e,t,i){t=Ji(i,t),t=_c(e,t,1),e=Mr(e,t,1),t=Zn(),e!==null&&($s(e,1,t),ar(e,t))}function zt(e,t,i){if(e.tag===3)Ef(e,e,i);else for(;t!==null;){if(t.tag===3){Ef(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Ji(i,e),e=n(t,e,1),t=Mr(t,e,1),e=Zn(),t!==null&&($s(t,1,e),ar(t,e));break}}t=t.return}}function L0(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&i,vn===e&&(Tn&i)===i&&(an===4||an===3&&(Tn&130023424)===Tn&&500>Rt()-gd?Ro(e,0):pd|=i),ar(e,t)}function Pf(e,t){t===0&&((e.mode&1)===0?t=1:(t=zr,zr<<=1,(zr&130023424)===0&&(zr=4194304)));var i=Zn();e=Qn(e,t),e!==null&&($s(e,t,i),ar(e,i))}function M0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Pf(e,i)}function A0(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Pf(e,i)}var Nf;Nf=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)m=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return m=!1,ld(e,t,i);m=(e.flags&131072)!==0}else m=!1,st&&(t.flags&1048576)!==0&&ac(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Qe(e,t),e=t.pendingProps;var a=bi(t,on.current);Wr(t,i),a=Ls(null,t,o,e,a,i);var d=Ms();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(o)?(d=!0,Vi(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,xo(t),a.updater=zs,t.stateNode=a,a._reactInternals=t,Tl(t,o,e,i),t=ot(null,t,o,!0,d,i)):(t.tag=0,st&&d&&Cs(t),b(null,t,a,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Qe(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=D0(o),e=ln(o,e),a){case 0:t=Pe(null,t,o,e,i);break e;case 1:t=pt(null,t,o,e,i);break e;case 11:t=ne(null,t,o,e,i);break e;case 14:t=fe(null,t,o,ln(o.type,e),i);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:ln(o,a),Pe(e,t,o,a,i);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:ln(o,a),pt(e,t,o,a,i);case 3:e:{if(Nn(t),e===null)throw Error(R(387));o=t.pendingProps,d=t.memoizedState,a=d.element,Sl(e,t),Ns(t,o,null,i);var O=t.memoizedState;if(o=O.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=Ji(Error(R(423)),t),t=Ar(e,t,o,i,a);break e}else if(o!==a){a=Ji(Error(R(424)),t),t=Ar(e,t,o,i,a);break e}else for(ke=Er(t.stateNode.containerInfo.firstChild),Kn=t,st=!0,Yn=null,i=sr(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ki(),o===a){t=mn(e,t,i);break e}b(e,t,o,i)}t=t.child}return t;case 5:return Rs(t),e===null&&ks(t),o=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,O=a.children,ma(o,a)?O=null:d!==null&&ma(o,d)&&(t.flags|=32),be(e,t),b(e,t,O,i),t.child;case 6:return e===null&&ks(t),null;case 13:return he(e,t,i);case 4:return gi(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Yi(t,null,o,i):b(e,t,o,i),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:ln(o,a),ne(e,t,o,a,i);case 7:return b(e,t,t.pendingProps,i),t.child;case 8:return b(e,t,t.pendingProps.children,i),t.child;case 12:return b(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,d=t.memoizedProps,O=a.value,ut(So,o._currentValue),o._currentValue=O,d!==null)if(On(d.value,O)){if(d.children===a.children&&!dn.current){t=mn(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var K=d.dependencies;if(K!==null){O=d.child;for(var $=K.firstContext;$!==null;){if($.context===o){if(d.tag===1){$=Lr(-1,i&-i),$.tag=2;var ce=d.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),ce.pending=$}}d.lanes|=i,$=d.alternate,$!==null&&($.lanes|=i),_l(d.return,i,t),K.lanes|=i;break}$=$.next}}else if(d.tag===10)O=d.type===t.type?null:d.child;else if(d.tag===18){if(O=d.return,O===null)throw Error(R(341));O.lanes|=i,K=O.alternate,K!==null&&(K.lanes|=i),_l(O,i,t),O=d.sibling}else O=d.child;if(O!==null)O.return=d;else for(O=d;O!==null;){if(O===t){O=null;break}if(d=O.sibling,d!==null){d.return=O.return,O=d;break}O=O.return}d=O}b(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,Wr(t,i),a=En(a),o=o(a),t.flags|=1,b(e,t,o,i),t.child;case 14:return o=t.type,a=ln(o,t.pendingProps),a=ln(o.type,a),fe(e,t,o,a,i);case 15:return we(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:ln(o,a),Qe(e,t),t.tag=1,fn(o)?(e=!0,Vi(t)):e=!1,Wr(t,i),yc(t,o,a),Tl(t,o,a,i),ot(null,t,o,!0,e,i);case 19:return Ht(e,t,i);case 22:return Fe(e,t,i)}throw Error(R(156,t.tag))};function Rf(e,t){return Ou(e,t)}function O0(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,i,o){return new O0(e,t,i,o)}function Cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D0(e){if(typeof e=="function")return Cd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===Q)return 14}return 2}function Hs(e,t){var i=e.alternate;return i===null?(i=Dr(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Fc(e,t,i,o,a,d){var O=2;if(o=e,typeof e=="function")Cd(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case X:return Fo(i.children,a,d,t);case z:O=8,a|=8;break;case U:return e=Dr(12,i,t,a|2),e.elementType=U,e.lanes=d,e;case ee:return e=Dr(13,i,t,a),e.elementType=ee,e.lanes=d,e;case re:return e=Dr(19,i,t,a),e.elementType=re,e.lanes=d,e;case N:return Lc(i,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:O=10;break e;case q:O=9;break e;case J:O=11;break e;case Q:O=14;break e;case ge:O=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Dr(O,i,t,a),t.elementType=e,t.type=o,t.lanes=d,t}function Fo(e,t,i,o){return e=Dr(7,e,o,t),e.lanes=i,e}function Lc(e,t,i,o){return e=Dr(22,e,o,t),e.elementType=N,e.lanes=i,e.stateNode={isHidden:!1},e}function kd(e,t,i){return e=Dr(6,e,null,t),e.lanes=i,e}function Ed(e,t,i){return t=Dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,i,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jn(0),this.expirationTimes=jn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Pd(e,t,i,o,a,d,O,K,$){return e=new I0(e,t,i,K,$),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Dr(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(d),e}function z0(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Tf(e){if(!e)return Nr;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var i=e.type;if(fn(i))return fl(e,i,t)}return t}function Ff(e,t,i,o,a,d,O,K,$){return e=Pd(i,o,!0,e,a,d,O,K,$),e.context=Tf(null),i=e.current,o=Zn(),a=bs(i),d=Lr(o,a),d.callback=t??null,Mr(i,d,a),e.current.lanes=a,$s(e,a,o),ar(e,o),e}function Mc(e,t,i,o){var a=t.current,d=Zn(),O=bs(a);return i=Tf(i),t.context===null?t.context=i:t.pendingContext=i,t=Lr(d,O),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Mr(a,t,O),e!==null&&(Jr(e,a,O,d),wl(e,a,O)),O}function Ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Nd(e,t){Lf(e,t),(e=e.alternate)&&Lf(e,t)}function G0(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}Oc.prototype.render=Rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Mc(e,t,null,null)},Oc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;No(function(){Mc(null,e,null,null)}),t[Pr]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<kr.length&&t!==0&&t<kr[i].priority;i++);kr.splice(i,0,e),i===0&&Bo(e)}};function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Af(){}function U0(e,t,i,o,a){if(a){if(typeof o=="function"){var d=o;o=function(){var ce=Ac(O);d.call(ce)}}var O=Ff(t,o,e,0,null,!1,!1,"",Af);return e._reactRootContainer=O,e[Pr]=O.current,zi(e.nodeType===8?e.parentNode:e),No(),O}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var K=o;o=function(){var ce=Ac($);K.call(ce)}}var $=Pd(e,0,!1,null,null,!1,!1,"",Af);return e._reactRootContainer=$,e[Pr]=$.current,zi(e.nodeType===8?e.parentNode:e),No(function(){Mc(t,$,i,o)}),$}function Ic(e,t,i,o,a){var d=i._reactRootContainer;if(d){var O=d;if(typeof a=="function"){var K=a;a=function(){var $=Ac(O);K.call($)}}Mc(t,O,e,a)}else O=U0(i,t,e,a,o);return Ac(O)}os=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Kt(t.pendingLanes);i!==0&&(Kl(t,i|1),ar(t,Rt()),(rt&6)===0&&(Al=Rt()+500,di()))}break;case 13:No(function(){var o=Qn(e,1);if(o!==null){var a=Zn();Jr(o,e,1,a)}}),Nd(e,1)}},ls=function(e){if(e.tag===13){var t=Qn(e,134217728);if(t!==null){var i=Zn();Jr(t,e,134217728,i)}Nd(e,134217728)}},Gu=function(e){if(e.tag===13){var t=bs(e),i=Qn(e,t);if(i!==null){var o=Zn();Jr(i,e,t,o)}Nd(e,t)}},Uu=function(){return tt},Uo=function(e,t){var i=tt;try{return tt=e,t()}finally{tt=i}},jl=function(e,t,i){switch(t){case"input":if(nt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var a=Qt(o);if(!a)throw Error(R(90));ze(o),nt(o,a)}}}break;case"textarea":$t(e,i);break;case"select":t=i.value,t!=null&&$n(e,!!i.multiple,t,!1)}},Ru=Sd,Ao=No;var j0={usingClientEntryPoint:!1,Events:[mo,Bt,Qt,Bl,bl,Sd]},Ia={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Ir=zc.inject(B0),tn=zc}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0,ur.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(t))throw Error(R(200));return z0(e,t,null,i)},ur.createRoot=function(e,t){if(!Td(e))throw Error(R(299));var i=!1,o="",a=Mf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Pd(e,1,!1,null,null,i,!1,o,a),e[Pr]=t.current,zi(e.nodeType===8?e.parentNode:e),new Rd(t)},ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Mu(t),e=e===null?null:e.stateNode,e},ur.flushSync=function(e){return No(e)},ur.hydrate=function(e,t,i){if(!Dc(t))throw Error(R(200));return Ic(null,e,t,!0,i)},ur.hydrateRoot=function(e,t,i){if(!Td(e))throw Error(R(405));var o=i!=null&&i.hydratedSources||null,a=!1,d="",O=Mf;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(O=i.onRecoverableError)),t=Ff(t,null,e,1,i??null,a,!1,d,O),e[Pr]=t.current,zi(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new Oc(t)},ur.render=function(e,t,i){if(!Dc(t))throw Error(R(200));return Ic(null,e,t,!1,i)},ur.unmountComponentAtNode=function(e){if(!Dc(e))throw Error(R(40));return e._reactRootContainer?(No(function(){Ic(null,null,e,!1,function(){e._reactRootContainer=null,e[Pr]=null})}),!0):!1},ur.unstable_batchedUpdates=Sd,ur.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Dc(i))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ic(e,t,i,!1,o)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var bf;function Y0(){if(bf)return Md.exports;bf=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(_){console.error(_)}}return h(),Md.exports=K0(),Md.exports}var Vf;function X0(){if(Vf)return Gc;Vf=1;var h=Y0();return Gc.createRoot=h.createRoot,Gc.hydrateRoot=h.hydrateRoot,Gc}var Q0=X0();function Bc(h){if(!h)return h;const _=String(h);if(/^(https?:)?\/\//i.test(_)||_.startsWith("data:")||_.startsWith("blob:"))return _;const R="https://key-studios.github.io/muba-test/";if(_.startsWith(R))return _;const B=_.startsWith("/")?"":"/";return`${R}${B}${_}`}const J0=({categories:h,onAddFurniture:_,existingFurniture:R,hidden:B,onToggle:D})=>{const[k,p]=Re.useState(h[0]?.id||null),[y,S]=Re.useState(""),x=(w,g)=>{const v={name:g.name,image:Bc(g.image),width:g.width,height:g.height};w.dataTransfer.effectAllowed="copy",w.dataTransfer.setData("application/json",JSON.stringify(v))},C=w=>{p(k===w?null:w)},F=Re.useMemo(()=>{if(!y.trim())return h;const w=y.toLowerCase();return h.map(g=>({...g,furniture:g.furniture.filter(v=>v.name.toLowerCase().includes(w))})).filter(g=>g.furniture.length>0)},[h,y]);return B?pe.jsx("button",{onClick:D,className:"absolute top-4 left-4 z-50 px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-text text-xs shadow transition-colors",children:"Mostrar catlogo"}):pe.jsxs("div",{className:"w-72 max-h-[80vh] bg-gray-100 border border-border rounded-xl flex flex-col overflow-hidden relative shadow-md",children:[pe.jsx("button",{onClick:D,className:"absolute -right-4 top-6 bg-gray-200 border border-border rounded-full w-10 h-10 flex items-center justify-center text-base font-bold shadow-lg hover:bg-gray-300 active:scale-95 transition-all text-text",title:"Ocultar catlogo",children:pe.jsx("span",{className:"drop-shadow-sm",children:""})}),pe.jsxs("div",{className:"px-6 py-5 border-b border-border bg-gray-200",children:[pe.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Catlogo"}),pe.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Arrastra muebles al canvas"}),pe.jsx("input",{type:"text",value:y,onChange:w=>S(w.target.value),placeholder:"Buscar...",className:"mt-3 w-full text-xs px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-300 bg-surface"})]}),pe.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 bg-gray-100",children:[F.map(w=>pe.jsxs("div",{className:"mb-5",children:[pe.jsxs("button",{onClick:()=>C(w.id),className:"w-full text-left px-3 py-2.5 hover:bg-gray-200 rounded-lg font-medium text-sm text-text transition-colors flex items-center justify-between border border-border bg-surface",children:[pe.jsx("span",{children:w.name}),pe.jsx("span",{className:"text-xs text-gray-400",children:k===w.id?"":"+"})]}),k===w.id&&pe.jsxs("div",{className:"mt-3 space-y-2",children:[w.furniture.map(g=>pe.jsxs("div",{draggable:!0,onDragStart:v=>x(v,g),className:"p-3 bg-surface-alt border border-border rounded-lg hover:border-gray-400 hover:shadow cursor-move transition-all",children:[pe.jsx("img",{src:Bc(g.image),alt:g.name,className:"w-full h-20 object-contain bg-surface rounded mb-2",draggable:!1}),pe.jsx("p",{className:"text-xs font-medium text-gray-700 text-center truncate",children:g.name})]},g.id)),w.furniture.length===0&&pe.jsx("p",{className:"text-xs text-gray-400 px-2",children:"Sin resultados"})]})]},w.id)),F.length===0&&pe.jsx("p",{className:"text-xs text-gray-400 px-3",children:"No hay coincidencias"})]}),pe.jsx("div",{className:"border-t border-border bg-gray-200 px-6 py-4 text-xs text-gray-600",children:pe.jsxs("div",{className:"flex items-center justify-between",children:[pe.jsx("span",{children:"Muebles:"}),pe.jsx("span",{className:"font-semibold text-gray-900",children:R})]})})]})};var jc={exports:{}},Ga={},Dd={},Id={},Hf;function qe(){return Hf||(Hf=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h._registerNode=h.Konva=h.glob=void 0;const _=Math.PI/180;function R(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}h.glob=typeof Of<"u"?Of:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},h.Konva={_global:h.glob,version:"9.3.22",isBrowser:R(),isUnminified:/param/.test((function(D){}).toString()),dblClickWindow:400,getAngle(D){return h.Konva.angleDeg?D*_:D},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return h.Konva.DD.isDragging},isTransforming(){var D;return(D=h.Konva.Transformer)===null||D===void 0?void 0:D.isTransforming()},isDragReady(){return!!h.Konva.DD.node},releaseCanvasOnDestroy:!0,document:h.glob.document,_injectGlobal(D){h.glob.Konva=D}};const B=D=>{h.Konva[D.prototype.getClassName()]=D};h._registerNode=B,h.Konva._injectGlobal(h.Konva)})(Id)),Id}var zd={},Wf;function Gt(){return Wf||(Wf=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Util=h.Transform=void 0;const _=qe();class R{constructor(P=[1,0,0,1,0,0]){this.dirty=!1,this.m=P&&P.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new R(this.m)}copyInto(P){P.m[0]=this.m[0],P.m[1]=this.m[1],P.m[2]=this.m[2],P.m[3]=this.m[3],P.m[4]=this.m[4],P.m[5]=this.m[5]}point(P){const A=this.m;return{x:A[0]*P.x+A[2]*P.y+A[4],y:A[1]*P.x+A[3]*P.y+A[5]}}translate(P,A){return this.m[4]+=this.m[0]*P+this.m[2]*A,this.m[5]+=this.m[1]*P+this.m[3]*A,this}scale(P,A){return this.m[0]*=P,this.m[1]*=P,this.m[2]*=A,this.m[3]*=A,this}rotate(P){const A=Math.cos(P),V=Math.sin(P),X=this.m[0]*A+this.m[2]*V,z=this.m[1]*A+this.m[3]*V,U=this.m[0]*-V+this.m[2]*A,G=this.m[1]*-V+this.m[3]*A;return this.m[0]=X,this.m[1]=z,this.m[2]=U,this.m[3]=G,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(P,A){const V=this.m[0]+this.m[2]*A,X=this.m[1]+this.m[3]*A,z=this.m[2]+this.m[0]*P,U=this.m[3]+this.m[1]*P;return this.m[0]=V,this.m[1]=X,this.m[2]=z,this.m[3]=U,this}multiply(P){const A=this.m[0]*P.m[0]+this.m[2]*P.m[1],V=this.m[1]*P.m[0]+this.m[3]*P.m[1],X=this.m[0]*P.m[2]+this.m[2]*P.m[3],z=this.m[1]*P.m[2]+this.m[3]*P.m[3],U=this.m[0]*P.m[4]+this.m[2]*P.m[5]+this.m[4],G=this.m[1]*P.m[4]+this.m[3]*P.m[5]+this.m[5];return this.m[0]=A,this.m[1]=V,this.m[2]=X,this.m[3]=z,this.m[4]=U,this.m[5]=G,this}invert(){const P=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),A=this.m[3]*P,V=-this.m[1]*P,X=-this.m[2]*P,z=this.m[0]*P,U=P*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),G=P*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=A,this.m[1]=V,this.m[2]=X,this.m[3]=z,this.m[4]=U,this.m[5]=G,this}getMatrix(){return this.m}decompose(){const P=this.m[0],A=this.m[1],V=this.m[2],X=this.m[3],z=this.m[4],U=this.m[5],G=P*X-A*V,q={x:z,y:U,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(P!=0||A!=0){const J=Math.sqrt(P*P+A*A);q.rotation=A>0?Math.acos(P/J):-Math.acos(P/J),q.scaleX=J,q.scaleY=G/J,q.skewX=(P*V+A*X)/G,q.skewY=0}else if(V!=0||X!=0){const J=Math.sqrt(V*V+X*X);q.rotation=Math.PI/2-(X>0?Math.acos(-V/J):-Math.acos(V/J)),q.scaleX=G/J,q.scaleY=J,q.skewX=0,q.skewY=(P*V+A*X)/G}return q.rotation=h.Util._getRotation(q.rotation),q}}h.Transform=R;const B="[object Array]",D="[object Number]",k="[object String]",p="[object Boolean]",y=Math.PI/180,S=180/Math.PI,x="#",C="",F="0",w="Konva warning: ",g="Konva error: ",v="rgb(",E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let I=[];const f=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};h.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===B},_isNumber(c){return Object.prototype.toString.call(c)===D&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===k},_isBoolean(c){return Object.prototype.toString.call(c)===p},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;const P=c[0];return P==="#"||P==="."||P===P.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){I.push(c),I.length===1&&f(function(){const P=I;I=[],P.forEach(function(A){A()})})},createCanvasElement(){const c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,P){const A=h.Util.createImageElement();A.onload=function(){P(A)},A.src=c},_rgbToHex(c,P,A){return((1<<24)+(c<<16)+(P<<8)+A).toString(16).slice(1)},_hexToRgb(c){c=c.replace(x,C);const P=parseInt(c,16);return{r:P>>16&255,g:P>>8&255,b:P&255}},getRandomColor(){let c=(Math.random()*16777215<<0).toString(16);for(;c.length<6;)c=F+c;return x+c},getRGB(c){let P;return c in E?(P=E[c],{r:P[0],g:P[1],b:P[2]}):c[0]===x?this._hexToRgb(c.substring(1)):c.substr(0,4)===v?(P=T.exec(c.replace(/ /g,"")),{r:parseInt(P[1],10),g:parseInt(P[2],10),b:parseInt(P[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",h.Util._namedColorToRBA(c)||h.Util._hex3ColorToRGBA(c)||h.Util._hex4ColorToRGBA(c)||h.Util._hex6ColorToRGBA(c)||h.Util._hex8ColorToRGBA(c)||h.Util._rgbColorToRGBA(c)||h.Util._rgbaColorToRGBA(c)||h.Util._hslColorToRGBA(c)},_namedColorToRBA(c){const P=E[c.toLowerCase()];return P?{r:P[0],g:P[1],b:P[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];const P=c.split(/ *, */).map(Number);return{r:P[0],g:P[1],b:P[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];const P=c.split(/ *, */).map((A,V)=>A.slice(-1)==="%"?V===3?parseInt(A)/100:parseInt(A)/100*255:Number(A));return{r:P[0],g:P[1],b:P[2],a:P[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[P,...A]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),V=Number(A[0])/360,X=Number(A[1])/100,z=Number(A[2])/100;let U,G,q;if(X===0)return q=z*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};z<.5?U=z*(1+X):U=z+X-z*X;const J=2*z-U,ee=[0,0,0];for(let re=0;re<3;re++)G=V+1/3*-(re-1),G<0&&G++,G>1&&G--,6*G<1?q=J+(U-J)*6*G:2*G<1?q=U:3*G<2?q=J+(U-J)*(2/3-G)*6:q=J,ee[re]=q*255;return{r:Math.round(ee[0]),g:Math.round(ee[1]),b:Math.round(ee[2]),a:1}}},haveIntersection(c,P){return!(P.x>c.x+c.width||P.x+P.width<c.x||P.y>c.y+c.height||P.y+P.height<c.y)},cloneObject(c){const P={};for(const A in c)this._isPlainObject(c[A])?P[A]=this.cloneObject(c[A]):this._isArray(c[A])?P[A]=this.cloneArray(c[A]):P[A]=c[A];return P},cloneArray(c){return c.slice(0)},degToRad(c){return c*y},radToDeg(c){return c*S},_degToRad(c){return h.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),h.Util.degToRad(c)},_radToDeg(c){return h.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),h.Util.radToDeg(c)},_getRotation(c){return _.Konva.angleDeg?h.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(g+c)},error(c){console.error(g+c)},warn(c){_.Konva.showWarnings&&console.warn(w+c)},each(c,P){for(const A in c)P(A,c[A])},_inRange(c,P,A){return P<=c&&c<A},_getProjectionToSegment(c,P,A,V,X,z){let U,G,q;const J=(c-A)*(c-A)+(P-V)*(P-V);if(J==0)U=c,G=P,q=(X-A)*(X-A)+(z-V)*(z-V);else{const ee=((X-c)*(A-c)+(z-P)*(V-P))/J;ee<0?(U=c,G=P,q=(c-X)*(c-X)+(P-z)*(P-z)):ee>1?(U=A,G=V,q=(A-X)*(A-X)+(V-z)*(V-z)):(U=c+ee*(A-c),G=P+ee*(V-P),q=(U-X)*(U-X)+(G-z)*(G-z))}return[U,G,q]},_getProjectionToLine(c,P,A){const V=h.Util.cloneObject(c);let X=Number.MAX_VALUE;return P.forEach(function(z,U){if(!A&&U===P.length-1)return;const G=P[(U+1)%P.length],q=h.Util._getProjectionToSegment(z.x,z.y,G.x,G.y,c.x,c.y),J=q[0],ee=q[1],re=q[2];re<X&&(V.x=J,V.y=ee,X=re)}),V},_prepareArrayForTween(c,P,A){const V=[],X=[];if(c.length>P.length){const U=P;P=c,c=U}for(let U=0;U<c.length;U+=2)V.push({x:c[U],y:c[U+1]});for(let U=0;U<P.length;U+=2)X.push({x:P[U],y:P[U+1]});const z=[];return X.forEach(function(U){const G=h.Util._getProjectionToLine(U,V,A);z.push(G.x),z.push(G.y)}),z},_prepareToStringify(c){let P;c.visitedByCircularReferenceRemoval=!0;for(const A in c)if(c.hasOwnProperty(A)&&c[A]&&typeof c[A]=="object"){if(P=Object.getOwnPropertyDescriptor(c,A),c[A].visitedByCircularReferenceRemoval||h.Util._isElement(c[A]))if(P.configurable)delete c[A];else return null;else if(h.Util._prepareToStringify(c[A])===null)if(P.configurable)delete c[A];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,P){for(const A in P)c[A]=P[A];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){_.Konva.releaseCanvasOnDestroy&&c.forEach(P=>{P.width=0,P.height=0})},drawRoundedRectPath(c,P,A,V){let X=0,z=0,U=0,G=0;typeof V=="number"?X=z=U=G=Math.min(V,P/2,A/2):(X=Math.min(V[0]||0,P/2,A/2),z=Math.min(V[1]||0,P/2,A/2),G=Math.min(V[2]||0,P/2,A/2),U=Math.min(V[3]||0,P/2,A/2)),c.moveTo(X,0),c.lineTo(P-z,0),c.arc(P-z,z,z,Math.PI*3/2,0,!1),c.lineTo(P,A-G),c.arc(P-G,A-G,G,0,Math.PI/2,!1),c.lineTo(U,A),c.arc(U,A-U,U,Math.PI/2,Math.PI,!1),c.lineTo(0,X),c.arc(X,X,X,Math.PI,Math.PI*3/2,!1)}}})(zd)),zd}var Ua={},$i={},es={},qf;function l0(){if(qf)return es;qf=1,Object.defineProperty(es,"__esModule",{value:!0}),es.HitContext=es.SceneContext=es.Context=void 0;const h=Gt(),_=qe();function R(I){const f=[],c=I.length,P=h.Util;for(let A=0;A<c;A++){let V=I[A];P._isNumber(V)?V=Math.round(V*1e3)/1e3:P._isString(V)||(V=V+""),f.push(V)}return f}const B=",",D="(",k=")",p="([",y="])",S=";",x="()",C="=",F=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],w=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],g=100;let v=class{constructor(f){this.canvas=f,_.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(f){f.fillEnabled()&&this._fill(f)}_fill(f){}strokeShape(f){f.hasStroke()&&this._stroke(f)}_stroke(f){}fillStrokeShape(f){f.attrs.fillAfterStrokeEnabled?(this.strokeShape(f),this.fillShape(f)):(this.fillShape(f),this.strokeShape(f))}getTrace(f,c){let P=this.traceArr,A=P.length,V="",X,z,U,G;for(X=0;X<A;X++)z=P[X],U=z.method,U?(G=z.args,V+=U,f?V+=x:h.Util._isArray(G[0])?V+=p+G.join(B)+y:(c&&(G=G.map(q=>typeof q=="number"?Math.floor(q):q)),V+=D+G.join(B)+k)):(V+=z.property,f||(V+=C+z.val)),V+=S;return V}clearTrace(){this.traceArr=[]}_trace(f){let c=this.traceArr,P;c.push(f),P=c.length,P>=g&&c.shift()}reset(){const f=this.getCanvas().getPixelRatio();this.setTransform(1*f,0,0,1*f,0,0)}getCanvas(){return this.canvas}clear(f){const c=this.getCanvas();f?this.clearRect(f.x||0,f.y||0,f.width||0,f.height||0):this.clearRect(0,0,c.getWidth()/c.pixelRatio,c.getHeight()/c.pixelRatio)}_applyLineCap(f){const c=f.attrs.lineCap;c&&this.setAttr("lineCap",c)}_applyOpacity(f){const c=f.getAbsoluteOpacity();c!==1&&this.setAttr("globalAlpha",c)}_applyLineJoin(f){const c=f.attrs.lineJoin;c&&this.setAttr("lineJoin",c)}setAttr(f,c){this._context[f]=c}arc(f,c,P,A,V,X){this._context.arc(f,c,P,A,V,X)}arcTo(f,c,P,A,V){this._context.arcTo(f,c,P,A,V)}beginPath(){this._context.beginPath()}bezierCurveTo(f,c,P,A,V,X){this._context.bezierCurveTo(f,c,P,A,V,X)}clearRect(f,c,P,A){this._context.clearRect(f,c,P,A)}clip(...f){this._context.clip.apply(this._context,f)}closePath(){this._context.closePath()}createImageData(f,c){const P=arguments;if(P.length===2)return this._context.createImageData(f,c);if(P.length===1)return this._context.createImageData(f)}createLinearGradient(f,c,P,A){return this._context.createLinearGradient(f,c,P,A)}createPattern(f,c){return this._context.createPattern(f,c)}createRadialGradient(f,c,P,A,V,X){return this._context.createRadialGradient(f,c,P,A,V,X)}drawImage(f,c,P,A,V,X,z,U,G){const q=arguments,J=this._context;q.length===3?J.drawImage(f,c,P):q.length===5?J.drawImage(f,c,P,A,V):q.length===9&&J.drawImage(f,c,P,A,V,X,z,U,G)}ellipse(f,c,P,A,V,X,z,U){this._context.ellipse(f,c,P,A,V,X,z,U)}isPointInPath(f,c,P,A){return P?this._context.isPointInPath(P,f,c,A):this._context.isPointInPath(f,c,A)}fill(...f){this._context.fill.apply(this._context,f)}fillRect(f,c,P,A){this._context.fillRect(f,c,P,A)}strokeRect(f,c,P,A){this._context.strokeRect(f,c,P,A)}fillText(f,c,P,A){A?this._context.fillText(f,c,P,A):this._context.fillText(f,c,P)}measureText(f){return this._context.measureText(f)}getImageData(f,c,P,A){return this._context.getImageData(f,c,P,A)}lineTo(f,c){this._context.lineTo(f,c)}moveTo(f,c){this._context.moveTo(f,c)}rect(f,c,P,A){this._context.rect(f,c,P,A)}roundRect(f,c,P,A,V){this._context.roundRect(f,c,P,A,V)}putImageData(f,c,P){this._context.putImageData(f,c,P)}quadraticCurveTo(f,c,P,A){this._context.quadraticCurveTo(f,c,P,A)}restore(){this._context.restore()}rotate(f){this._context.rotate(f)}save(){this._context.save()}scale(f,c){this._context.scale(f,c)}setLineDash(f){this._context.setLineDash?this._context.setLineDash(f):"mozDash"in this._context?this._context.mozDash=f:"webkitLineDash"in this._context&&(this._context.webkitLineDash=f)}getLineDash(){return this._context.getLineDash()}setTransform(f,c,P,A,V,X){this._context.setTransform(f,c,P,A,V,X)}stroke(f){f?this._context.stroke(f):this._context.stroke()}strokeText(f,c,P,A){this._context.strokeText(f,c,P,A)}transform(f,c,P,A,V,X){this._context.transform(f,c,P,A,V,X)}translate(f,c){this._context.translate(f,c)}_enableTrace(){let f=this,c=F.length,P=this.setAttr,A,V;const X=function(z){let U=f[z],G;f[z]=function(){return V=R(Array.prototype.slice.call(arguments,0)),G=U.apply(f,arguments),f._trace({method:z,args:V}),G}};for(A=0;A<c;A++)X(F[A]);f.setAttr=function(){P.apply(f,arguments);const z=arguments[0];let U=arguments[1];(z==="shadowOffsetX"||z==="shadowOffsetY"||z==="shadowBlur")&&(U=U/this.canvas.getPixelRatio()),f._trace({property:z,val:U})}}_applyGlobalCompositeOperation(f){const c=f.attrs.globalCompositeOperation;!c||c==="source-over"||this.setAttr("globalCompositeOperation",c)}};es.Context=v,w.forEach(function(I){Object.defineProperty(v.prototype,I,{get(){return this._context[I]},set(f){this._context[I]=f}})});class E extends v{constructor(f,{willReadFrequently:c=!1}={}){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:c})}_fillColor(f){const c=f.fill();this.setAttr("fillStyle",c),f._fillFunc(this)}_fillPattern(f){this.setAttr("fillStyle",f._getFillPattern()),f._fillFunc(this)}_fillLinearGradient(f){const c=f._getLinearGradient();c&&(this.setAttr("fillStyle",c),f._fillFunc(this))}_fillRadialGradient(f){const c=f._getRadialGradient();c&&(this.setAttr("fillStyle",c),f._fillFunc(this))}_fill(f){const c=f.fill(),P=f.getFillPriority();if(c&&P==="color"){this._fillColor(f);return}const A=f.getFillPatternImage();if(A&&P==="pattern"){this._fillPattern(f);return}const V=f.getFillLinearGradientColorStops();if(V&&P==="linear-gradient"){this._fillLinearGradient(f);return}const X=f.getFillRadialGradientColorStops();if(X&&P==="radial-gradient"){this._fillRadialGradient(f);return}c?this._fillColor(f):A?this._fillPattern(f):V?this._fillLinearGradient(f):X&&this._fillRadialGradient(f)}_strokeLinearGradient(f){const c=f.getStrokeLinearGradientStartPoint(),P=f.getStrokeLinearGradientEndPoint(),A=f.getStrokeLinearGradientColorStops(),V=this.createLinearGradient(c.x,c.y,P.x,P.y);if(A){for(let X=0;X<A.length;X+=2)V.addColorStop(A[X],A[X+1]);this.setAttr("strokeStyle",V)}}_stroke(f){const c=f.dash(),P=f.getStrokeScaleEnabled();if(f.hasStroke()){if(!P){this.save();const V=this.getCanvas().getPixelRatio();this.setTransform(V,0,0,V,0,0)}this._applyLineCap(f),c&&f.dashEnabled()&&(this.setLineDash(c),this.setAttr("lineDashOffset",f.dashOffset())),this.setAttr("lineWidth",f.strokeWidth()),f.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),f.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(f):this.setAttr("strokeStyle",f.stroke()),f._strokeFunc(this),P||this.restore()}}_applyShadow(f){var c,P,A;const V=(c=f.getShadowRGBA())!==null&&c!==void 0?c:"black",X=(P=f.getShadowBlur())!==null&&P!==void 0?P:5,z=(A=f.getShadowOffset())!==null&&A!==void 0?A:{x:0,y:0},U=f.getAbsoluteScale(),G=this.canvas.getPixelRatio(),q=U.x*G,J=U.y*G;this.setAttr("shadowColor",V),this.setAttr("shadowBlur",X*Math.min(Math.abs(q),Math.abs(J))),this.setAttr("shadowOffsetX",z.x*q),this.setAttr("shadowOffsetY",z.y*J)}}es.SceneContext=E;class T extends v{constructor(f){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:!0})}_fill(f){this.save(),this.setAttr("fillStyle",f.colorKey),f._fillFuncHit(this),this.restore()}strokeShape(f){f.hasHitStroke()&&this._stroke(f)}_stroke(f){if(f.hasHitStroke()){const c=f.getStrokeScaleEnabled();if(!c){this.save();const V=this.getCanvas().getPixelRatio();this.setTransform(V,0,0,V,0,0)}this._applyLineCap(f);const P=f.hitStrokeWidth(),A=P==="auto"?f.strokeWidth():P;this.setAttr("lineWidth",A),this.setAttr("strokeStyle",f.colorKey),f._strokeFuncHit(this),c||this.restore()}}}return es.HitContext=T,es}var Kf;function Vc(){if(Kf)return $i;Kf=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.HitCanvas=$i.SceneCanvas=$i.Canvas=void 0;const h=Gt(),_=l0(),R=qe();let B;function D(){if(B)return B;const S=h.Util.createCanvasElement(),x=S.getContext("2d");return B=(function(){const C=R.Konva._global.devicePixelRatio||1,F=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1;return C/F})(),h.Util.releaseCanvas(S),B}let k=class{constructor(x){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const F=(x||{}).pixelRatio||R.Konva.pixelRatio||D();this.pixelRatio=F,this._canvas=h.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(x){const C=this.pixelRatio;this.pixelRatio=x,this.setSize(this.getWidth()/C,this.getHeight()/C)}setWidth(x){this.width=this._canvas.width=x*this.pixelRatio,this._canvas.style.width=x+"px";const C=this.pixelRatio;this.getContext()._context.scale(C,C)}setHeight(x){this.height=this._canvas.height=x*this.pixelRatio,this._canvas.style.height=x+"px";const C=this.pixelRatio;this.getContext()._context.scale(C,C)}getWidth(){return this.width}getHeight(){return this.height}setSize(x,C){this.setWidth(x||0),this.setHeight(C||0)}toDataURL(x,C){try{return this._canvas.toDataURL(x,C)}catch{try{return this._canvas.toDataURL()}catch(w){return h.Util.error("Unable to get data URL. "+w.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};$i.Canvas=k;class p extends k{constructor(x={width:0,height:0,willReadFrequently:!1}){super(x),this.context=new _.SceneContext(this,{willReadFrequently:x.willReadFrequently}),this.setSize(x.width,x.height)}}$i.SceneCanvas=p;class y extends k{constructor(x={width:0,height:0}){super(x),this.hitCanvas=!0,this.context=new _.HitContext(this),this.setSize(x.width,x.height)}}return $i.HitCanvas=y,$i}var Gd={},Yf;function Zd(){return Yf||(Yf=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.DD=void 0;const _=qe(),R=Gt();h.DD={get isDragging(){let B=!1;return h.DD._dragElements.forEach(D=>{D.dragStatus==="dragging"&&(B=!0)}),B},justDragged:!1,get node(){let B;return h.DD._dragElements.forEach(D=>{B=D.node}),B},_dragElements:new Map,_drag(B){const D=[];h.DD._dragElements.forEach((k,p)=>{const{node:y}=k,S=y.getStage();S.setPointersPositions(B),k.pointerId===void 0&&(k.pointerId=R.Util._getFirstPointerId(B));const x=S._changedPointerPositions.find(C=>C.id===k.pointerId);if(x){if(k.dragStatus!=="dragging"){const C=y.dragDistance();if(Math.max(Math.abs(x.x-k.startPointerPos.x),Math.abs(x.y-k.startPointerPos.y))<C||(y.startDrag({evt:B}),!y.isDragging()))return}y._setDragPosition(B,k),D.push(y)}}),D.forEach(k=>{k.fire("dragmove",{type:"dragmove",target:k,evt:B},!0)})},_endDragBefore(B){const D=[];h.DD._dragElements.forEach(k=>{const{node:p}=k,y=p.getStage();if(B&&y.setPointersPositions(B),!y._changedPointerPositions.find(C=>C.id===k.pointerId))return;(k.dragStatus==="dragging"||k.dragStatus==="stopped")&&(h.DD.justDragged=!0,_.Konva._mouseListenClick=!1,_.Konva._touchListenClick=!1,_.Konva._pointerListenClick=!1,k.dragStatus="stopped");const x=k.node.getLayer()||k.node instanceof _.Konva.Stage&&k.node;x&&D.indexOf(x)===-1&&D.push(x)}),D.forEach(k=>{k.draw()})},_endDragAfter(B){h.DD._dragElements.forEach((D,k)=>{D.dragStatus==="stopped"&&D.node.fire("dragend",{type:"dragend",target:D.node,evt:B},!0),D.dragStatus!=="dragging"&&h.DD._dragElements.delete(k)})}},_.Konva.isBrowser&&(window.addEventListener("mouseup",h.DD._endDragBefore,!0),window.addEventListener("touchend",h.DD._endDragBefore,!0),window.addEventListener("touchcancel",h.DD._endDragBefore,!0),window.addEventListener("mousemove",h.DD._drag),window.addEventListener("touchmove",h.DD._drag),window.addEventListener("mouseup",h.DD._endDragAfter,!1),window.addEventListener("touchend",h.DD._endDragAfter,!1),window.addEventListener("touchcancel",h.DD._endDragAfter,!1))})(Gd)),Gd}var Ud={},cr={},Xf;function $e(){if(Xf)return cr;Xf=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.RGBComponent=B,cr.alphaComponent=D,cr.getNumberValidator=k,cr.getNumberOrArrayOfNumbersValidator=p,cr.getNumberOrAutoValidator=y,cr.getStringValidator=S,cr.getStringOrGradientValidator=x,cr.getFunctionValidator=C,cr.getNumberArrayValidator=F,cr.getBooleanValidator=w,cr.getComponentValidator=g;const h=qe(),_=Gt();function R(v){return _.Util._isString(v)?'"'+v+'"':Object.prototype.toString.call(v)==="[object Number]"||_.Util._isBoolean(v)?v:Object.prototype.toString.call(v)}function B(v){return v>255?255:v<0?0:Math.round(v)}function D(v){return v>1?1:v<1e-4?1e-4:v}function k(){if(h.Konva.isUnminified)return function(v,E){return _.Util._isNumber(v)||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a number.'),v}}function p(v){if(h.Konva.isUnminified)return function(E,T){let I=_.Util._isNumber(E),f=_.Util._isArray(E)&&E.length==v;return!I&&!f&&_.Util.warn(R(E)+' is a not valid value for "'+T+'" attribute. The value should be a number or Array<number>('+v+")"),E}}function y(){if(h.Konva.isUnminified)return function(v,E){return _.Util._isNumber(v)||v==="auto"||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a number or "auto".'),v}}function S(){if(h.Konva.isUnminified)return function(v,E){return _.Util._isString(v)||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a string.'),v}}function x(){if(h.Konva.isUnminified)return function(v,E){const T=_.Util._isString(v),I=Object.prototype.toString.call(v)==="[object CanvasGradient]"||v&&v.addColorStop;return T||I||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a string or a native gradient.'),v}}function C(){if(h.Konva.isUnminified)return function(v,E){return _.Util._isFunction(v)||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a function.'),v}}function F(){if(h.Konva.isUnminified)return function(v,E){const T=Int8Array?Object.getPrototypeOf(Int8Array):null;return T&&v instanceof T||(_.Util._isArray(v)?v.forEach(function(I){_.Util._isNumber(I)||_.Util.warn('"'+E+'" attribute has non numeric element '+I+". Make sure that all elements are numbers.")}):_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a array of numbers.')),v}}function w(){if(h.Konva.isUnminified)return function(v,E){return v===!0||v===!1||_.Util.warn(R(v)+' is a not valid value for "'+E+'" attribute. The value should be a boolean.'),v}}function g(v){if(h.Konva.isUnminified)return function(E,T){return E==null||_.Util.isObject(E)||_.Util.warn(R(E)+' is a not valid value for "'+T+'" attribute. The value should be an object with properties '+v),E}}return cr}var Qf;function Je(){return Qf||(Qf=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Factory=void 0;const _=Gt(),R=$e(),B="get",D="set";h.Factory={addGetterSetter(k,p,y,S,x){h.Factory.addGetter(k,p,y),h.Factory.addSetter(k,p,S,x),h.Factory.addOverloadedGetterSetter(k,p)},addGetter(k,p,y){const S=B+_.Util._capitalize(p);k.prototype[S]=k.prototype[S]||function(){const x=this.attrs[p];return x===void 0?y:x}},addSetter(k,p,y,S){const x=D+_.Util._capitalize(p);k.prototype[x]||h.Factory.overWriteSetter(k,p,y,S)},overWriteSetter(k,p,y,S){const x=D+_.Util._capitalize(p);k.prototype[x]=function(C){return y&&C!==void 0&&C!==null&&(C=y.call(this,C,p)),this._setAttr(p,C),S&&S.call(this),this}},addComponentsGetterSetter(k,p,y,S,x){const C=y.length,F=_.Util._capitalize,w=B+F(p),g=D+F(p);k.prototype[w]=function(){const E={};for(let T=0;T<C;T++){const I=y[T];E[I]=this.getAttr(p+F(I))}return E};const v=(0,R.getComponentValidator)(y);k.prototype[g]=function(E){const T=this.attrs[p];S&&(E=S.call(this,E,p)),v&&v.call(this,E,p);for(const I in E)E.hasOwnProperty(I)&&this._setAttr(p+F(I),E[I]);return E||y.forEach(I=>{this._setAttr(p+F(I),void 0)}),this._fireChangeEvent(p,T,E),x&&x.call(this),this},h.Factory.addOverloadedGetterSetter(k,p)},addOverloadedGetterSetter(k,p){const y=_.Util._capitalize(p),S=D+y,x=B+y;k.prototype[p]=function(){return arguments.length?(this[S](arguments[0]),this):this[x]()}},addDeprecatedGetterSetter(k,p,y,S){_.Util.error("Adding deprecated "+p);const x=B+_.Util._capitalize(p),C=p+" property is deprecated and will be removed soon. Look at Konva change log for more information.";k.prototype[x]=function(){_.Util.error(C);const F=this.attrs[p];return F===void 0?y:F},h.Factory.addSetter(k,p,S,function(){_.Util.error(C)}),h.Factory.addOverloadedGetterSetter(k,p)},backCompat(k,p){_.Util.each(p,function(y,S){const x=k.prototype[S],C=B+_.Util._capitalize(y),F=D+_.Util._capitalize(y);function w(){x.apply(this,arguments),_.Util.error('"'+y+'" method is deprecated and will be removed soon. Use ""'+S+'" instead.')}k.prototype[y]=w,k.prototype[C]=w,k.prototype[F]=w})},afterSetFilter(){this._filterUpToDate=!1}}})(Ud)),Ud}var Jf;function qt(){if(Jf)return Ua;Jf=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Node=void 0;const h=Vc(),_=Zd(),R=Je(),B=qe(),D=Gt(),k=$e(),p="absoluteOpacity",y="allEventListeners",S="absoluteTransform",x="absoluteScale",C="canvas",F="Change",w="children",g="konva",v="listening",E="mouseenter",T="mouseleave",I="pointerenter",f="pointerleave",c="touchenter",P="touchleave",A="set",V="Shape",X=" ",z="stage",U="transform",G="Stage",q="visible",J=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(X);let ee=1,re=class Yd{constructor(N){this._id=ee++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(N),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(N){(N===U||N===S)&&this._cache.get(N)?this._cache.get(N).dirty=!0:N?this._cache.delete(N):this._cache.clear()}_getCache(N,L){let H=this._cache.get(N);return(H===void 0||(N===U||N===S)&&H.dirty===!0)&&(H=L.call(this),this._cache.set(N,H)),H}_calculate(N,L,H){if(!this._attachedDepsListeners.get(N)){const j=L.map(M=>M+"Change.konva").join(X);this.on(j,()=>{this._clearCache(N)}),this._attachedDepsListeners.set(N,!0)}return this._getCache(N,H)}_getCanvasCache(){return this._cache.get(C)}_clearSelfAndDescendantCache(N){this._clearCache(N),N===S&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(C)){const{scene:N,filter:L,hit:H,buffer:j}=this._cache.get(C);D.Util.releaseCanvas(N,L,H,j),this._cache.delete(C)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(N){const L=N||{};let H={};(L.x===void 0||L.y===void 0||L.width===void 0||L.height===void 0)&&(H=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let j=Math.ceil(L.width||H.width),M=Math.ceil(L.height||H.height),Y=L.pixelRatio,Z=L.x===void 0?Math.floor(H.x):L.x,de=L.y===void 0?Math.floor(H.y):L.y,me=L.offset||0,oe=L.drawBorder||!1,W=L.hitCanvasPixelRatio||1;if(!j||!M){D.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ie=Math.abs(Math.round(H.x)-Z)>.5?1:0,ve=Math.abs(Math.round(H.y)-de)>.5?1:0;j+=me*2+ie,M+=me*2+ve,Z-=me,de-=me;const xe=new h.SceneCanvas({pixelRatio:Y,width:j,height:M}),Ee=new h.SceneCanvas({pixelRatio:Y,width:0,height:0,willReadFrequently:!0}),ze=new h.HitCanvas({pixelRatio:W,width:j,height:M}),De=xe.getContext(),et=ze.getContext(),je=new h.SceneCanvas({width:xe.width/xe.pixelRatio+Math.abs(Z),height:xe.height/xe.pixelRatio+Math.abs(de),pixelRatio:xe.pixelRatio}),Lt=je.getContext();return ze.isCache=!0,xe.isCache=!0,this._cache.delete(C),this._filterUpToDate=!1,L.imageSmoothingEnabled===!1&&(xe.getContext()._context.imageSmoothingEnabled=!1,Ee.getContext()._context.imageSmoothingEnabled=!1),De.save(),et.save(),Lt.save(),De.translate(-Z,-de),et.translate(-Z,-de),Lt.translate(-Z,-de),je.x=Z,je.y=de,this._isUnderCache=!0,this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(x),this.drawScene(xe,this,je),this.drawHit(ze,this),this._isUnderCache=!1,De.restore(),et.restore(),oe&&(De.save(),De.beginPath(),De.rect(0,0,j,M),De.closePath(),De.setAttr("strokeStyle","red"),De.setAttr("lineWidth",5),De.stroke(),De.restore()),this._cache.set(C,{scene:xe,filter:Ee,hit:ze,buffer:je,x:Z,y:de}),this._requestDraw(),this}isCached(){return this._cache.has(C)}getClientRect(N){throw new Error('abstract "getClientRect" method call')}_transformedRect(N,L){const H=[{x:N.x,y:N.y},{x:N.x+N.width,y:N.y},{x:N.x+N.width,y:N.y+N.height},{x:N.x,y:N.y+N.height}];let j=1/0,M=1/0,Y=-1/0,Z=-1/0;const de=this.getAbsoluteTransform(L);return H.forEach(function(me){const oe=de.point(me);j===void 0&&(j=Y=oe.x,M=Z=oe.y),j=Math.min(j,oe.x),M=Math.min(M,oe.y),Y=Math.max(Y,oe.x),Z=Math.max(Z,oe.y)}),{x:j,y:M,width:Y-j,height:Z-M}}_drawCachedSceneCanvas(N){N.save(),N._applyOpacity(this),N._applyGlobalCompositeOperation(this);const L=this._getCanvasCache();N.translate(L.x,L.y);const H=this._getCachedSceneCanvas(),j=H.pixelRatio;N.drawImage(H._canvas,0,0,H.width/j,H.height/j),N.restore()}_drawCachedHitCanvas(N){const L=this._getCanvasCache(),H=L.hit;N.save(),N.translate(L.x,L.y),N.drawImage(H._canvas,0,0,H.width/H.pixelRatio,H.height/H.pixelRatio),N.restore()}_getCachedSceneCanvas(){let N=this.filters(),L=this._getCanvasCache(),H=L.scene,j=L.filter,M=j.getContext(),Y,Z,de,me;if(N){if(!this._filterUpToDate){const oe=H.pixelRatio;j.setSize(H.width/H.pixelRatio,H.height/H.pixelRatio);try{for(Y=N.length,M.clear(),M.drawImage(H._canvas,0,0,H.getWidth()/oe,H.getHeight()/oe),Z=M.getImageData(0,0,j.getWidth(),j.getHeight()),de=0;de<Y;de++){if(me=N[de],typeof me!="function"){D.Util.error("Filter should be type of function, but got "+typeof me+" instead. Please check correct filters");continue}me.call(this,Z),M.putImageData(Z,0,0)}}catch(W){D.Util.error("Unable to apply filter. "+W.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return j}return H}on(N,L){if(this._cache&&this._cache.delete(y),arguments.length===3)return this._delegate.apply(this,arguments);const H=N.split(X);for(let j=0;j<H.length;j++){const Y=H[j].split("."),Z=Y[0],de=Y[1]||"";this.eventListeners[Z]||(this.eventListeners[Z]=[]),this.eventListeners[Z].push({name:de,handler:L})}return this}off(N,L){let H=(N||"").split(X),j=H.length,M,Y,Z,de,me,oe;if(this._cache&&this._cache.delete(y),!N)for(Y in this.eventListeners)this._off(Y);for(M=0;M<j;M++)if(Z=H[M],de=Z.split("."),me=de[0],oe=de[1],me)this.eventListeners[me]&&this._off(me,oe,L);else for(Y in this.eventListeners)this._off(Y,oe,L);return this}dispatchEvent(N){const L={target:this,type:N.type,evt:N};return this.fire(N.type,L),this}addEventListener(N,L){return this.on(N,function(H){L.call(this,H.evt)}),this}removeEventListener(N){return this.off(N),this}_delegate(N,L,H){const j=this;this.on(N,function(M){const Y=M.target.findAncestors(L,!0,j);for(let Z=0;Z<Y.length;Z++)M=D.Util.cloneObject(M),M.currentTarget=Y[Z],H.call(Y[Z],M)})}remove(){return this.isDragging()&&this.stopDrag(),_.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(z),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(v)}_remove(){this._clearCaches();const N=this.getParent();N&&N.children&&(N.children.splice(this.index,1),N._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(N){const L="get"+D.Util._capitalize(N);return D.Util._isFunction(this[L])?this[L]():this.attrs[N]}getAncestors(){let N=this.getParent(),L=[];for(;N;)L.push(N),N=N.getParent();return L}getAttrs(){return this.attrs||{}}setAttrs(N){return this._batchTransformChanges(()=>{let L,H;if(!N)return this;for(L in N)L!==w&&(H=A+D.Util._capitalize(L),D.Util._isFunction(this[H])?this[H](N[L]):this._setAttr(L,N[L]))}),this}isListening(){return this._getCache(v,this._isListening)}_isListening(N){if(!this.listening())return!1;const H=this.getParent();return H&&H!==N&&this!==N?H._isListening(N):!0}isVisible(){return this._getCache(q,this._isVisible)}_isVisible(N){if(!this.visible())return!1;const H=this.getParent();return H&&H!==N&&this!==N?H._isVisible(N):!0}shouldDrawHit(N,L=!1){if(N)return this._isVisible(N)&&this._isListening(N);const H=this.getLayer();let j=!1;_.DD._dragElements.forEach(Y=>{Y.dragStatus==="dragging"&&(Y.node.nodeType==="Stage"||Y.node.getLayer()===H)&&(j=!0)});const M=!L&&!B.Konva.hitOnDragEnabled&&(j||B.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!M}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let N=this.getDepth(),L=this,H=0,j,M,Y,Z;function de(oe){for(j=[],M=oe.length,Y=0;Y<M;Y++)Z=oe[Y],H++,Z.nodeType!==V&&(j=j.concat(Z.getChildren().slice())),Z._id===L._id&&(Y=M);j.length>0&&j[0].getDepth()<=N&&de(j)}const me=this.getStage();return L.nodeType!==G&&me&&de(me.getChildren()),H}getDepth(){let N=0,L=this.parent;for(;L;)N++,L=L.parent;return N}_batchTransformChanges(N){this._batchingTransformChange=!0,N(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(U),this._clearSelfAndDescendantCache(S)),this._needClearTransformCache=!1}setPosition(N){return this._batchTransformChanges(()=>{this.x(N.x),this.y(N.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const N=this.getStage();if(!N)return null;const L=N.getPointerPosition();if(!L)return null;const H=this.getAbsoluteTransform().copy();return H.invert(),H.point(L)}getAbsolutePosition(N){let L=!1,H=this.parent;for(;H;){if(H.isCached()){L=!0;break}H=H.parent}L&&!N&&(N=!0);const j=this.getAbsoluteTransform(N).getMatrix(),M=new D.Transform,Y=this.offset();return M.m=j.slice(),M.translate(Y.x,Y.y),M.getTranslation()}setAbsolutePosition(N){const{x:L,y:H,...j}=this._clearTransform();this.attrs.x=L,this.attrs.y=H,this._clearCache(U);const M=this._getAbsoluteTransform().copy();return M.invert(),M.translate(N.x,N.y),N={x:this.attrs.x+M.getTranslation().x,y:this.attrs.y+M.getTranslation().y},this._setTransform(j),this.setPosition({x:N.x,y:N.y}),this._clearCache(U),this._clearSelfAndDescendantCache(S),this}_setTransform(N){let L;for(L in N)this.attrs[L]=N[L]}_clearTransform(){const N={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,N}move(N){let L=N.x,H=N.y,j=this.x(),M=this.y();return L!==void 0&&(j+=L),H!==void 0&&(M+=H),this.setPosition({x:j,y:M}),this}_eachAncestorReverse(N,L){let H=[],j=this.getParent(),M,Y;if(!(L&&L._id===this._id)){for(H.unshift(this);j&&(!L||j._id!==L._id);)H.unshift(j),j=j.parent;for(M=H.length,Y=0;Y<M;Y++)N(H[Y])}}rotate(N){return this.rotation(this.rotation()+N),this}moveToTop(){if(!this.parent)return D.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const N=this.index,L=this.parent.getChildren().length;return N<L-1?(this.parent.children.splice(N,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return D.Util.warn("Node has no parent. moveUp function is ignored."),!1;const N=this.index,L=this.parent.getChildren().length;return N<L-1?(this.parent.children.splice(N,1),this.parent.children.splice(N+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return D.Util.warn("Node has no parent. moveDown function is ignored."),!1;const N=this.index;return N>0?(this.parent.children.splice(N,1),this.parent.children.splice(N-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return D.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const N=this.index;return N>0?(this.parent.children.splice(N,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(N){if(!this.parent)return D.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(N<0||N>=this.parent.children.length)&&D.Util.warn("Unexpected value "+N+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const L=this.index;return this.parent.children.splice(L,1),this.parent.children.splice(N,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(p,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let N=this.opacity();const L=this.getParent();return L&&!L._isUnderCache&&(N*=L.getAbsoluteOpacity()),N}moveTo(N){return this.getParent()!==N&&(this._remove(),N.add(this)),this}toObject(){let N=this.getAttrs(),L,H,j,M,Y;const Z={attrs:{},className:this.getClassName()};for(L in N)H=N[L],Y=D.Util.isObject(H)&&!D.Util._isPlainObject(H)&&!D.Util._isArray(H),!Y&&(j=typeof this[L]=="function"&&this[L],delete N[L],M=j?j.call(this):null,N[L]=H,M!==H&&(Z.attrs[L]=H));return D.Util._prepareToStringify(Z)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(N,L,H){const j=[];L&&this._isMatch(N)&&j.push(this);let M=this.parent;for(;M;){if(M===H)return j;M._isMatch(N)&&j.push(M),M=M.parent}return j}isAncestorOf(N){return!1}findAncestor(N,L,H){return this.findAncestors(N,L,H)[0]}_isMatch(N){if(!N)return!1;if(typeof N=="function")return N(this);let L=N.replace(/ /g,"").split(","),H=L.length,j,M;for(j=0;j<H;j++)if(M=L[j],D.Util.isValidSelector(M)||(D.Util.warn('Selector "'+M+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),D.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),D.Util.warn("Konva is awesome, right?")),M.charAt(0)==="#"){if(this.id()===M.slice(1))return!0}else if(M.charAt(0)==="."){if(this.hasName(M.slice(1)))return!0}else if(this.className===M||this.nodeType===M)return!0;return!1}getLayer(){const N=this.getParent();return N?N.getLayer():null}getStage(){return this._getCache(z,this._getStage)}_getStage(){const N=this.getParent();return N?N.getStage():null}fire(N,L={},H){return L.target=L.target||this,H?this._fireAndBubble(N,L):this._fire(N,L),this}getAbsoluteTransform(N){return N?this._getAbsoluteTransform(N):this._getCache(S,this._getAbsoluteTransform)}_getAbsoluteTransform(N){let L;if(N)return L=new D.Transform,this._eachAncestorReverse(function(H){const j=H.transformsEnabled();j==="all"?L.multiply(H.getTransform()):j==="position"&&L.translate(H.x()-H.offsetX(),H.y()-H.offsetY())},N),L;{L=this._cache.get(S)||new D.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(L):L.reset();const H=this.transformsEnabled();if(H==="all")L.multiply(this.getTransform());else if(H==="position"){const j=this.attrs.x||0,M=this.attrs.y||0,Y=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;L.translate(j-Y,M-Z)}return L.dirty=!1,L}}getAbsoluteScale(N){let L=this;for(;L;)L._isUnderCache&&(N=L),L=L.getParent();const j=this.getAbsoluteTransform(N).decompose();return{x:j.scaleX,y:j.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(U,this._getTransform)}_getTransform(){var N,L;const H=this._cache.get(U)||new D.Transform;H.reset();const j=this.x(),M=this.y(),Y=B.Konva.getAngle(this.rotation()),Z=(N=this.attrs.scaleX)!==null&&N!==void 0?N:1,de=(L=this.attrs.scaleY)!==null&&L!==void 0?L:1,me=this.attrs.skewX||0,oe=this.attrs.skewY||0,W=this.attrs.offsetX||0,ie=this.attrs.offsetY||0;return(j!==0||M!==0)&&H.translate(j,M),Y!==0&&H.rotate(Y),(me!==0||oe!==0)&&H.skew(me,oe),(Z!==1||de!==1)&&H.scale(Z,de),(W!==0||ie!==0)&&H.translate(-1*W,-1*ie),H.dirty=!1,H}clone(N){let L=D.Util.cloneObject(this.attrs),H,j,M,Y,Z;for(H in N)L[H]=N[H];const de=new this.constructor(L);for(H in this.eventListeners)for(j=this.eventListeners[H],M=j.length,Y=0;Y<M;Y++)Z=j[Y],Z.name.indexOf(g)<0&&(de.eventListeners[H]||(de.eventListeners[H]=[]),de.eventListeners[H].push(Z));return de}_toKonvaCanvas(N){N=N||{};const L=this.getClientRect(),H=this.getStage(),j=N.x!==void 0?N.x:Math.floor(L.x),M=N.y!==void 0?N.y:Math.floor(L.y),Y=N.pixelRatio||1,Z=new h.SceneCanvas({width:N.width||Math.ceil(L.width)||(H?H.width():0),height:N.height||Math.ceil(L.height)||(H?H.height():0),pixelRatio:Y}),de=Z.getContext(),me=new h.SceneCanvas({width:Z.width/Z.pixelRatio+Math.abs(j),height:Z.height/Z.pixelRatio+Math.abs(M),pixelRatio:Z.pixelRatio});return N.imageSmoothingEnabled===!1&&(de._context.imageSmoothingEnabled=!1),de.save(),(j||M)&&de.translate(-1*j,-1*M),this.drawScene(Z,void 0,me),de.restore(),Z}toCanvas(N){return this._toKonvaCanvas(N)._canvas}toDataURL(N){N=N||{};const L=N.mimeType||null,H=N.quality||null,j=this._toKonvaCanvas(N).toDataURL(L,H);return N.callback&&N.callback(j),j}toImage(N){return new Promise((L,H)=>{try{const j=N?.callback;j&&delete N.callback,D.Util._urlToImage(this.toDataURL(N),function(M){L(M),j?.(M)})}catch(j){H(j)}})}toBlob(N){return new Promise((L,H)=>{try{const j=N?.callback;j&&delete N.callback,this.toCanvas(N).toBlob(M=>{L(M),j?.(M)},N?.mimeType,N?.quality)}catch(j){H(j)}})}setSize(N){return this.width(N.width),this.height(N.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():B.Konva.dragDistance}_off(N,L,H){let j=this.eventListeners[N],M,Y,Z;for(M=0;M<j.length;M++)if(Y=j[M].name,Z=j[M].handler,(Y!=="konva"||L==="konva")&&(!L||Y===L)&&(!H||H===Z)){if(j.splice(M,1),j.length===0){delete this.eventListeners[N];break}M--}}_fireChangeEvent(N,L,H){this._fire(N+F,{oldVal:L,newVal:H})}addName(N){if(!this.hasName(N)){const L=this.name(),H=L?L+" "+N:N;this.name(H)}return this}hasName(N){if(!N)return!1;const L=this.name();return L?(L||"").split(/\s/g).indexOf(N)!==-1:!1}removeName(N){const L=(this.name()||"").split(/\s/g),H=L.indexOf(N);return H!==-1&&(L.splice(H,1),this.name(L.join(" "))),this}setAttr(N,L){const H=this[A+D.Util._capitalize(N)];return D.Util._isFunction(H)?H.call(this,L):this._setAttr(N,L),this}_requestDraw(){if(B.Konva.autoDrawEnabled){const N=this.getLayer()||this.getStage();N?.batchDraw()}}_setAttr(N,L){const H=this.attrs[N];H===L&&!D.Util.isObject(L)||(L==null?delete this.attrs[N]:this.attrs[N]=L,this._shouldFireChangeEvents&&this._fireChangeEvent(N,H,L),this._requestDraw())}_setComponentAttr(N,L,H){let j;H!==void 0&&(j=this.attrs[N],j||(this.attrs[N]=this.getAttr(N)),this.attrs[N][L]=H,this._fireChangeEvent(N,j,H))}_fireAndBubble(N,L,H){L&&this.nodeType===V&&(L.target=this);const j=[E,T,I,f,c,P];if(!(j.indexOf(N)!==-1&&(H&&(this===H||this.isAncestorOf&&this.isAncestorOf(H))||this.nodeType==="Stage"&&!H))){this._fire(N,L);const Y=j.indexOf(N)!==-1&&H&&H.isAncestorOf&&H.isAncestorOf(this)&&!H.isAncestorOf(this.parent);(L&&!L.cancelBubble||!L)&&this.parent&&this.parent.isListening()&&!Y&&(H&&H.parent?this._fireAndBubble.call(this.parent,N,L,H):this._fireAndBubble.call(this.parent,N,L))}}_getProtoListeners(N){var L,H,j;const M=(L=this._cache.get(y))!==null&&L!==void 0?L:{};let Y=M?.[N];if(Y===void 0){Y=[];let Z=Object.getPrototypeOf(this);for(;Z;){const de=(j=(H=Z.eventListeners)===null||H===void 0?void 0:H[N])!==null&&j!==void 0?j:[];Y.push(...de),Z=Object.getPrototypeOf(Z)}M[N]=Y,this._cache.set(y,M)}return Y}_fire(N,L){L=L||{},L.currentTarget=this,L.type=N;const H=this._getProtoListeners(N);if(H)for(let M=0;M<H.length;M++)H[M].handler.call(this,L);const j=this.eventListeners[N];if(j)for(let M=0;M<j.length;M++)j[M].handler.call(this,L)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(N){const L=N?N.pointerId:void 0,H=this.getStage(),j=this.getAbsolutePosition();if(!H)return;const M=H._getPointerById(L)||H._changedPointerPositions[0]||j;_.DD._dragElements.set(this._id,{node:this,startPointerPos:M,offset:{x:M.x-j.x,y:M.y-j.y},dragStatus:"ready",pointerId:L})}startDrag(N,L=!0){_.DD._dragElements.has(this._id)||this._createDragElement(N);const H=_.DD._dragElements.get(this._id);H.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:N&&N.evt},L)}_setDragPosition(N,L){const H=this.getStage()._getPointerById(L.pointerId);if(!H)return;let j={x:H.x-L.offset.x,y:H.y-L.offset.y};const M=this.dragBoundFunc();if(M!==void 0){const Y=M.call(this,j,N);Y?j=Y:D.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==j.x||this._lastPos.y!==j.y)&&(this.setAbsolutePosition(j),this._requestDraw()),this._lastPos=j}stopDrag(N){const L=_.DD._dragElements.get(this._id);L&&(L.dragStatus="stopped"),_.DD._endDragBefore(N),_.DD._endDragAfter(N)}setDraggable(N){this._setAttr("draggable",N),this._dragChange()}isDragging(){const N=_.DD._dragElements.get(this._id);return N?N.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(N){if(!(!(N.evt.button!==void 0)||B.Konva.dragButtons.indexOf(N.evt.button)>=0)||this.isDragging())return;let j=!1;_.DD._dragElements.forEach(M=>{this.isAncestorOf(M.node)&&(j=!0)}),j||this._createDragElement(N)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const L=_.DD._dragElements.get(this._id),H=L&&L.dragStatus==="dragging",j=L&&L.dragStatus==="ready";H?this.stopDrag():j&&_.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(N={x:0,y:0}){const L=this.getStage();if(!L)return!1;const H={x:-N.x,y:-N.y,width:L.width()+2*N.x,height:L.height()+2*N.y};return D.Util.haveIntersection(H,this.getClientRect())}static create(N,L){return D.Util._isString(N)&&(N=JSON.parse(N)),this._createNode(N,L)}static _createNode(N,L){let H=Yd.prototype.getClassName.call(N),j=N.children,M,Y,Z;L&&(N.attrs.container=L),B.Konva[H]||(D.Util.warn('Can not find a node with class name "'+H+'". Fallback to "Shape".'),H="Shape");const de=B.Konva[H];if(M=new de(N.attrs),j)for(Y=j.length,Z=0;Z<Y;Z++)M.add(Yd._createNode(j[Z]));return M}};Ua.Node=re,re.prototype.nodeType="Node",re.prototype._attrsAffectingSize=[],re.prototype.eventListeners={},re.prototype.on.call(re.prototype,J,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(U),this._clearSelfAndDescendantCache(S)}),re.prototype.on.call(re.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(q)}),re.prototype.on.call(re.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(v)}),re.prototype.on.call(re.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(p)});const Q=R.Factory.addGetterSetter;return Q(re,"zIndex"),Q(re,"absolutePosition"),Q(re,"position"),Q(re,"x",0,(0,k.getNumberValidator)()),Q(re,"y",0,(0,k.getNumberValidator)()),Q(re,"globalCompositeOperation","source-over",(0,k.getStringValidator)()),Q(re,"opacity",1,(0,k.getNumberValidator)()),Q(re,"name","",(0,k.getStringValidator)()),Q(re,"id","",(0,k.getStringValidator)()),Q(re,"rotation",0,(0,k.getNumberValidator)()),R.Factory.addComponentsGetterSetter(re,"scale",["x","y"]),Q(re,"scaleX",1,(0,k.getNumberValidator)()),Q(re,"scaleY",1,(0,k.getNumberValidator)()),R.Factory.addComponentsGetterSetter(re,"skew",["x","y"]),Q(re,"skewX",0,(0,k.getNumberValidator)()),Q(re,"skewY",0,(0,k.getNumberValidator)()),R.Factory.addComponentsGetterSetter(re,"offset",["x","y"]),Q(re,"offsetX",0,(0,k.getNumberValidator)()),Q(re,"offsetY",0,(0,k.getNumberValidator)()),Q(re,"dragDistance",void 0,(0,k.getNumberValidator)()),Q(re,"width",0,(0,k.getNumberValidator)()),Q(re,"height",0,(0,k.getNumberValidator)()),Q(re,"listening",!0,(0,k.getBooleanValidator)()),Q(re,"preventDefault",!0,(0,k.getBooleanValidator)()),Q(re,"filters",void 0,function(ge){return this._filterUpToDate=!1,ge}),Q(re,"visible",!0,(0,k.getBooleanValidator)()),Q(re,"transformsEnabled","all",(0,k.getStringValidator)()),Q(re,"size"),Q(re,"dragBoundFunc"),Q(re,"draggable",!1,(0,k.getBooleanValidator)()),R.Factory.backCompat(re,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ua}var ja={},Zf;function Hc(){if(Zf)return ja;Zf=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.Container=void 0;const h=Je(),_=qt(),R=$e();let B=class extends _.Node{constructor(){super(...arguments),this.children=[]}getChildren(k){const p=this.children||[];return k?p.filter(k):p}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(k=>{k.parent=null,k.index=0,k.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(k=>{k.parent=null,k.index=0,k.destroy()}),this.children=[],this._requestDraw(),this}add(...k){if(k.length===0)return this;if(k.length>1){for(let y=0;y<k.length;y++)this.add(k[y]);return this}const p=k[0];return p.getParent()?(p.moveTo(this),this):(this._validateAdd(p),p.index=this.getChildren().length,p.parent=this,p._clearCaches(),this.getChildren().push(p),this._fire("add",{child:p}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(k){return this._generalFind(k,!1)}findOne(k){const p=this._generalFind(k,!0);return p.length>0?p[0]:void 0}_generalFind(k,p){const y=[];return this._descendants(S=>{const x=S._isMatch(k);return x&&y.push(S),!!(x&&p)}),y}_descendants(k){let p=!1;const y=this.getChildren();for(const S of y){if(p=k(S),p)return!0;if(S.hasChildren()&&(p=S._descendants(k),p))return!0}return!1}toObject(){const k=_.Node.prototype.toObject.call(this);return k.children=[],this.getChildren().forEach(p=>{k.children.push(p.toObject())}),k}isAncestorOf(k){let p=k.getParent();for(;p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(k){const p=_.Node.prototype.clone.call(this,k);return this.getChildren().forEach(function(y){p.add(y.clone())}),p}getAllIntersections(k){const p=[];return this.find("Shape").forEach(y=>{y.isVisible()&&y.intersects(k)&&p.push(y)}),p}_clearSelfAndDescendantCache(k){var p;super._clearSelfAndDescendantCache(k),!this.isCached()&&((p=this.children)===null||p===void 0||p.forEach(function(y){y._clearSelfAndDescendantCache(k)}))}_setChildrenIndices(){var k;(k=this.children)===null||k===void 0||k.forEach(function(p,y){p.index=y}),this._requestDraw()}drawScene(k,p,y){const S=this.getLayer(),x=k||S&&S.getCanvas(),C=x&&x.getContext(),F=this._getCanvasCache(),w=F&&F.scene,g=x&&x.isCache;if(!this.isVisible()&&!g)return this;if(w){C.save();const v=this.getAbsoluteTransform(p).getMatrix();C.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(C),C.restore()}else this._drawChildren("drawScene",x,p,y);return this}drawHit(k,p){if(!this.shouldDrawHit(p))return this;const y=this.getLayer(),S=k||y&&y.hitCanvas,x=S&&S.getContext(),C=this._getCanvasCache();if(C&&C.hit){x.save();const w=this.getAbsoluteTransform(p).getMatrix();x.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._drawCachedHitCanvas(x),x.restore()}else this._drawChildren("drawHit",S,p);return this}_drawChildren(k,p,y,S){var x;const C=p&&p.getContext(),F=this.clipWidth(),w=this.clipHeight(),g=this.clipFunc(),v=typeof F=="number"&&typeof w=="number"||g,E=y===this;if(v){C.save();const I=this.getAbsoluteTransform(y);let f=I.getMatrix();C.transform(f[0],f[1],f[2],f[3],f[4],f[5]),C.beginPath();let c;if(g)c=g.call(this,C,this);else{const P=this.clipX(),A=this.clipY();C.rect(P||0,A||0,F,w)}C.clip.apply(C,c),f=I.copy().invert().getMatrix(),C.transform(f[0],f[1],f[2],f[3],f[4],f[5])}const T=!E&&this.globalCompositeOperation()!=="source-over"&&k==="drawScene";T&&(C.save(),C._applyGlobalCompositeOperation(this)),(x=this.children)===null||x===void 0||x.forEach(function(I){I[k](p,y,S)}),T&&C.restore(),v&&C.restore()}getClientRect(k={}){var p;const y=k.skipTransform,S=k.relativeTo;let x,C,F,w,g={x:1/0,y:1/0,width:0,height:0};const v=this;(p=this.children)===null||p===void 0||p.forEach(function(I){if(!I.visible())return;const f=I.getClientRect({relativeTo:v,skipShadow:k.skipShadow,skipStroke:k.skipStroke});f.width===0&&f.height===0||(x===void 0?(x=f.x,C=f.y,F=f.x+f.width,w=f.y+f.height):(x=Math.min(x,f.x),C=Math.min(C,f.y),F=Math.max(F,f.x+f.width),w=Math.max(w,f.y+f.height)))});const E=this.find("Shape");let T=!1;for(let I=0;I<E.length;I++)if(E[I]._isVisible(this)){T=!0;break}return T&&x!==void 0?g={x,y:C,width:F-x,height:w-C}:g={x:0,y:0,width:0,height:0},y?g:this._transformedRect(g,S)}};return ja.Container=B,h.Factory.addComponentsGetterSetter(B,"clip",["x","y","width","height"]),h.Factory.addGetterSetter(B,"clipX",void 0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(B,"clipY",void 0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(B,"clipWidth",void 0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(B,"clipHeight",void 0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(B,"clipFunc"),ja}var jd={},qs={},$f;function a0(){if($f)return qs;$f=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.getCapturedShape=B,qs.createEvent=D,qs.hasPointerCapture=k,qs.setPointerCapture=p,qs.releaseCapture=y;const h=qe(),_=new Map,R=h.Konva._global.PointerEvent!==void 0;function B(S){return _.get(S)}function D(S){return{evt:S,pointerId:S.pointerId}}function k(S,x){return _.get(S)===x}function p(S,x){y(S),x.getStage()&&(_.set(S,x),R&&x._fire("gotpointercapture",D(new PointerEvent("gotpointercapture"))))}function y(S,x){const C=_.get(S);if(!C)return;const F=C.getStage();F&&F.content,_.delete(S),R&&C._fire("lostpointercapture",D(new PointerEvent("lostpointercapture")))}return qs}var eh;function Z0(){return eh||(eh=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Stage=h.stages=void 0;const _=Gt(),R=Je(),B=Hc(),D=qe(),k=Vc(),p=Zd(),y=qe(),S=a0(),x="Stage",C="string",F="px",w="mouseout",g="mouseleave",v="mouseover",E="mouseenter",T="mousemove",I="mousedown",f="mouseup",c="pointermove",P="pointerdown",A="pointerup",V="pointercancel",X="lostpointercapture",z="pointerout",U="pointerleave",G="pointerover",q="pointerenter",J="contextmenu",ee="touchstart",re="touchend",Q="touchmove",ge="touchcancel",N="wheel",L=5,H=[[E,"_pointerenter"],[I,"_pointerdown"],[T,"_pointermove"],[f,"_pointerup"],[g,"_pointerleave"],[ee,"_pointerdown"],[Q,"_pointermove"],[re,"_pointerup"],[ge,"_pointercancel"],[v,"_pointerover"],[N,"_wheel"],[J,"_contextmenu"],[P,"_pointerdown"],[c,"_pointermove"],[A,"_pointerup"],[V,"_pointercancel"],[U,"_pointerleave"],[X,"_lostpointercapture"]],j={mouse:{[z]:w,[U]:g,[G]:v,[q]:E,[c]:T,[P]:I,[A]:f,[V]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[z]:"touchout",[U]:"touchleave",[G]:"touchover",[q]:"touchenter",[c]:Q,[P]:ee,[A]:re,[V]:ge,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[z]:z,[U]:U,[G]:G,[q]:q,[c]:c,[P]:P,[A]:A,[V]:V,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},M=oe=>oe.indexOf("pointer")>=0?"pointer":oe.indexOf("touch")>=0?"touch":"mouse",Y=oe=>{const W=M(oe);if(W==="pointer")return D.Konva.pointerEventsEnabled&&j.pointer;if(W==="touch")return j.touch;if(W==="mouse")return j.mouse};function Z(oe={}){return(oe.clipFunc||oe.clipWidth||oe.clipHeight)&&_.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),oe}const de="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";h.stages=[];class me extends B.Container{constructor(W){super(Z(W)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),h.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Z(this.attrs)}),this._checkVisibility()}_validateAdd(W){const ie=W.getType()==="Layer",ve=W.getType()==="FastLayer";ie||ve||_.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const W=this.visible()?"":"none";this.content.style.display=W}setContainer(W){if(typeof W===C){let ie;if(W.charAt(0)==="."){const ve=W.slice(1);W=document.getElementsByClassName(ve)[0]}else W.charAt(0)!=="#"?ie=W:ie=W.slice(1),W=document.getElementById(ie);if(!W)throw"Can not find container in document with id "+ie}return this._setAttr("container",W),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),W.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const W=this.children,ie=W.length;for(let ve=0;ve<ie;ve++)W[ve].clear();return this}clone(W){return W||(W={}),W.container=typeof document<"u"&&document.createElement("div"),B.Container.prototype.clone.call(this,W)}destroy(){super.destroy();const W=this.content;W&&_.Util._isInDocument(W)&&this.container().removeChild(W);const ie=h.stages.indexOf(this);return ie>-1&&h.stages.splice(ie,1),_.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const W=this._pointerPositions[0]||this._changedPointerPositions[0];return W?{x:W.x,y:W.y}:(_.Util.warn(de),null)}_getPointerById(W){return this._pointerPositions.find(ie=>ie.id===W)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(W){W=W||{},W.x=W.x||0,W.y=W.y||0,W.width=W.width||this.width(),W.height=W.height||this.height();const ie=new k.SceneCanvas({width:W.width,height:W.height,pixelRatio:W.pixelRatio||1}),ve=ie.getContext()._context,xe=this.children;return(W.x||W.y)&&ve.translate(-1*W.x,-1*W.y),xe.forEach(function(Ee){if(!Ee.isVisible())return;const ze=Ee._toKonvaCanvas(W);ve.drawImage(ze._canvas,W.x,W.y,ze.getWidth()/ze.getPixelRatio(),ze.getHeight()/ze.getPixelRatio())}),ie}getIntersection(W){if(!W)return null;const ie=this.children,ve=ie.length,xe=ve-1;for(let Ee=xe;Ee>=0;Ee--){const ze=ie[Ee].getIntersection(W);if(ze)return ze}return null}_resizeDOM(){const W=this.width(),ie=this.height();this.content&&(this.content.style.width=W+F,this.content.style.height=ie+F),this.bufferCanvas.setSize(W,ie),this.bufferHitCanvas.setSize(W,ie),this.children.forEach(ve=>{ve.setSize({width:W,height:ie}),ve.draw()})}add(W,...ie){if(arguments.length>1){for(let xe=0;xe<arguments.length;xe++)this.add(arguments[xe]);return this}super.add(W);const ve=this.children.length;return ve>L&&_.Util.warn("The stage has "+ve+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),W.setSize({width:this.width(),height:this.height()}),W.draw(),D.Konva.isBrowser&&this.content.appendChild(W.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(W){return S.hasPointerCapture(W,this)}setPointerCapture(W){S.setPointerCapture(W,this)}releaseCapture(W){S.releaseCapture(W,this)}getLayers(){return this.children}_bindContentEvents(){D.Konva.isBrowser&&H.forEach(([W,ie])=>{this.content.addEventListener(W,ve=>{this[ie](ve)},{passive:!1})})}_pointerenter(W){this.setPointersPositions(W);const ie=Y(W.type);ie&&this._fire(ie.pointerenter,{evt:W,target:this,currentTarget:this})}_pointerover(W){this.setPointersPositions(W);const ie=Y(W.type);ie&&this._fire(ie.pointerover,{evt:W,target:this,currentTarget:this})}_getTargetShape(W){let ie=this[W+"targetShape"];return ie&&!ie.getStage()&&(ie=null),ie}_pointerleave(W){const ie=Y(W.type),ve=M(W.type);if(!ie)return;this.setPointersPositions(W);const xe=this._getTargetShape(ve),Ee=!(D.Konva.isDragging()||D.Konva.isTransforming())||D.Konva.hitOnDragEnabled;xe&&Ee?(xe._fireAndBubble(ie.pointerout,{evt:W}),xe._fireAndBubble(ie.pointerleave,{evt:W}),this._fire(ie.pointerleave,{evt:W,target:this,currentTarget:this}),this[ve+"targetShape"]=null):Ee&&(this._fire(ie.pointerleave,{evt:W,target:this,currentTarget:this}),this._fire(ie.pointerout,{evt:W,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(W){const ie=Y(W.type),ve=M(W.type);if(!ie)return;this.setPointersPositions(W);let xe=!1;this._changedPointerPositions.forEach(Ee=>{const ze=this.getIntersection(Ee);if(p.DD.justDragged=!1,D.Konva["_"+ve+"ListenClick"]=!0,!ze||!ze.isListening()){this[ve+"ClickStartShape"]=void 0;return}D.Konva.capturePointerEventsEnabled&&ze.setPointerCapture(Ee.id),this[ve+"ClickStartShape"]=ze,ze._fireAndBubble(ie.pointerdown,{evt:W,pointerId:Ee.id}),xe=!0;const De=W.type.indexOf("touch")>=0;ze.preventDefault()&&W.cancelable&&De&&W.preventDefault()}),xe||this._fire(ie.pointerdown,{evt:W,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(W){const ie=Y(W.type),ve=M(W.type);if(!ie||(D.Konva.isDragging()&&p.DD.node.preventDefault()&&W.cancelable&&W.preventDefault(),this.setPointersPositions(W),!(!(D.Konva.isDragging()||D.Konva.isTransforming())||D.Konva.hitOnDragEnabled)))return;const Ee={};let ze=!1;const De=this._getTargetShape(ve);this._changedPointerPositions.forEach(et=>{const je=S.getCapturedShape(et.id)||this.getIntersection(et),Lt=et.id,nt={evt:W,pointerId:Lt},_t=De!==je;if(_t&&De&&(De._fireAndBubble(ie.pointerout,{...nt},je),De._fireAndBubble(ie.pointerleave,{...nt},je)),je){if(Ee[je._id])return;Ee[je._id]=!0}je&&je.isListening()?(ze=!0,_t&&(je._fireAndBubble(ie.pointerover,{...nt},De),je._fireAndBubble(ie.pointerenter,{...nt},De),this[ve+"targetShape"]=je),je._fireAndBubble(ie.pointermove,{...nt})):De&&(this._fire(ie.pointerover,{evt:W,target:this,currentTarget:this,pointerId:Lt}),this[ve+"targetShape"]=null)}),ze||this._fire(ie.pointermove,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(W){const ie=Y(W.type),ve=M(W.type);if(!ie)return;this.setPointersPositions(W);const xe=this[ve+"ClickStartShape"],Ee=this[ve+"ClickEndShape"],ze={};let De=!1;this._changedPointerPositions.forEach(et=>{const je=S.getCapturedShape(et.id)||this.getIntersection(et);if(je){if(je.releaseCapture(et.id),ze[je._id])return;ze[je._id]=!0}const Lt=et.id,nt={evt:W,pointerId:Lt};let _t=!1;D.Konva["_"+ve+"InDblClickWindow"]?(_t=!0,clearTimeout(this[ve+"DblTimeout"])):p.DD.justDragged||(D.Konva["_"+ve+"InDblClickWindow"]=!0,clearTimeout(this[ve+"DblTimeout"])),this[ve+"DblTimeout"]=setTimeout(function(){D.Konva["_"+ve+"InDblClickWindow"]=!1},D.Konva.dblClickWindow),je&&je.isListening()?(De=!0,this[ve+"ClickEndShape"]=je,je._fireAndBubble(ie.pointerup,{...nt}),D.Konva["_"+ve+"ListenClick"]&&xe&&xe===je&&(je._fireAndBubble(ie.pointerclick,{...nt}),_t&&Ee&&Ee===je&&je._fireAndBubble(ie.pointerdblclick,{...nt}))):(this[ve+"ClickEndShape"]=null,D.Konva["_"+ve+"ListenClick"]&&this._fire(ie.pointerclick,{evt:W,target:this,currentTarget:this,pointerId:Lt}),_t&&this._fire(ie.pointerdblclick,{evt:W,target:this,currentTarget:this,pointerId:Lt}))}),De||this._fire(ie.pointerup,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),D.Konva["_"+ve+"ListenClick"]=!1,W.cancelable&&ve!=="touch"&&ve!=="pointer"&&W.preventDefault()}_contextmenu(W){this.setPointersPositions(W);const ie=this.getIntersection(this.getPointerPosition());ie&&ie.isListening()?ie._fireAndBubble(J,{evt:W}):this._fire(J,{evt:W,target:this,currentTarget:this})}_wheel(W){this.setPointersPositions(W);const ie=this.getIntersection(this.getPointerPosition());ie&&ie.isListening()?ie._fireAndBubble(N,{evt:W}):this._fire(N,{evt:W,target:this,currentTarget:this})}_pointercancel(W){this.setPointersPositions(W);const ie=S.getCapturedShape(W.pointerId)||this.getIntersection(this.getPointerPosition());ie&&ie._fireAndBubble(A,S.createEvent(W)),S.releaseCapture(W.pointerId)}_lostpointercapture(W){S.releaseCapture(W.pointerId)}setPointersPositions(W){const ie=this._getContentPosition();let ve=null,xe=null;W=W||window.event,W.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(W.touches,Ee=>{this._pointerPositions.push({id:Ee.identifier,x:(Ee.clientX-ie.left)/ie.scaleX,y:(Ee.clientY-ie.top)/ie.scaleY})}),Array.prototype.forEach.call(W.changedTouches||W.touches,Ee=>{this._changedPointerPositions.push({id:Ee.identifier,x:(Ee.clientX-ie.left)/ie.scaleX,y:(Ee.clientY-ie.top)/ie.scaleY})})):(ve=(W.clientX-ie.left)/ie.scaleX,xe=(W.clientY-ie.top)/ie.scaleY,this.pointerPos={x:ve,y:xe},this._pointerPositions=[{x:ve,y:xe,id:_.Util._getFirstPointerId(W)}],this._changedPointerPositions=[{x:ve,y:xe,id:_.Util._getFirstPointerId(W)}])}_setPointerPosition(W){_.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(W)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const W=this.content.getBoundingClientRect();return{top:W.top,left:W.left,scaleX:W.width/this.content.clientWidth||1,scaleY:W.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new k.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new k.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!D.Konva.isBrowser)return;const W=this.container();if(!W)throw"Stage has no container. A container is required.";W.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),W.appendChild(this.content),this._resizeDOM()}cache(){return _.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(W){W.batchDraw()}),this}}h.Stage=me,me.prototype.nodeType=x,(0,y._registerNode)(me),R.Factory.addGetterSetter(me,"container"),D.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{h.stages.forEach(oe=>{oe.batchDraw()})})})(jd)),jd}var Ba={},Bd={},th;function _n(){return th||(th=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Shape=h.shapes=void 0;const _=qe(),R=Gt(),B=Je(),D=qt(),k=$e(),p=qe(),y=a0(),S="hasShadow",x="shadowRGBA",C="patternImage",F="linearGradient",w="radialGradient";let g;function v(){return g||(g=R.Util.createCanvasElement().getContext("2d"),g)}h.shapes={};function E(U){const G=this.attrs.fillRule;G?U.fill(G):U.fill()}function T(U){U.stroke()}function I(U){const G=this.attrs.fillRule;G?U.fill(G):U.fill()}function f(U){U.stroke()}function c(){this._clearCache(S)}function P(){this._clearCache(x)}function A(){this._clearCache(C)}function V(){this._clearCache(F)}function X(){this._clearCache(w)}class z extends D.Node{constructor(G){super(G);let q;for(;q=R.Util.getRandomColor(),!(q&&!(q in h.shapes)););this.colorKey=q,h.shapes[q]=this}getContext(){return R.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return R.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(S,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(C,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const J=new R.Transform;J.translate(this.fillPatternX(),this.fillPatternY()),J.rotate(_.Konva.getAngle(this.fillPatternRotation())),J.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),J.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const ee=J.getMatrix(),re=typeof DOMMatrix>"u"?{a:ee[0],b:ee[1],c:ee[2],d:ee[3],e:ee[4],f:ee[5]}:new DOMMatrix(ee);q.setTransform(re)}return q}}_getLinearGradient(){return this._getCache(F,this.__getLinearGradient)}__getLinearGradient(){const G=this.fillLinearGradientColorStops();if(G){const q=v(),J=this.fillLinearGradientStartPoint(),ee=this.fillLinearGradientEndPoint(),re=q.createLinearGradient(J.x,J.y,ee.x,ee.y);for(let Q=0;Q<G.length;Q+=2)re.addColorStop(G[Q],G[Q+1]);return re}}_getRadialGradient(){return this._getCache(w,this.__getRadialGradient)}__getRadialGradient(){const G=this.fillRadialGradientColorStops();if(G){const q=v(),J=this.fillRadialGradientStartPoint(),ee=this.fillRadialGradientEndPoint(),re=q.createRadialGradient(J.x,J.y,this.fillRadialGradientStartRadius(),ee.x,ee.y,this.fillRadialGradientEndRadius());for(let Q=0;Q<G.length;Q+=2)re.addColorStop(G[Q],G[Q+1]);return re}}getShadowRGBA(){return this._getCache(x,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const G=R.Util.colorToRGBA(this.shadowColor());if(G)return"rgba("+G.r+","+G.g+","+G.b+","+G.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const G=this.hitStrokeWidth();return G==="auto"?this.hasStroke():this.strokeEnabled()&&!!G}intersects(G){const q=this.getStage();if(!q)return!1;const J=q.bufferHitCanvas;return J.getContext().clear(),this.drawHit(J,void 0,!0),J.context.getImageData(Math.round(G.x),Math.round(G.y),1,1).data[3]>0}destroy(){return D.Node.prototype.destroy.call(this),delete h.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(G){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const ee=G||this.hasFill(),re=this.hasStroke(),Q=this.getAbsoluteOpacity()!==1;if(ee&&re&&Q)return!0;const ge=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(ee&&re&&ge&&N)}setStrokeHitEnabled(G){R.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),G?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const G=this.size();return{x:this._centroid?-G.width/2:0,y:this._centroid?-G.height/2:0,width:G.width,height:G.height}}getClientRect(G={}){let q=!1,J=this.getParent();for(;J;){if(J.isCached()){q=!0;break}J=J.getParent()}const ee=G.skipTransform,re=G.relativeTo||q&&this.getStage()||void 0,Q=this.getSelfRect(),N=!G.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,L=Q.width+N,H=Q.height+N,j=!G.skipShadow&&this.hasShadow(),M=j?this.shadowOffsetX():0,Y=j?this.shadowOffsetY():0,Z=L+Math.abs(M),de=H+Math.abs(Y),me=j&&this.shadowBlur()||0,oe=Z+me*2,W=de+me*2,ie={width:oe,height:W,x:-(N/2+me)+Math.min(M,0)+Q.x,y:-(N/2+me)+Math.min(Y,0)+Q.y};return ee?ie:this._transformedRect(ie,re)}drawScene(G,q,J){const ee=this.getLayer(),re=G||ee.getCanvas(),Q=re.getContext(),ge=this._getCanvasCache(),N=this.getSceneFunc(),L=this.hasShadow();let H;const j=q===this;if(!this.isVisible()&&!j)return this;if(ge){Q.save();const M=this.getAbsoluteTransform(q).getMatrix();return Q.transform(M[0],M[1],M[2],M[3],M[4],M[5]),this._drawCachedSceneCanvas(Q),Q.restore(),this}if(!N)return this;if(Q.save(),this._useBufferCanvas()){H=this.getStage();const M=J||H.bufferCanvas,Y=M.getContext();Y.clear(),Y.save(),Y._applyLineJoin(this);const Z=this.getAbsoluteTransform(q).getMatrix();Y.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),N.call(this,Y,this),Y.restore();const de=M.pixelRatio;L&&Q._applyShadow(this),Q._applyOpacity(this),Q._applyGlobalCompositeOperation(this),Q.drawImage(M._canvas,M.x||0,M.y||0,M.width/de,M.height/de)}else{if(Q._applyLineJoin(this),!j){const M=this.getAbsoluteTransform(q).getMatrix();Q.transform(M[0],M[1],M[2],M[3],M[4],M[5]),Q._applyOpacity(this),Q._applyGlobalCompositeOperation(this)}L&&Q._applyShadow(this),N.call(this,Q,this)}return Q.restore(),this}drawHit(G,q,J=!1){if(!this.shouldDrawHit(q,J))return this;const ee=this.getLayer(),re=G||ee.hitCanvas,Q=re&&re.getContext(),ge=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),L=N&&N.hit;if(this.colorKey||R.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){Q.save();const j=this.getAbsoluteTransform(q).getMatrix();return Q.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(Q),Q.restore(),this}if(!ge)return this;if(Q.save(),Q._applyLineJoin(this),!(this===q)){const j=this.getAbsoluteTransform(q).getMatrix();Q.transform(j[0],j[1],j[2],j[3],j[4],j[5])}return ge.call(this,Q,this),Q.restore(),this}drawHitFromCache(G=0){const q=this._getCanvasCache(),J=this._getCachedSceneCanvas(),ee=q.hit,re=ee.getContext(),Q=ee.getWidth(),ge=ee.getHeight();re.clear(),re.drawImage(J._canvas,0,0,Q,ge);try{const N=re.getImageData(0,0,Q,ge),L=N.data,H=L.length,j=R.Util._hexToRgb(this.colorKey);for(let M=0;M<H;M+=4)L[M+3]>G?(L[M]=j.r,L[M+1]=j.g,L[M+2]=j.b,L[M+3]=255):L[M+3]=0;re.putImageData(N,0,0)}catch(N){R.Util.error("Unable to draw hit graph from cached scene canvas. "+N.message)}return this}hasPointerCapture(G){return y.hasPointerCapture(G,this)}setPointerCapture(G){y.setPointerCapture(G,this)}releaseCapture(G){y.releaseCapture(G,this)}}h.Shape=z,z.prototype._fillFunc=E,z.prototype._strokeFunc=T,z.prototype._fillFuncHit=I,z.prototype._strokeFuncHit=f,z.prototype._centroid=!1,z.prototype.nodeType="Shape",(0,p._registerNode)(z),z.prototype.eventListeners={},z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",P),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",A),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",V),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",X),B.Factory.addGetterSetter(z,"stroke",void 0,(0,k.getStringOrGradientValidator)()),B.Factory.addGetterSetter(z,"strokeWidth",2,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillAfterStrokeEnabled",!1),B.Factory.addGetterSetter(z,"hitStrokeWidth","auto",(0,k.getNumberOrAutoValidator)()),B.Factory.addGetterSetter(z,"strokeHitEnabled",!0,(0,k.getBooleanValidator)()),B.Factory.addGetterSetter(z,"perfectDrawEnabled",!0,(0,k.getBooleanValidator)()),B.Factory.addGetterSetter(z,"shadowForStrokeEnabled",!0,(0,k.getBooleanValidator)()),B.Factory.addGetterSetter(z,"lineJoin"),B.Factory.addGetterSetter(z,"lineCap"),B.Factory.addGetterSetter(z,"sceneFunc"),B.Factory.addGetterSetter(z,"hitFunc"),B.Factory.addGetterSetter(z,"dash"),B.Factory.addGetterSetter(z,"dashOffset",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"shadowColor",void 0,(0,k.getStringValidator)()),B.Factory.addGetterSetter(z,"shadowBlur",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"shadowOpacity",1,(0,k.getNumberValidator)()),B.Factory.addComponentsGetterSetter(z,"shadowOffset",["x","y"]),B.Factory.addGetterSetter(z,"shadowOffsetX",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"shadowOffsetY",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillPatternImage"),B.Factory.addGetterSetter(z,"fill",void 0,(0,k.getStringOrGradientValidator)()),B.Factory.addGetterSetter(z,"fillPatternX",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillPatternY",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillLinearGradientColorStops"),B.Factory.addGetterSetter(z,"strokeLinearGradientColorStops"),B.Factory.addGetterSetter(z,"fillRadialGradientStartRadius",0),B.Factory.addGetterSetter(z,"fillRadialGradientEndRadius",0),B.Factory.addGetterSetter(z,"fillRadialGradientColorStops"),B.Factory.addGetterSetter(z,"fillPatternRepeat","repeat"),B.Factory.addGetterSetter(z,"fillEnabled",!0),B.Factory.addGetterSetter(z,"strokeEnabled",!0),B.Factory.addGetterSetter(z,"shadowEnabled",!0),B.Factory.addGetterSetter(z,"dashEnabled",!0),B.Factory.addGetterSetter(z,"strokeScaleEnabled",!0),B.Factory.addGetterSetter(z,"fillPriority","color"),B.Factory.addComponentsGetterSetter(z,"fillPatternOffset",["x","y"]),B.Factory.addGetterSetter(z,"fillPatternOffsetX",0,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillPatternOffsetY",0,(0,k.getNumberValidator)()),B.Factory.addComponentsGetterSetter(z,"fillPatternScale",["x","y"]),B.Factory.addGetterSetter(z,"fillPatternScaleX",1,(0,k.getNumberValidator)()),B.Factory.addGetterSetter(z,"fillPatternScaleY",1,(0,k.getNumberValidator)()),B.Factory.addComponentsGetterSetter(z,"fillLinearGradientStartPoint",["x","y"]),B.Factory.addComponentsGetterSetter(z,"strokeLinearGradientStartPoint",["x","y"]),B.Factory.addGetterSetter(z,"fillLinearGradientStartPointX",0),B.Factory.addGetterSetter(z,"strokeLinearGradientStartPointX",0),B.Factory.addGetterSetter(z,"fillLinearGradientStartPointY",0),B.Factory.addGetterSetter(z,"strokeLinearGradientStartPointY",0),B.Factory.addComponentsGetterSetter(z,"fillLinearGradientEndPoint",["x","y"]),B.Factory.addComponentsGetterSetter(z,"strokeLinearGradientEndPoint",["x","y"]),B.Factory.addGetterSetter(z,"fillLinearGradientEndPointX",0),B.Factory.addGetterSetter(z,"strokeLinearGradientEndPointX",0),B.Factory.addGetterSetter(z,"fillLinearGradientEndPointY",0),B.Factory.addGetterSetter(z,"strokeLinearGradientEndPointY",0),B.Factory.addComponentsGetterSetter(z,"fillRadialGradientStartPoint",["x","y"]),B.Factory.addGetterSetter(z,"fillRadialGradientStartPointX",0),B.Factory.addGetterSetter(z,"fillRadialGradientStartPointY",0),B.Factory.addComponentsGetterSetter(z,"fillRadialGradientEndPoint",["x","y"]),B.Factory.addGetterSetter(z,"fillRadialGradientEndPointX",0),B.Factory.addGetterSetter(z,"fillRadialGradientEndPointY",0),B.Factory.addGetterSetter(z,"fillPatternRotation",0),B.Factory.addGetterSetter(z,"fillRule",void 0,(0,k.getStringValidator)()),B.Factory.backCompat(z,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Bd)),Bd}var nh;function u0(){if(nh)return Ba;nh=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.Layer=void 0;const h=Gt(),_=Hc(),R=qt(),B=Je(),D=Vc(),k=$e(),p=_n(),y=qe(),S="#",x="beforeDraw",C="draw",F=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],w=F.length;class g extends _.Container{constructor(E){super(E),this.canvas=new D.SceneCanvas,this.hitCanvas=new D.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(E){return this.getContext().clear(E),this.getHitCanvas().getContext().clear(E),this}setZIndex(E){super.setZIndex(E);const T=this.getStage();return T&&T.content&&(T.content.removeChild(this.getNativeCanvasElement()),E<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[E+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){R.Node.prototype.moveToTop.call(this);const E=this.getStage();return E&&E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!R.Node.prototype.moveUp.call(this))return!1;const T=this.getStage();return!T||!T.content?!1:(T.content.removeChild(this.getNativeCanvasElement()),this.index<T.children.length-1?T.content.insertBefore(this.getNativeCanvasElement(),T.children[this.index+1].getCanvas()._canvas):T.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(R.Node.prototype.moveDown.call(this)){const E=this.getStage();if(E){const T=E.children;E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.insertBefore(this.getNativeCanvasElement(),T[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(R.Node.prototype.moveToBottom.call(this)){const E=this.getStage();if(E){const T=E.children;E.content&&(E.content.removeChild(this.getNativeCanvasElement()),E.content.insertBefore(this.getNativeCanvasElement(),T[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const E=this.getNativeCanvasElement();return R.Node.prototype.remove.call(this),E&&E.parentNode&&h.Util._isInDocument(E)&&E.parentNode.removeChild(E),this}getStage(){return this.parent}setSize({width:E,height:T}){return this.canvas.setSize(E,T),this.hitCanvas.setSize(E,T),this._setSmoothEnabled(),this}_validateAdd(E){const T=E.getType();T!=="Group"&&T!=="Shape"&&h.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(E){return E=E||{},E.width=E.width||this.getWidth(),E.height=E.height||this.getHeight(),E.x=E.x!==void 0?E.x:this.x(),E.y=E.y!==void 0?E.y:this.y(),R.Node.prototype._toKonvaCanvas.call(this,E)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){h.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){h.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,h.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(E){if(!this.isListening()||!this.isVisible())return null;let T=1,I=!1;for(;;){for(let f=0;f<w;f++){const c=F[f],P=this._getIntersection({x:E.x+c.x*T,y:E.y+c.y*T}),A=P.shape;if(A)return A;if(I=!!P.antialiased,!P.antialiased)break}if(I)T+=1;else return null}}_getIntersection(E){const T=this.hitCanvas.pixelRatio,I=this.hitCanvas.context.getImageData(Math.round(E.x*T),Math.round(E.y*T),1,1).data,f=I[3];if(f===255){const c=h.Util._rgbToHex(I[0],I[1],I[2]),P=p.shapes[S+c];return P?{shape:P}:{antialiased:!0}}else if(f>0)return{antialiased:!0};return{}}drawScene(E,T,I){const f=this.getLayer(),c=E||f&&f.getCanvas();return this._fire(x,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),_.Container.prototype.drawScene.call(this,c,T,I),this._fire(C,{node:this}),this}drawHit(E,T){const I=this.getLayer(),f=E||I&&I.hitCanvas;return I&&I.clearBeforeDraw()&&I.getHitCanvas().getContext().clear(),_.Container.prototype.drawHit.call(this,f,T),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(E){h.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(E)}getHitGraphEnabled(E){return h.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const E=this.parent;!!this.hitCanvas._canvas.parentNode?E.content.removeChild(this.hitCanvas._canvas):E.content.appendChild(this.hitCanvas._canvas)}destroy(){return h.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Ba.Layer=g,g.prototype.nodeType="Layer",(0,y._registerNode)(g),B.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),B.Factory.addGetterSetter(g,"clearBeforeDraw",!0),B.Factory.addGetterSetter(g,"hitGraphEnabled",!0,(0,k.getBooleanValidator)()),Ba}var ba={},rh;function $0(){if(rh)return ba;rh=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.FastLayer=void 0;const h=Gt(),_=u0(),R=qe();let B=class extends _.Layer{constructor(k){super(k),this.listening(!1),h.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return ba.FastLayer=B,B.prototype.nodeType="FastLayer",(0,R._registerNode)(B),ba}var Va={},ih;function $d(){if(ih)return Va;ih=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.Group=void 0;const h=Gt(),_=Hc(),R=qe();class B extends _.Container{_validateAdd(k){const p=k.getType();p!=="Group"&&p!=="Shape"&&h.Util.throw("You may only add groups and shapes to groups.")}}return Va.Group=B,B.prototype.nodeType="Group",(0,R._registerNode)(B),Va}var Ha={},sh;function ef(){if(sh)return Ha;sh=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.Animation=void 0;const h=qe(),_=Gt(),R=(function(){return h.glob.performance&&h.glob.performance.now?function(){return h.glob.performance.now()}:function(){return new Date().getTime()}})();let B=class Il{constructor(k,p){this.id=Il.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:R(),frameRate:0},this.func=k,this.setLayers(p)}setLayers(k){let p=[];return k&&(p=Array.isArray(k)?k:[k]),this.layers=p,this}getLayers(){return this.layers}addLayer(k){const p=this.layers,y=p.length;for(let S=0;S<y;S++)if(p[S]._id===k._id)return!1;return this.layers.push(k),!0}isRunning(){const p=Il.animations,y=p.length;for(let S=0;S<y;S++)if(p[S].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=R(),Il._addAnimation(this),this}stop(){return Il._removeAnimation(this),this}_updateFrameObject(k){this.frame.timeDiff=k-this.frame.lastTime,this.frame.lastTime=k,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(k){this.animations.push(k),this._handleAnimation()}static _removeAnimation(k){const p=k.id,y=this.animations,S=y.length;for(let x=0;x<S;x++)if(y[x].id===p){this.animations.splice(x,1);break}}static _runFrames(){const k={},p=this.animations;for(let y=0;y<p.length;y++){const S=p[y],x=S.layers,C=S.func;S._updateFrameObject(R());const F=x.length;let w;if(C?w=C.call(S,S.frame)!==!1:w=!0,!!w)for(let g=0;g<F;g++){const v=x[g];v._id!==void 0&&(k[v._id]=v)}}for(const y in k)k.hasOwnProperty(y)&&k[y].batchDraw()}static _animationLoop(){const k=Il;k.animations.length?(k._runFrames(),_.Util.requestAnimFrame(k._animationLoop)):k.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,_.Util.requestAnimFrame(this._animationLoop))}};return Ha.Animation=B,B.animations=[],B.animIdCounter=0,B.animRunning=!1,Ha}var bd={},oh;function e1(){return oh||(oh=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Easings=h.Tween=void 0;const _=Gt(),R=ef(),B=qt(),D=qe(),k={node:1,duration:1,easing:1,onFinish:1,yoyo:1},p=1,y=2,S=3,x=["fill","stroke","shadowColor"];let C=0;class F{constructor(v,E,T,I,f,c,P){this.prop=v,this.propFunc=E,this.begin=I,this._pos=I,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=P,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=f-this.begin,this.pause()}fire(v){const E=this[v];E&&E()}setTime(v){v>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():v<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=v,this.update())}getTime(){return this._time}setPosition(v){this.prevPos=this._pos,this.propFunc(v),this._pos=v}getPosition(v){return v===void 0&&(v=this._time),this.func(v,this.begin,this._change,this.duration)}play(){this.state=y,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=S,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(v){this.pause(),this._time=v,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const v=this.getTimer()-this._startTime;this.state===y?this.setTime(v):this.state===S&&this.setTime(this.duration-v)}pause(){this.state=p,this.fire("onPause")}getTimer(){return new Date().getTime()}}class w{constructor(v){const E=this,T=v.node,I=T._id,f=v.easing||h.Easings.Linear,c=!!v.yoyo;let P,A;typeof v.duration>"u"?P=.3:v.duration===0?P=.001:P=v.duration,this.node=T,this._id=C++;const V=T.getLayer()||(T instanceof D.Konva.Stage?T.getLayers():null);V||_.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new R.Animation(function(){E.tween.onEnterFrame()},V),this.tween=new F(A,function(X){E._tweenFunc(X)},f,0,1,P*1e3,c),this._addListeners(),w.attrs[I]||(w.attrs[I]={}),w.attrs[I][this._id]||(w.attrs[I][this._id]={}),w.tweens[I]||(w.tweens[I]={});for(A in v)k[A]===void 0&&this._addAttr(A,v[A]);this.reset(),this.onFinish=v.onFinish,this.onReset=v.onReset,this.onUpdate=v.onUpdate}_addAttr(v,E){const T=this.node,I=T._id;let f,c,P,A,V;const X=w.tweens[I][v];X&&delete w.attrs[I][X][v];let z=T.getAttr(v);if(_.Util._isArray(E))if(f=[],c=Math.max(E.length,z.length),v==="points"&&E.length!==z.length&&(E.length>z.length?(A=z,z=_.Util._prepareArrayForTween(z,E,T.closed())):(P=E,E=_.Util._prepareArrayForTween(E,z,T.closed()))),v.indexOf("fill")===0)for(let U=0;U<c;U++)if(U%2===0)f.push(E[U]-z[U]);else{const G=_.Util.colorToRGBA(z[U]);V=_.Util.colorToRGBA(E[U]),z[U]=G,f.push({r:V.r-G.r,g:V.g-G.g,b:V.b-G.b,a:V.a-G.a})}else for(let U=0;U<c;U++)f.push(E[U]-z[U]);else x.indexOf(v)!==-1?(z=_.Util.colorToRGBA(z),V=_.Util.colorToRGBA(E),f={r:V.r-z.r,g:V.g-z.g,b:V.b-z.b,a:V.a-z.a}):f=E-z;w.attrs[I][this._id][v]={start:z,diff:f,end:E,trueEnd:P,trueStart:A},w.tweens[I][v]=this._id}_tweenFunc(v){const E=this.node,T=w.attrs[E._id][this._id];let I,f,c,P,A,V,X,z;for(I in T){if(f=T[I],c=f.start,P=f.diff,z=f.end,_.Util._isArray(c))if(A=[],X=Math.max(c.length,z.length),I.indexOf("fill")===0)for(V=0;V<X;V++)V%2===0?A.push((c[V]||0)+P[V]*v):A.push("rgba("+Math.round(c[V].r+P[V].r*v)+","+Math.round(c[V].g+P[V].g*v)+","+Math.round(c[V].b+P[V].b*v)+","+(c[V].a+P[V].a*v)+")");else for(V=0;V<X;V++)A.push((c[V]||0)+P[V]*v);else x.indexOf(I)!==-1?A="rgba("+Math.round(c.r+P.r*v)+","+Math.round(c.g+P.g*v)+","+Math.round(c.b+P.b*v)+","+(c.a+P.a*v)+")":A=c+P*v;E.setAttr(I,A)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const v=this.node,E=w.attrs[v._id][this._id];E.points&&E.points.trueEnd&&v.setAttr("points",E.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const v=this.node,E=w.attrs[v._id][this._id];E.points&&E.points.trueStart&&v.points(E.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(v){return this.tween.seek(v*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const v=this.node._id,E=this._id,T=w.tweens[v];this.pause(),this.anim&&this.anim.stop();for(const I in T)delete w.tweens[v][I];delete w.attrs[v][E],w.tweens[v]&&(Object.keys(w.tweens[v]).length===0&&delete w.tweens[v],Object.keys(w.attrs[v]).length===0&&delete w.attrs[v])}}h.Tween=w,w.attrs={},w.tweens={},B.Node.prototype.to=function(g){const v=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),v&&v()},new w(g).play()},h.Easings={BackEaseIn(g,v,E,T){return E*(g/=T)*g*((1.70158+1)*g-1.70158)+v},BackEaseOut(g,v,E,T){return E*((g=g/T-1)*g*((1.70158+1)*g+1.70158)+1)+v},BackEaseInOut(g,v,E,T){let I=1.70158;return(g/=T/2)<1?E/2*(g*g*(((I*=1.525)+1)*g-I))+v:E/2*((g-=2)*g*(((I*=1.525)+1)*g+I)+2)+v},ElasticEaseIn(g,v,E,T,I,f){let c=0;return g===0?v:(g/=T)===1?v+E:(f||(f=T*.3),!I||I<Math.abs(E)?(I=E,c=f/4):c=f/(2*Math.PI)*Math.asin(E/I),-(I*Math.pow(2,10*(g-=1))*Math.sin((g*T-c)*(2*Math.PI)/f))+v)},ElasticEaseOut(g,v,E,T,I,f){let c=0;return g===0?v:(g/=T)===1?v+E:(f||(f=T*.3),!I||I<Math.abs(E)?(I=E,c=f/4):c=f/(2*Math.PI)*Math.asin(E/I),I*Math.pow(2,-10*g)*Math.sin((g*T-c)*(2*Math.PI)/f)+E+v)},ElasticEaseInOut(g,v,E,T,I,f){let c=0;return g===0?v:(g/=T/2)===2?v+E:(f||(f=T*(.3*1.5)),!I||I<Math.abs(E)?(I=E,c=f/4):c=f/(2*Math.PI)*Math.asin(E/I),g<1?-.5*(I*Math.pow(2,10*(g-=1))*Math.sin((g*T-c)*(2*Math.PI)/f))+v:I*Math.pow(2,-10*(g-=1))*Math.sin((g*T-c)*(2*Math.PI)/f)*.5+E+v)},BounceEaseOut(g,v,E,T){return(g/=T)<1/2.75?E*(7.5625*g*g)+v:g<2/2.75?E*(7.5625*(g-=1.5/2.75)*g+.75)+v:g<2.5/2.75?E*(7.5625*(g-=2.25/2.75)*g+.9375)+v:E*(7.5625*(g-=2.625/2.75)*g+.984375)+v},BounceEaseIn(g,v,E,T){return E-h.Easings.BounceEaseOut(T-g,0,E,T)+v},BounceEaseInOut(g,v,E,T){return g<T/2?h.Easings.BounceEaseIn(g*2,0,E,T)*.5+v:h.Easings.BounceEaseOut(g*2-T,0,E,T)*.5+E*.5+v},EaseIn(g,v,E,T){return E*(g/=T)*g+v},EaseOut(g,v,E,T){return-E*(g/=T)*(g-2)+v},EaseInOut(g,v,E,T){return(g/=T/2)<1?E/2*g*g+v:-E/2*(--g*(g-2)-1)+v},StrongEaseIn(g,v,E,T){return E*(g/=T)*g*g*g*g+v},StrongEaseOut(g,v,E,T){return E*((g=g/T-1)*g*g*g*g+1)+v},StrongEaseInOut(g,v,E,T){return(g/=T/2)<1?E/2*g*g*g*g*g+v:E/2*((g-=2)*g*g*g*g+2)+v},Linear(g,v,E,T){return E*g/T+v}}})(bd)),bd}var lh;function Xd(){return lh||(lh=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.Konva=void 0;const _=qe(),R=Gt(),B=qt(),D=Hc(),k=Z0(),p=u0(),y=$0(),S=$d(),x=Zd(),C=_n(),F=ef(),w=e1(),g=l0(),v=Vc();h.Konva=R.Util._assign(_.Konva,{Util:R.Util,Transform:R.Transform,Node:B.Node,Container:D.Container,Stage:k.Stage,stages:k.stages,Layer:p.Layer,FastLayer:y.FastLayer,Group:S.Group,DD:x.DD,Shape:C.Shape,shapes:C.shapes,Animation:F.Animation,Tween:w.Tween,Easings:w.Easings,Context:g.Context,Canvas:v.Canvas}),h.default=h.Konva})(Dd)),Dd}var Wa={},ah;function t1(){if(ah)return Wa;ah=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.Arc=void 0;const h=Je(),_=_n(),R=qe(),B=$e(),D=qe();let k=class extends _.Shape{_sceneFunc(y){const S=R.Konva.getAngle(this.angle()),x=this.clockwise();y.beginPath(),y.arc(0,0,this.outerRadius(),0,S,x),y.arc(0,0,this.innerRadius(),S,0,!x),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}getSelfRect(){const y=this.innerRadius(),S=this.outerRadius(),x=this.clockwise(),C=R.Konva.getAngle(x?360-this.angle():this.angle()),F=Math.cos(Math.min(C,Math.PI)),w=1,g=Math.sin(Math.min(Math.max(Math.PI,C),3*Math.PI/2)),v=Math.sin(Math.min(C,Math.PI/2)),E=F*(F>0?y:S),T=w*S,I=g*(g>0?y:S),f=v*(v>0?S:y);return{x:E,y:x?-1*f:I,width:T-E,height:f-I}}};return Wa.Arc=k,k.prototype._centroid=!0,k.prototype.className="Arc",k.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,D._registerNode)(k),h.Factory.addGetterSetter(k,"innerRadius",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"outerRadius",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"angle",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"clockwise",!1,(0,B.getBooleanValidator)()),Wa}var qa={},Ka={},uh;function c0(){if(uh)return Ka;uh=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.Line=void 0;const h=Je(),_=qe(),R=_n(),B=$e();function D(y,S,x,C,F,w,g){const v=Math.sqrt(Math.pow(x-y,2)+Math.pow(C-S,2)),E=Math.sqrt(Math.pow(F-x,2)+Math.pow(w-C,2)),T=g*v/(v+E),I=g*E/(v+E),f=x-T*(F-y),c=C-T*(w-S),P=x+I*(F-y),A=C+I*(w-S);return[f,c,P,A]}function k(y,S){const x=y.length,C=[];for(let F=2;F<x-2;F+=2){const w=D(y[F-2],y[F-1],y[F],y[F+1],y[F+2],y[F+3],S);isNaN(w[0])||(C.push(w[0]),C.push(w[1]),C.push(y[F]),C.push(y[F+1]),C.push(w[2]),C.push(w[3]))}return C}class p extends R.Shape{constructor(S){super(S),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(S){const x=this.points(),C=x.length,F=this.tension(),w=this.closed(),g=this.bezier();if(!C)return;let v=0;if(S.beginPath(),S.moveTo(x[0],x[1]),F!==0&&C>4){const E=this.getTensionPoints(),T=E.length;for(v=w?0:4,w||S.quadraticCurveTo(E[0],E[1],E[2],E[3]);v<T-2;)S.bezierCurveTo(E[v++],E[v++],E[v++],E[v++],E[v++],E[v++]);w||S.quadraticCurveTo(E[T-2],E[T-1],x[C-2],x[C-1])}else if(g)for(v=2;v<C;)S.bezierCurveTo(x[v++],x[v++],x[v++],x[v++],x[v++],x[v++]);else for(v=2;v<C;v+=2)S.lineTo(x[v],x[v+1]);w?(S.closePath(),S.fillStrokeShape(this)):S.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():k(this.points(),this.tension())}_getTensionPointsClosed(){const S=this.points(),x=S.length,C=this.tension(),F=D(S[x-2],S[x-1],S[0],S[1],S[2],S[3],C),w=D(S[x-4],S[x-3],S[x-2],S[x-1],S[0],S[1],C),g=k(S,C);return[F[2],F[3]].concat(g).concat([w[0],w[1],S[x-2],S[x-1],w[2],w[3],F[0],F[1],S[0],S[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let S=this.points();if(S.length<4)return{x:S[0]||0,y:S[1]||0,width:0,height:0};this.tension()!==0?S=[S[0],S[1],...this._getTensionPoints(),S[S.length-2],S[S.length-1]]:S=this.points();let x=S[0],C=S[0],F=S[1],w=S[1],g,v;for(let E=0;E<S.length/2;E++)g=S[E*2],v=S[E*2+1],x=Math.min(x,g),C=Math.max(C,g),F=Math.min(F,v),w=Math.max(w,v);return{x,y:F,width:C-x,height:w-F}}}return Ka.Line=p,p.prototype.className="Line",p.prototype._attrsAffectingSize=["points","bezier","tension"],(0,_._registerNode)(p),h.Factory.addGetterSetter(p,"closed",!1),h.Factory.addGetterSetter(p,"bezier",!1),h.Factory.addGetterSetter(p,"tension",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(p,"points",[],(0,B.getNumberArrayValidator)()),Ka}var Ya={},Vd={},ch;function n1(){return ch||(ch=1,(function(h){Object.defineProperty(h,"__esModule",{value:!0}),h.t2length=h.getQuadraticArcLength=h.getCubicArcLength=h.binomialCoefficients=h.cValues=h.tValues=void 0,h.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],h.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],h.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const _=(p,y,S)=>{let x,C;const w=S/2;x=0;for(let g=0;g<20;g++)C=w*h.tValues[20][g]+w,x+=h.cValues[20][g]*B(p,y,C);return w*x};h.getCubicArcLength=_;const R=(p,y,S)=>{S===void 0&&(S=1);const x=p[0]-2*p[1]+p[2],C=y[0]-2*y[1]+y[2],F=2*p[1]-2*p[0],w=2*y[1]-2*y[0],g=4*(x*x+C*C),v=4*(x*F+C*w),E=F*F+w*w;if(g===0)return S*Math.sqrt(Math.pow(p[2]-p[0],2)+Math.pow(y[2]-y[0],2));const T=v/(2*g),I=E/g,f=S+T,c=I-T*T,P=f*f+c>0?Math.sqrt(f*f+c):0,A=T*T+c>0?Math.sqrt(T*T+c):0,V=T+Math.sqrt(T*T+c)!==0?c*Math.log(Math.abs((f+P)/(T+A))):0;return Math.sqrt(g)/2*(f*P-T*A+V)};h.getQuadraticArcLength=R;function B(p,y,S){const x=D(1,S,p),C=D(1,S,y),F=x*x+C*C;return Math.sqrt(F)}const D=(p,y,S)=>{const x=S.length-1;let C,F;if(x===0)return 0;if(p===0){F=0;for(let w=0;w<=x;w++)F+=h.binomialCoefficients[x][w]*Math.pow(1-y,x-w)*Math.pow(y,w)*S[w];return F}else{C=new Array(x);for(let w=0;w<x;w++)C[w]=x*(S[w+1]-S[w]);return D(p-1,y,C)}},k=(p,y,S)=>{let x=1,C=p/y,F=(p-S(C))/y,w=0;for(;x>.001;){const g=S(C+F),v=Math.abs(p-g)/y;if(v<x)x=v,C+=F;else{const E=S(C-F),T=Math.abs(p-E)/y;T<x?(x=T,C-=F):F/=2}if(w++,w>500)break}return C};h.t2length=k})(Vd)),Vd}var dh;function tf(){if(dh)return Ya;dh=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.Path=void 0;const h=Je(),_=qe(),R=_n(),B=n1();let D=class dr extends R.Shape{constructor(p){super(p),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=dr.parsePathData(this.data()),this.pathLength=dr.getPathLength(this.dataArray)}_sceneFunc(p){const y=this.dataArray;p.beginPath();let S=!1;for(let x=0;x<y.length;x++){const C=y[x].command,F=y[x].points;switch(C){case"L":p.lineTo(F[0],F[1]);break;case"M":p.moveTo(F[0],F[1]);break;case"C":p.bezierCurveTo(F[0],F[1],F[2],F[3],F[4],F[5]);break;case"Q":p.quadraticCurveTo(F[0],F[1],F[2],F[3]);break;case"A":const w=F[0],g=F[1],v=F[2],E=F[3],T=F[4],I=F[5],f=F[6],c=F[7],P=v>E?v:E,A=v>E?1:v/E,V=v>E?E/v:1;p.translate(w,g),p.rotate(f),p.scale(A,V),p.arc(0,0,P,T,T+I,1-c),p.scale(1/A,1/V),p.rotate(-f),p.translate(-w,-g);break;case"z":S=!0,p.closePath();break}}!S&&!this.hasFill()?p.strokeShape(this):p.fillStrokeShape(this)}getSelfRect(){let p=[];this.dataArray.forEach(function(g){if(g.command==="A"){const v=g.points[4],E=g.points[5],T=g.points[4]+E;let I=Math.PI/180;if(Math.abs(v-T)<I&&(I=Math.abs(v-T)),E<0)for(let f=v-I;f>T;f-=I){const c=dr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],f,0);p.push(c.x,c.y)}else for(let f=v+I;f<T;f+=I){const c=dr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],f,0);p.push(c.x,c.y)}}else if(g.command==="C")for(let v=0;v<=1;v+=.01){const E=dr.getPointOnCubicBezier(v,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);p.push(E.x,E.y)}else p=p.concat(g.points)});let y=p[0],S=p[0],x=p[1],C=p[1],F,w;for(let g=0;g<p.length/2;g++)F=p[g*2],w=p[g*2+1],isNaN(F)||(y=Math.min(y,F),S=Math.max(S,F)),isNaN(w)||(x=Math.min(x,w),C=Math.max(C,w));return{x:y,y:x,width:S-y,height:C-x}}getLength(){return this.pathLength}getPointAtLength(p){return dr.getPointAtLengthOfDataArray(p,this.dataArray)}static getLineLength(p,y,S,x){return Math.sqrt((S-p)*(S-p)+(x-y)*(x-y))}static getPathLength(p){let y=0;for(let S=0;S<p.length;++S)y+=p[S].pathLength;return y}static getPointAtLengthOfDataArray(p,y){let S,x=0,C=y.length;if(!C)return null;for(;x<C&&p>y[x].pathLength;)p-=y[x].pathLength,++x;if(x===C)return S=y[x-1].points.slice(-2),{x:S[0],y:S[1]};if(p<.01)return y[x].command==="M"?(S=y[x].points.slice(0,2),{x:S[0],y:S[1]}):{x:y[x].start.x,y:y[x].start.y};const F=y[x],w=F.points;switch(F.command){case"L":return dr.getPointOnLine(p,F.start.x,F.start.y,w[0],w[1]);case"C":return dr.getPointOnCubicBezier((0,B.t2length)(p,dr.getPathLength(y),P=>(0,B.getCubicArcLength)([F.start.x,w[0],w[2],w[4]],[F.start.y,w[1],w[3],w[5]],P)),F.start.x,F.start.y,w[0],w[1],w[2],w[3],w[4],w[5]);case"Q":return dr.getPointOnQuadraticBezier((0,B.t2length)(p,dr.getPathLength(y),P=>(0,B.getQuadraticArcLength)([F.start.x,w[0],w[2]],[F.start.y,w[1],w[3]],P)),F.start.x,F.start.y,w[0],w[1],w[2],w[3]);case"A":const g=w[0],v=w[1],E=w[2],T=w[3],I=w[5],f=w[6];let c=w[4];return c+=I*p/F.pathLength,dr.getPointOnEllipticalArc(g,v,E,T,c,f)}return null}static getPointOnLine(p,y,S,x,C,F,w){F=F??y,w=w??S;const g=this.getLineLength(y,S,x,C);if(g<1e-10)return{x:y,y:S};if(x===y)return{x:F,y:w+(C>S?p:-p)};const v=(C-S)/(x-y),E=Math.sqrt(p*p/(1+v*v))*(x<y?-1:1),T=v*E;if(Math.abs(w-S-v*(F-y))<1e-10)return{x:F+E,y:w+T};const I=((F-y)*(x-y)+(w-S)*(C-S))/(g*g),f=y+I*(x-y),c=S+I*(C-S),P=this.getLineLength(F,w,f,c),A=Math.sqrt(p*p-P*P),V=Math.sqrt(A*A/(1+v*v))*(x<y?-1:1),X=v*V;return{x:f+V,y:c+X}}static getPointOnCubicBezier(p,y,S,x,C,F,w,g,v){function E(A){return A*A*A}function T(A){return 3*A*A*(1-A)}function I(A){return 3*A*(1-A)*(1-A)}function f(A){return(1-A)*(1-A)*(1-A)}const c=g*E(p)+F*T(p)+x*I(p)+y*f(p),P=v*E(p)+w*T(p)+C*I(p)+S*f(p);return{x:c,y:P}}static getPointOnQuadraticBezier(p,y,S,x,C,F,w){function g(f){return f*f}function v(f){return 2*f*(1-f)}function E(f){return(1-f)*(1-f)}const T=F*g(p)+x*v(p)+y*E(p),I=w*g(p)+C*v(p)+S*E(p);return{x:T,y:I}}static getPointOnEllipticalArc(p,y,S,x,C,F){const w=Math.cos(F),g=Math.sin(F),v={x:S*Math.cos(C),y:x*Math.sin(C)};return{x:p+(v.x*w-v.y*g),y:y+(v.x*g+v.y*w)}}static parsePathData(p){if(!p)return[];let y=p;const S=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];y=y.replace(new RegExp(" ","g"),",");for(let T=0;T<S.length;T++)y=y.replace(new RegExp(S[T],"g"),"|"+S[T]);const x=y.split("|"),C=[],F=[];let w=0,g=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let E;for(let T=1;T<x.length;T++){let I=x[T],f=I.charAt(0);for(I=I.slice(1),F.length=0;E=v.exec(I);)F.push(E[0]);const c=[];for(let P=0,A=F.length;P<A;P++){if(F[P]==="00"){c.push(0,0);continue}const V=parseFloat(F[P]);isNaN(V)?c.push(0):c.push(V)}for(;c.length>0&&!isNaN(c[0]);){let P="",A=[];const V=w,X=g;let z,U,G,q,J,ee,re,Q,ge,N;switch(f){case"l":w+=c.shift(),g+=c.shift(),P="L",A.push(w,g);break;case"L":w=c.shift(),g=c.shift(),A.push(w,g);break;case"m":const L=c.shift(),H=c.shift();if(w+=L,g+=H,P="M",C.length>2&&C[C.length-1].command==="z"){for(let j=C.length-2;j>=0;j--)if(C[j].command==="M"){w=C[j].points[0]+L,g=C[j].points[1]+H;break}}A.push(w,g),f="l";break;case"M":w=c.shift(),g=c.shift(),P="M",A.push(w,g),f="L";break;case"h":w+=c.shift(),P="L",A.push(w,g);break;case"H":w=c.shift(),P="L",A.push(w,g);break;case"v":g+=c.shift(),P="L",A.push(w,g);break;case"V":g=c.shift(),P="L",A.push(w,g);break;case"C":A.push(c.shift(),c.shift(),c.shift(),c.shift()),w=c.shift(),g=c.shift(),A.push(w,g);break;case"c":A.push(w+c.shift(),g+c.shift(),w+c.shift(),g+c.shift()),w+=c.shift(),g+=c.shift(),P="C",A.push(w,g);break;case"S":U=w,G=g,z=C[C.length-1],z.command==="C"&&(U=w+(w-z.points[2]),G=g+(g-z.points[3])),A.push(U,G,c.shift(),c.shift()),w=c.shift(),g=c.shift(),P="C",A.push(w,g);break;case"s":U=w,G=g,z=C[C.length-1],z.command==="C"&&(U=w+(w-z.points[2]),G=g+(g-z.points[3])),A.push(U,G,w+c.shift(),g+c.shift()),w+=c.shift(),g+=c.shift(),P="C",A.push(w,g);break;case"Q":A.push(c.shift(),c.shift()),w=c.shift(),g=c.shift(),A.push(w,g);break;case"q":A.push(w+c.shift(),g+c.shift()),w+=c.shift(),g+=c.shift(),P="Q",A.push(w,g);break;case"T":U=w,G=g,z=C[C.length-1],z.command==="Q"&&(U=w+(w-z.points[0]),G=g+(g-z.points[1])),w=c.shift(),g=c.shift(),P="Q",A.push(U,G,w,g);break;case"t":U=w,G=g,z=C[C.length-1],z.command==="Q"&&(U=w+(w-z.points[0]),G=g+(g-z.points[1])),w+=c.shift(),g+=c.shift(),P="Q",A.push(U,G,w,g);break;case"A":q=c.shift(),J=c.shift(),ee=c.shift(),re=c.shift(),Q=c.shift(),ge=w,N=g,w=c.shift(),g=c.shift(),P="A",A=this.convertEndpointToCenterParameterization(ge,N,w,g,re,Q,q,J,ee);break;case"a":q=c.shift(),J=c.shift(),ee=c.shift(),re=c.shift(),Q=c.shift(),ge=w,N=g,w+=c.shift(),g+=c.shift(),P="A",A=this.convertEndpointToCenterParameterization(ge,N,w,g,re,Q,q,J,ee);break}C.push({command:P||f,points:A,start:{x:V,y:X},pathLength:this.calcLength(V,X,P||f,A)})}(f==="z"||f==="Z")&&C.push({command:"z",points:[],start:void 0,pathLength:0})}return C}static calcLength(p,y,S,x){let C,F,w,g;const v=dr;switch(S){case"L":return v.getLineLength(p,y,x[0],x[1]);case"C":return(0,B.getCubicArcLength)([p,x[0],x[2],x[4]],[y,x[1],x[3],x[5]],1);case"Q":return(0,B.getQuadraticArcLength)([p,x[0],x[2]],[y,x[1],x[3]],1);case"A":C=0;const E=x[4],T=x[5],I=x[4]+T;let f=Math.PI/180;if(Math.abs(E-I)<f&&(f=Math.abs(E-I)),F=v.getPointOnEllipticalArc(x[0],x[1],x[2],x[3],E,0),T<0)for(g=E-f;g>I;g-=f)w=v.getPointOnEllipticalArc(x[0],x[1],x[2],x[3],g,0),C+=v.getLineLength(F.x,F.y,w.x,w.y),F=w;else for(g=E+f;g<I;g+=f)w=v.getPointOnEllipticalArc(x[0],x[1],x[2],x[3],g,0),C+=v.getLineLength(F.x,F.y,w.x,w.y),F=w;return w=v.getPointOnEllipticalArc(x[0],x[1],x[2],x[3],I,0),C+=v.getLineLength(F.x,F.y,w.x,w.y),C}return 0}static convertEndpointToCenterParameterization(p,y,S,x,C,F,w,g,v){const E=v*(Math.PI/180),T=Math.cos(E)*(p-S)/2+Math.sin(E)*(y-x)/2,I=-1*Math.sin(E)*(p-S)/2+Math.cos(E)*(y-x)/2,f=T*T/(w*w)+I*I/(g*g);f>1&&(w*=Math.sqrt(f),g*=Math.sqrt(f));let c=Math.sqrt((w*w*(g*g)-w*w*(I*I)-g*g*(T*T))/(w*w*(I*I)+g*g*(T*T)));C===F&&(c*=-1),isNaN(c)&&(c=0);const P=c*w*I/g,A=c*-g*T/w,V=(p+S)/2+Math.cos(E)*P-Math.sin(E)*A,X=(y+x)/2+Math.sin(E)*P+Math.cos(E)*A,z=function(Q){return Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1])},U=function(Q,ge){return(Q[0]*ge[0]+Q[1]*ge[1])/(z(Q)*z(ge))},G=function(Q,ge){return(Q[0]*ge[1]<Q[1]*ge[0]?-1:1)*Math.acos(U(Q,ge))},q=G([1,0],[(T-P)/w,(I-A)/g]),J=[(T-P)/w,(I-A)/g],ee=[(-1*T-P)/w,(-1*I-A)/g];let re=G(J,ee);return U(J,ee)<=-1&&(re=Math.PI),U(J,ee)>=1&&(re=0),F===0&&re>0&&(re=re-2*Math.PI),F===1&&re<0&&(re=re+2*Math.PI),[V,X,w,g,q,re,E,F]}};return Ya.Path=D,D.prototype.className="Path",D.prototype._attrsAffectingSize=["data"],(0,_._registerNode)(D),h.Factory.addGetterSetter(D,"data"),Ya}var fh;function r1(){if(fh)return qa;fh=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Arrow=void 0;const h=Je(),_=c0(),R=$e(),B=qe(),D=tf();let k=class extends _.Line{_sceneFunc(y){super._sceneFunc(y);const S=Math.PI*2,x=this.points();let C=x;const F=this.tension()!==0&&x.length>4;F&&(C=this.getTensionPoints());const w=this.pointerLength(),g=x.length;let v,E;if(F){const f=[C[C.length-4],C[C.length-3],C[C.length-2],C[C.length-1],x[g-2],x[g-1]],c=D.Path.calcLength(C[C.length-4],C[C.length-3],"C",f),P=D.Path.getPointOnQuadraticBezier(Math.min(1,1-w/c),f[0],f[1],f[2],f[3],f[4],f[5]);v=x[g-2]-P.x,E=x[g-1]-P.y}else v=x[g-2]-x[g-4],E=x[g-1]-x[g-3];const T=(Math.atan2(E,v)+S)%S,I=this.pointerWidth();this.pointerAtEnding()&&(y.save(),y.beginPath(),y.translate(x[g-2],x[g-1]),y.rotate(T),y.moveTo(0,0),y.lineTo(-w,I/2),y.lineTo(-w,-I/2),y.closePath(),y.restore(),this.__fillStroke(y)),this.pointerAtBeginning()&&(y.save(),y.beginPath(),y.translate(x[0],x[1]),F?(v=(C[0]+C[2])/2-x[0],E=(C[1]+C[3])/2-x[1]):(v=x[2]-x[0],E=x[3]-x[1]),y.rotate((Math.atan2(-E,-v)+S)%S),y.moveTo(0,0),y.lineTo(-w,I/2),y.lineTo(-w,-I/2),y.closePath(),y.restore(),this.__fillStroke(y))}__fillStroke(y){const S=this.dashEnabled();S&&(this.attrs.dashEnabled=!1,y.setLineDash([])),y.fillStrokeShape(this),S&&(this.attrs.dashEnabled=!0)}getSelfRect(){const y=super.getSelfRect(),S=this.pointerWidth()/2;return{x:y.x,y:y.y-S,width:y.width,height:y.height+S*2}}};return qa.Arrow=k,k.prototype.className="Arrow",(0,B._registerNode)(k),h.Factory.addGetterSetter(k,"pointerLength",10,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(k,"pointerWidth",10,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(k,"pointerAtBeginning",!1),h.Factory.addGetterSetter(k,"pointerAtEnding",!0),qa}var Xa={},hh;function i1(){if(hh)return Xa;hh=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Circle=void 0;const h=Je(),_=_n(),R=$e(),B=qe();let D=class extends _.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius()!==p/2&&this.radius(p/2)}setHeight(p){this.radius()!==p/2&&this.radius(p/2)}};return Xa.Circle=D,D.prototype._centroid=!0,D.prototype.className="Circle",D.prototype._attrsAffectingSize=["radius"],(0,B._registerNode)(D),h.Factory.addGetterSetter(D,"radius",0,(0,R.getNumberValidator)()),Xa}var Qa={},ph;function s1(){if(ph)return Qa;ph=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Ellipse=void 0;const h=Je(),_=_n(),R=$e(),B=qe();let D=class extends _.Shape{_sceneFunc(p){const y=this.radiusX(),S=this.radiusY();p.beginPath(),p.save(),y!==S&&p.scale(1,S/y),p.arc(0,0,y,0,Math.PI*2,!1),p.restore(),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(p){this.radiusX(p/2)}setHeight(p){this.radiusY(p/2)}};return Qa.Ellipse=D,D.prototype.className="Ellipse",D.prototype._centroid=!0,D.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,B._registerNode)(D),h.Factory.addComponentsGetterSetter(D,"radius",["x","y"]),h.Factory.addGetterSetter(D,"radiusX",0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(D,"radiusY",0,(0,R.getNumberValidator)()),Qa}var Ja={},gh;function o1(){if(gh)return Ja;gh=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.Image=void 0;const h=Gt(),_=Je(),R=_n(),B=qe(),D=$e();class k extends R.Shape{constructor(y){super(y),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",S=>{this._removeImageLoad(S.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const y=this.image();y&&y.complete||y&&y.readyState===4||y&&y.addEventListener&&y.addEventListener("load",this._loadListener)}_removeImageLoad(y){y&&y.removeEventListener&&y.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const y=!!this.cornerRadius(),S=this.hasShadow();return y&&S?!0:super._useBufferCanvas(!0)}_sceneFunc(y){const S=this.getWidth(),x=this.getHeight(),C=this.cornerRadius(),F=this.attrs.image;let w;if(F){const g=this.attrs.cropWidth,v=this.attrs.cropHeight;g&&v?w=[F,this.cropX(),this.cropY(),g,v,0,0,S,x]:w=[F,0,0,S,x]}(this.hasFill()||this.hasStroke()||C)&&(y.beginPath(),C?h.Util.drawRoundedRectPath(y,S,x,C):y.rect(0,0,S,x),y.closePath(),y.fillStrokeShape(this)),F&&(C&&y.clip(),y.drawImage.apply(y,w))}_hitFunc(y){const S=this.width(),x=this.height(),C=this.cornerRadius();y.beginPath(),C?h.Util.drawRoundedRectPath(y,S,x,C):y.rect(0,0,S,x),y.closePath(),y.fillStrokeShape(this)}getWidth(){var y,S;return(y=this.attrs.width)!==null&&y!==void 0?y:(S=this.image())===null||S===void 0?void 0:S.width}getHeight(){var y,S;return(y=this.attrs.height)!==null&&y!==void 0?y:(S=this.image())===null||S===void 0?void 0:S.height}static fromURL(y,S,x=null){const C=h.Util.createImageElement();C.onload=function(){const F=new k({image:C});S(F)},C.onerror=x,C.crossOrigin="Anonymous",C.src=y}}return Ja.Image=k,k.prototype.className="Image",(0,B._registerNode)(k),_.Factory.addGetterSetter(k,"cornerRadius",0,(0,D.getNumberOrArrayOfNumbersValidator)(4)),_.Factory.addGetterSetter(k,"image"),_.Factory.addComponentsGetterSetter(k,"crop",["x","y","width","height"]),_.Factory.addGetterSetter(k,"cropX",0,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(k,"cropY",0,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(k,"cropWidth",0,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(k,"cropHeight",0,(0,D.getNumberValidator)()),Ja}var Lo={},mh;function l1(){if(mh)return Lo;mh=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Tag=Lo.Label=void 0;const h=Je(),_=_n(),R=$d(),B=$e(),D=qe(),k=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],p="Change.konva",y="none",S="up",x="right",C="down",F="left",w=k.length;let g=class extends R.Group{constructor(T){super(T),this.on("add.konva",function(I){this._addListeners(I.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(T){let I=this,f;const c=function(){I._sync()};for(f=0;f<w;f++)T.on(k[f]+p,c)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let T=this.getText(),I=this.getTag(),f,c,P,A,V,X,z;if(T&&I){switch(f=T.width(),c=T.height(),P=I.pointerDirection(),A=I.pointerWidth(),z=I.pointerHeight(),V=0,X=0,P){case S:V=f/2,X=-1*z;break;case x:V=f+A,X=c/2;break;case C:V=f/2,X=c+z;break;case F:V=-1*A,X=c/2;break}I.setAttrs({x:-1*V,y:-1*X,width:f,height:c}),T.setAttrs({x:-1*V,y:-1*X})}}};Lo.Label=g,g.prototype.className="Label",(0,D._registerNode)(g);class v extends _.Shape{_sceneFunc(T){const I=this.width(),f=this.height(),c=this.pointerDirection(),P=this.pointerWidth(),A=this.pointerHeight(),V=this.cornerRadius();let X=0,z=0,U=0,G=0;typeof V=="number"?X=z=U=G=Math.min(V,I/2,f/2):(X=Math.min(V[0]||0,I/2,f/2),z=Math.min(V[1]||0,I/2,f/2),G=Math.min(V[2]||0,I/2,f/2),U=Math.min(V[3]||0,I/2,f/2)),T.beginPath(),T.moveTo(X,0),c===S&&(T.lineTo((I-P)/2,0),T.lineTo(I/2,-1*A),T.lineTo((I+P)/2,0)),T.lineTo(I-z,0),T.arc(I-z,z,z,Math.PI*3/2,0,!1),c===x&&(T.lineTo(I,(f-A)/2),T.lineTo(I+P,f/2),T.lineTo(I,(f+A)/2)),T.lineTo(I,f-G),T.arc(I-G,f-G,G,0,Math.PI/2,!1),c===C&&(T.lineTo((I+P)/2,f),T.lineTo(I/2,f+A),T.lineTo((I-P)/2,f)),T.lineTo(U,f),T.arc(U,f-U,U,Math.PI/2,Math.PI,!1),c===F&&(T.lineTo(0,(f+A)/2),T.lineTo(-1*P,f/2),T.lineTo(0,(f-A)/2)),T.lineTo(0,X),T.arc(X,X,X,Math.PI,Math.PI*3/2,!1),T.closePath(),T.fillStrokeShape(this)}getSelfRect(){let T=0,I=0,f=this.pointerWidth(),c=this.pointerHeight(),P=this.pointerDirection(),A=this.width(),V=this.height();return P===S?(I-=c,V+=c):P===C?V+=c:P===F?(T-=f*1.5,A+=f):P===x&&(A+=f*1.5),{x:T,y:I,width:A,height:V}}}return Lo.Tag=v,v.prototype.className="Tag",(0,D._registerNode)(v),h.Factory.addGetterSetter(v,"pointerDirection",y),h.Factory.addGetterSetter(v,"pointerWidth",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(v,"pointerHeight",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(v,"cornerRadius",0,(0,B.getNumberOrArrayOfNumbersValidator)(4)),Lo}var Za={},vh;function d0(){if(vh)return Za;vh=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.Rect=void 0;const h=Je(),_=_n(),R=qe(),B=Gt(),D=$e();let k=class extends _.Shape{_sceneFunc(y){const S=this.cornerRadius(),x=this.width(),C=this.height();y.beginPath(),S?B.Util.drawRoundedRectPath(y,x,C,S):y.rect(0,0,x,C),y.closePath(),y.fillStrokeShape(this)}};return Za.Rect=k,k.prototype.className="Rect",(0,R._registerNode)(k),h.Factory.addGetterSetter(k,"cornerRadius",0,(0,D.getNumberOrArrayOfNumbersValidator)(4)),Za}var $a={},yh;function a1(){if(yh)return $a;yh=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.RegularPolygon=void 0;const h=Je(),_=_n(),R=$e(),B=qe();let D=class extends _.Shape{_sceneFunc(p){const y=this._getPoints();p.beginPath(),p.moveTo(y[0].x,y[0].y);for(let S=1;S<y.length;S++)p.lineTo(y[S].x,y[S].y);p.closePath(),p.fillStrokeShape(this)}_getPoints(){const p=this.attrs.sides,y=this.attrs.radius||0,S=[];for(let x=0;x<p;x++)S.push({x:y*Math.sin(x*2*Math.PI/p),y:-1*y*Math.cos(x*2*Math.PI/p)});return S}getSelfRect(){const p=this._getPoints();let y=p[0].x,S=p[0].y,x=p[0].x,C=p[0].y;return p.forEach(F=>{y=Math.min(y,F.x),S=Math.max(S,F.x),x=Math.min(x,F.y),C=Math.max(C,F.y)}),{x:y,y:x,width:S-y,height:C-x}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return $a.RegularPolygon=D,D.prototype.className="RegularPolygon",D.prototype._centroid=!0,D.prototype._attrsAffectingSize=["radius"],(0,B._registerNode)(D),h.Factory.addGetterSetter(D,"radius",0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(D,"sides",0,(0,R.getNumberValidator)()),$a}var eu={},_h;function u1(){if(_h)return eu;_h=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.Ring=void 0;const h=Je(),_=_n(),R=$e(),B=qe(),D=Math.PI*2;let k=class extends _.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.innerRadius(),0,D,!1),y.moveTo(this.outerRadius(),0),y.arc(0,0,this.outerRadius(),D,0,!0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}};return eu.Ring=k,k.prototype.className="Ring",k.prototype._centroid=!0,k.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,B._registerNode)(k),h.Factory.addGetterSetter(k,"innerRadius",0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(k,"outerRadius",0,(0,R.getNumberValidator)()),eu}var tu={},Sh;function c1(){if(Sh)return tu;Sh=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.Sprite=void 0;const h=Je(),_=_n(),R=ef(),B=$e(),D=qe();let k=class extends _.Shape{constructor(y){super(y),this._updated=!0,this.anim=new R.Animation(()=>{const S=this._updated;return this._updated=!1,S}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(y){const S=this.animation(),x=this.frameIndex(),C=x*4,F=this.animations()[S],w=this.frameOffsets(),g=F[C+0],v=F[C+1],E=F[C+2],T=F[C+3],I=this.image();if((this.hasFill()||this.hasStroke())&&(y.beginPath(),y.rect(0,0,E,T),y.closePath(),y.fillStrokeShape(this)),I)if(w){const f=w[S],c=x*2;y.drawImage(I,g,v,E,T,f[c+0],f[c+1],E,T)}else y.drawImage(I,g,v,E,T,0,0,E,T)}_hitFunc(y){const S=this.animation(),x=this.frameIndex(),C=x*4,F=this.animations()[S],w=this.frameOffsets(),g=F[C+2],v=F[C+3];if(y.beginPath(),w){const E=w[S],T=x*2;y.rect(E[T+0],E[T+1],g,v)}else y.rect(0,0,g,v);y.closePath(),y.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const y=this;this.interval=setInterval(function(){y._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const y=this.getLayer();this.anim.setLayers(y),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const y=this.frameIndex(),S=this.animation(),x=this.animations(),C=x[S],F=C.length/4;y<F-1?this.frameIndex(y+1):this.frameIndex(0)}};return tu.Sprite=k,k.prototype.className="Sprite",(0,D._registerNode)(k),h.Factory.addGetterSetter(k,"animation"),h.Factory.addGetterSetter(k,"animations"),h.Factory.addGetterSetter(k,"frameOffsets"),h.Factory.addGetterSetter(k,"image"),h.Factory.addGetterSetter(k,"frameIndex",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"frameRate",17,(0,B.getNumberValidator)()),h.Factory.backCompat(k,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),tu}var nu={},wh;function d1(){if(wh)return nu;wh=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.Star=void 0;const h=Je(),_=_n(),R=$e(),B=qe();let D=class extends _.Shape{_sceneFunc(p){const y=this.innerRadius(),S=this.outerRadius(),x=this.numPoints();p.beginPath(),p.moveTo(0,0-S);for(let C=1;C<x*2;C++){const F=C%2===0?S:y,w=F*Math.sin(C*Math.PI/x),g=-1*F*Math.cos(C*Math.PI/x);p.lineTo(w,g)}p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return nu.Star=D,D.prototype.className="Star",D.prototype._centroid=!0,D.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,B._registerNode)(D),h.Factory.addGetterSetter(D,"numPoints",5,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(D,"innerRadius",0,(0,R.getNumberValidator)()),h.Factory.addGetterSetter(D,"outerRadius",0,(0,R.getNumberValidator)()),nu}var Dl={},xh;function f0(){if(xh)return Dl;xh=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.Text=void 0,Dl.stringToArray=p;const h=Gt(),_=Je(),R=_n(),B=qe(),D=$e(),k=qe();function p(Y){return[...Y].reduce((Z,de,me,oe)=>{if(new RegExp("\\p{Emoji}","u").test(de)){const W=oe[me+1];W&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(W)?(Z.push(de+W),oe[me+1]=""):Z.push(de)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(de+(oe[me+1]||""))?Z.push(de+oe[me+1]):me>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(de)?Z[Z.length-1]+=de:de&&Z.push(de);return Z},[])}const y="auto",S="center",x="inherit",C="justify",F="Change.konva",w="2d",g="-",v="left",E="text",T="Text",I="top",f="bottom",c="middle",P="normal",A="px ",V=" ",X="right",z="rtl",U="word",G="char",q="none",J="",ee=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],re=ee.length;function Q(Y){return Y.split(",").map(Z=>{Z=Z.trim();const de=Z.indexOf(" ")>=0,me=Z.indexOf('"')>=0||Z.indexOf("'")>=0;return de&&!me&&(Z=`"${Z}"`),Z}).join(", ")}let ge;function N(){return ge||(ge=h.Util.createCanvasElement().getContext(w),ge)}function L(Y){Y.fillText(this._partialText,this._partialTextX,this._partialTextY)}function H(Y){Y.setAttr("miterLimit",2),Y.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function j(Y){return Y=Y||{},!Y.fillLinearGradientColorStops&&!Y.fillRadialGradientColorStops&&!Y.fillPatternImage&&(Y.fill=Y.fill||"black"),Y}let M=class extends R.Shape{constructor(Z){super(j(Z)),this._partialTextX=0,this._partialTextY=0;for(let de=0;de<re;de++)this.on(ee[de]+F,this._setTextData);this._setTextData()}_sceneFunc(Z){const de=this.textArr,me=de.length;if(!this.text())return;let oe=this.padding(),W=this.fontSize(),ie=this.lineHeight()*W,ve=this.verticalAlign(),xe=this.direction(),Ee=0,ze=this.align(),De=this.getWidth(),et=this.letterSpacing(),je=this.fill(),Lt=this.textDecoration(),nt=Lt.indexOf("underline")!==-1,_t=Lt.indexOf("line-through")!==-1,Sr;xe=xe===x?Z.direction:xe;let Et=ie/2,$n=c;if(B.Konva._fixTextRendering){const lt=this.measureSize("M");$n="alphabetic",Et=(lt.fontBoundingBoxAscent-lt.fontBoundingBoxDescent)/2+ie/2}for(xe===z&&Z.setAttr("direction",xe),Z.setAttr("font",this._getContextFont()),Z.setAttr("textBaseline",$n),Z.setAttr("textAlign",v),ve===c?Ee=(this.getHeight()-me*ie-oe*2)/2:ve===f&&(Ee=this.getHeight()-me*ie-oe*2),Z.translate(oe,Ee+oe),Sr=0;Sr<me;Sr++){let lt=0,Fn=0;const $t=de[Sr],wr=$t.text,en=$t.width,er=$t.lastInParagraph;if(Z.save(),ze===X?lt+=De-en-oe*2:ze===S&&(lt+=(De-en-oe*2)/2),nt){Z.save(),Z.beginPath();const un=B.Konva._fixTextRendering?Math.round(W/4):Math.round(W/2),Un=lt,Mt=Et+Fn+un;Z.moveTo(Un,Mt);const At=ze===C&&!er?De-oe*2:en;Z.lineTo(Un+Math.round(At),Mt),Z.lineWidth=W/15;const wi=this._getLinearGradient();Z.strokeStyle=wi||je,Z.stroke(),Z.restore()}if(_t){Z.save(),Z.beginPath();const un=B.Konva._fixTextRendering?-Math.round(W/4):0;Z.moveTo(lt,Et+Fn+un);const Un=ze===C&&!er?De-oe*2:en;Z.lineTo(lt+Math.round(Un),Et+Fn+un),Z.lineWidth=W/15;const Mt=this._getLinearGradient();Z.strokeStyle=Mt||je,Z.stroke(),Z.restore()}if(xe!==z&&(et!==0||ze===C)){const un=wr.split(" ").length-1,Un=p(wr);for(let Mt=0;Mt<Un.length;Mt++){const At=Un[Mt];At===" "&&!er&&ze===C&&(lt+=(De-oe*2-en)/un),this._partialTextX=lt,this._partialTextY=Et+Fn,this._partialText=At,Z.fillStrokeShape(this),lt+=this.measureSize(At).width+et}}else et!==0&&Z.setAttr("letterSpacing",`${et}px`),this._partialTextX=lt,this._partialTextY=Et+Fn,this._partialText=wr,Z.fillStrokeShape(this);Z.restore(),me>1&&(Et+=ie)}}_hitFunc(Z){const de=this.getWidth(),me=this.getHeight();Z.beginPath(),Z.rect(0,0,de,me),Z.closePath(),Z.fillStrokeShape(this)}setText(Z){const de=h.Util._isString(Z)?Z:Z==null?"":Z+"";return this._setAttr(E,de),this}getWidth(){return this.attrs.width===y||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===y||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return h.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(Z){var de,me,oe,W,ie,ve,xe,Ee,ze,De,et;let je=N(),Lt=this.fontSize(),nt;je.save(),je.font=this._getContextFont(),nt=je.measureText(Z),je.restore();const _t=Lt/100;return{actualBoundingBoxAscent:(de=nt.actualBoundingBoxAscent)!==null&&de!==void 0?de:71.58203125*_t,actualBoundingBoxDescent:(me=nt.actualBoundingBoxDescent)!==null&&me!==void 0?me:0,actualBoundingBoxLeft:(oe=nt.actualBoundingBoxLeft)!==null&&oe!==void 0?oe:-7.421875*_t,actualBoundingBoxRight:(W=nt.actualBoundingBoxRight)!==null&&W!==void 0?W:75.732421875*_t,alphabeticBaseline:(ie=nt.alphabeticBaseline)!==null&&ie!==void 0?ie:0,emHeightAscent:(ve=nt.emHeightAscent)!==null&&ve!==void 0?ve:100*_t,emHeightDescent:(xe=nt.emHeightDescent)!==null&&xe!==void 0?xe:-20*_t,fontBoundingBoxAscent:(Ee=nt.fontBoundingBoxAscent)!==null&&Ee!==void 0?Ee:91*_t,fontBoundingBoxDescent:(ze=nt.fontBoundingBoxDescent)!==null&&ze!==void 0?ze:21*_t,hangingBaseline:(De=nt.hangingBaseline)!==null&&De!==void 0?De:72.80000305175781*_t,ideographicBaseline:(et=nt.ideographicBaseline)!==null&&et!==void 0?et:-21*_t,width:nt.width,height:Lt}}_getContextFont(){return this.fontStyle()+V+this.fontVariant()+V+(this.fontSize()+A)+Q(this.fontFamily())}_addTextLine(Z){this.align()===C&&(Z=Z.trim());const me=this._getTextWidth(Z);return this.textArr.push({text:Z,width:me,lastInParagraph:!1})}_getTextWidth(Z){const de=this.letterSpacing(),me=Z.length;return N().measureText(Z).width+de*me}_setTextData(){let Z=this.text().split(`
`),de=+this.fontSize(),me=0,oe=this.lineHeight()*de,W=this.attrs.width,ie=this.attrs.height,ve=W!==y&&W!==void 0,xe=ie!==y&&ie!==void 0,Ee=this.padding(),ze=W-Ee*2,De=ie-Ee*2,et=0,je=this.wrap(),Lt=je!==q,nt=je!==G&&Lt,_t=this.ellipsis();this.textArr=[],N().font=this._getContextFont();const Sr=_t?this._getTextWidth(J):0;for(let Et=0,$n=Z.length;Et<$n;++Et){let lt=Z[Et],Fn=this._getTextWidth(lt);if(ve&&Fn>ze)for(;lt.length>0;){let $t=0,wr=p(lt).length,en="",er=0;for(;$t<wr;){const un=$t+wr>>>1,Un=p(lt),Mt=Un.slice(0,un+1).join(""),At=this._getTextWidth(Mt);(_t&&xe&&et+oe>De?At+Sr:At)<=ze?($t=un+1,en=Mt,er=At):wr=un}if(en){if(nt){const Mt=p(lt),At=p(en),wi=Mt[At.length],Xs=wi===V||wi===g;let xi;if(Xs&&er<=ze)xi=At.length;else{const zl=At.lastIndexOf(V),Qs=At.lastIndexOf(g);xi=Math.max(zl,Qs)+1}xi>0&&($t=xi,en=Mt.slice(0,$t).join(""),er=this._getTextWidth(en))}if(en=en.trimRight(),this._addTextLine(en),me=Math.max(me,er),et+=oe,this._shouldHandleEllipsis(et)){this._tryToAddEllipsisToLastLine();break}if(lt=p(lt).slice($t).join("").trimLeft(),lt.length>0&&(Fn=this._getTextWidth(lt),Fn<=ze)){this._addTextLine(lt),et+=oe,me=Math.max(me,Fn);break}}else break}else this._addTextLine(lt),et+=oe,me=Math.max(me,Fn),this._shouldHandleEllipsis(et)&&Et<$n-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),xe&&et+oe>De)break}this.textHeight=de,this.textWidth=me}_shouldHandleEllipsis(Z){const de=+this.fontSize(),me=this.lineHeight()*de,oe=this.attrs.height,W=oe!==y&&oe!==void 0,ie=this.padding(),ve=oe-ie*2;return!(this.wrap()!==q)||W&&Z+me>ve}_tryToAddEllipsisToLastLine(){const Z=this.attrs.width,de=Z!==y&&Z!==void 0,me=this.padding(),oe=Z-me*2,W=this.ellipsis(),ie=this.textArr[this.textArr.length-1];!ie||!W||(de&&(this._getTextWidth(ie.text+J)<oe||(ie.text=ie.text.slice(0,ie.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ie.text+J))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const Z=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,de=this.hasShadow();return Z&&de?!0:super._useBufferCanvas()}};return Dl.Text=M,M.prototype._fillFunc=L,M.prototype._strokeFunc=H,M.prototype.className=T,M.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,k._registerNode)(M),_.Factory.overWriteSetter(M,"width",(0,D.getNumberOrAutoValidator)()),_.Factory.overWriteSetter(M,"height",(0,D.getNumberOrAutoValidator)()),_.Factory.addGetterSetter(M,"direction",x),_.Factory.addGetterSetter(M,"fontFamily","Arial"),_.Factory.addGetterSetter(M,"fontSize",12,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(M,"fontStyle",P),_.Factory.addGetterSetter(M,"fontVariant",P),_.Factory.addGetterSetter(M,"padding",0,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(M,"align",v),_.Factory.addGetterSetter(M,"verticalAlign",I),_.Factory.addGetterSetter(M,"lineHeight",1,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(M,"wrap",U),_.Factory.addGetterSetter(M,"ellipsis",!1,(0,D.getBooleanValidator)()),_.Factory.addGetterSetter(M,"letterSpacing",0,(0,D.getNumberValidator)()),_.Factory.addGetterSetter(M,"text","",(0,D.getStringValidator)()),_.Factory.addGetterSetter(M,"textDecoration",""),Dl}var ru={},Ch;function f1(){if(Ch)return ru;Ch=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.TextPath=void 0;const h=Gt(),_=Je(),R=_n(),B=tf(),D=f0(),k=$e(),p=qe(),y="",S="normal";function x(w){w.fillText(this.partialText,0,0)}function C(w){w.strokeText(this.partialText,0,0)}let F=class extends R.Shape{constructor(g){super(g),this.dummyCanvas=h.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return B.Path.getPathLength(this.dataArray)}_getPointAtLength(g){if(!this.attrs.data)return null;const v=this.pathLength;return g-1>v?null:B.Path.getPointAtLengthOfDataArray(g,this.dataArray)}_readDataAttribute(){this.dataArray=B.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(g){g.setAttr("font",this._getContextFont()),g.setAttr("textBaseline",this.textBaseline()),g.setAttr("textAlign","left"),g.save();const v=this.textDecoration(),E=this.fill(),T=this.fontSize(),I=this.glyphInfo;v==="underline"&&g.beginPath();for(let f=0;f<I.length;f++){g.save();const c=I[f].p0;g.translate(c.x,c.y),g.rotate(I[f].rotation),this.partialText=I[f].text,g.fillStrokeShape(this),v==="underline"&&(f===0&&g.moveTo(0,T/2+1),g.lineTo(T,T/2+1)),g.restore()}v==="underline"&&(g.strokeStyle=E,g.lineWidth=T/20,g.stroke()),g.restore()}_hitFunc(g){g.beginPath();const v=this.glyphInfo;if(v.length>=1){const E=v[0].p0;g.moveTo(E.x,E.y)}for(let E=0;E<v.length;E++){const T=v[E].p1;g.lineTo(T.x,T.y)}g.setAttr("lineWidth",this.fontSize()),g.setAttr("strokeStyle",this.colorKey),g.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return h.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(g){return D.Text.prototype.setText.call(this,g)}_getContextFont(){return D.Text.prototype._getContextFont.call(this)}_getTextSize(g){const E=this.dummyCanvas.getContext("2d");E.save(),E.font=this._getContextFont();const T=E.measureText(g);return E.restore(),{width:T.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:g,height:v}=this._getTextSize(this.attrs.text);if(this.textWidth=g,this.textHeight=v,this.glyphInfo=[],!this.attrs.data)return null;const E=this.letterSpacing(),T=this.align(),I=this.kerningFunc(),f=Math.max(this.textWidth+((this.attrs.text||"").length-1)*E,0);let c=0;T==="center"&&(c=Math.max(0,this.pathLength/2-f/2)),T==="right"&&(c=Math.max(0,this.pathLength-f));const P=(0,D.stringToArray)(this.text());let A=c;for(let V=0;V<P.length;V++){const X=this._getPointAtLength(A);if(!X)return;let z=this._getTextSize(P[V]).width+E;if(P[V]===" "&&T==="justify"){const re=this.text().split(" ").length-1;z+=(this.pathLength-f)/re}const U=this._getPointAtLength(A+z);if(!U)return;const G=B.Path.getLineLength(X.x,X.y,U.x,U.y);let q=0;if(I)try{q=I(P[V-1],P[V])*this.fontSize()}catch{q=0}X.x+=q,U.x+=q,this.textWidth+=q;const J=B.Path.getPointOnLine(q+G/2,X.x,X.y,U.x,U.y),ee=Math.atan2(U.y-X.y,U.x-X.x);this.glyphInfo.push({transposeX:J.x,transposeY:J.y,text:P[V],rotation:ee,p0:X,p1:U}),A+=z}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const g=[];this.glyphInfo.forEach(function(A){g.push(A.p0.x),g.push(A.p0.y),g.push(A.p1.x),g.push(A.p1.y)});let v=g[0]||0,E=g[0]||0,T=g[1]||0,I=g[1]||0,f,c;for(let A=0;A<g.length/2;A++)f=g[A*2],c=g[A*2+1],v=Math.min(v,f),E=Math.max(E,f),T=Math.min(T,c),I=Math.max(I,c);const P=this.fontSize();return{x:v-P/2,y:T-P/2,width:E-v+P,height:I-T+P}}destroy(){return h.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return ru.TextPath=F,F.prototype._fillFunc=x,F.prototype._strokeFunc=C,F.prototype._fillFuncHit=x,F.prototype._strokeFuncHit=C,F.prototype.className="TextPath",F.prototype._attrsAffectingSize=["text","fontSize","data"],(0,p._registerNode)(F),_.Factory.addGetterSetter(F,"data"),_.Factory.addGetterSetter(F,"fontFamily","Arial"),_.Factory.addGetterSetter(F,"fontSize",12,(0,k.getNumberValidator)()),_.Factory.addGetterSetter(F,"fontStyle",S),_.Factory.addGetterSetter(F,"align","left"),_.Factory.addGetterSetter(F,"letterSpacing",0,(0,k.getNumberValidator)()),_.Factory.addGetterSetter(F,"textBaseline","middle"),_.Factory.addGetterSetter(F,"fontVariant",S),_.Factory.addGetterSetter(F,"text",y),_.Factory.addGetterSetter(F,"textDecoration",""),_.Factory.addGetterSetter(F,"kerningFunc",void 0),ru}var iu={},kh;function h1(){if(kh)return iu;kh=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.Transformer=void 0;const h=Gt(),_=Je(),R=qt(),B=_n(),D=d0(),k=$d(),p=qe(),y=$e(),S=qe(),x="tr-konva",C=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(z=>z+`.${x}`).join(" "),F="nodesRect",w=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in p.Konva._global;function E(z,U,G){if(z==="rotater")return G;U+=h.Util.degToRad(g[z]||0);const q=(h.Util.radToDeg(U)%360+360)%360;return h.Util._inRange(q,315+22.5,360)||h.Util._inRange(q,0,22.5)?"ns-resize":h.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":h.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":h.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":h.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":h.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":h.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":h.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(h.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const T=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function I(z){return{x:z.x+z.width/2*Math.cos(z.rotation)+z.height/2*Math.sin(-z.rotation),y:z.y+z.height/2*Math.cos(z.rotation)+z.width/2*Math.sin(z.rotation)}}function f(z,U,G){const q=G.x+(z.x-G.x)*Math.cos(U)-(z.y-G.y)*Math.sin(U),J=G.y+(z.x-G.x)*Math.sin(U)+(z.y-G.y)*Math.cos(U);return{...z,rotation:z.rotation+U,x:q,y:J}}function c(z,U){const G=I(z);return f(z,U,G)}function P(z,U,G){let q=U;for(let J=0;J<z.length;J++){const ee=p.Konva.getAngle(z[J]),re=Math.abs(ee-U)%(Math.PI*2);Math.min(re,Math.PI*2-re)<G&&(q=ee)}return q}let A=0;class V extends k.Group{constructor(U){super(U),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(C,this.update),this.getNode()&&this.update()}attachTo(U){return this.setNode(U),this}setNode(U){return h.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([U])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return x+this._id}setNodes(U=[]){this._nodes&&this._nodes.length&&this.detach();const G=U.filter(J=>J.isAncestorOf(this)?(h.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=U=G,U.length===1&&this.useSingleNodeRotation()?this.rotation(U[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(J=>{const ee=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(J._attrsAffectingSize.length){const re=J._attrsAffectingSize.map(Q=>Q+"Change."+this._getEventNamespace()).join(" ");J.on(re,ee)}J.on(w.map(re=>re+`.${this._getEventNamespace()}`).join(" "),ee),J.on(`absoluteTransformChange.${this._getEventNamespace()}`,ee),this._proxyDrag(J)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(U){let G;U.on(`dragstart.${this._getEventNamespace()}`,q=>{G=U.getAbsolutePosition(),!this.isDragging()&&U!==this.findOne(".back")&&this.startDrag(q,!1)}),U.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!G)return;const J=U.getAbsolutePosition(),ee=J.x-G.x,re=J.y-G.y;this.nodes().forEach(Q=>{if(Q===U||Q.isDragging())return;const ge=Q.getAbsolutePosition();Q.setAbsolutePosition({x:ge.x+ee,y:ge.y+re}),Q.startDrag(q)}),G=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(U=>{U.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(F),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(F,this.__getNodeRect)}__getNodeShape(U,G=this.rotation(),q){const J=U.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ee=U.getAbsoluteScale(q),re=U.getAbsolutePosition(q),Q=J.x*ee.x-U.offsetX()*ee.x,ge=J.y*ee.y-U.offsetY()*ee.y,N=(p.Konva.getAngle(U.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:re.x+Q*Math.cos(N)+ge*Math.sin(-N),y:re.y+ge*Math.cos(N)+Q*Math.sin(N),width:J.width*ee.x,height:J.height*ee.y,rotation:N};return f(L,-p.Konva.getAngle(G),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const G=[];this.nodes().map(N=>{const L=N.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),H=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],j=N.getAbsoluteTransform();H.forEach(function(M){const Y=j.point(M);G.push(Y)})});const q=new h.Transform;q.rotate(-p.Konva.getAngle(this.rotation()));let J=1/0,ee=1/0,re=-1/0,Q=-1/0;G.forEach(function(N){const L=q.point(N);J===void 0&&(J=re=L.x,ee=Q=L.y),J=Math.min(J,L.x),ee=Math.min(ee,L.y),re=Math.max(re,L.x),Q=Math.max(Q,L.y)}),q.invert();const ge=q.point({x:J,y:ee});return{x:ge.x,y:ge.y,width:re-J,height:Q-ee,rotation:p.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),T.forEach(U=>{this._createAnchor(U)}),this._createAnchor("rotater")}_createAnchor(U){const G=new D.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:U+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),q=this;G.on("mousedown touchstart",function(J){q._handleMouseDown(J)}),G.on("dragstart",J=>{G.stopDrag(),J.cancelBubble=!0}),G.on("dragend",J=>{J.cancelBubble=!0}),G.on("mouseenter",()=>{const J=p.Konva.getAngle(this.rotation()),ee=this.rotateAnchorCursor(),re=E(U,J,ee);G.getStage().content&&(G.getStage().content.style.cursor=re),this._cursorChange=!0}),G.on("mouseout",()=>{G.getStage().content&&(G.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(G)}_createBack(){const U=new B.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(G,q){const J=q.getParent(),ee=J.padding();G.beginPath(),G.rect(-ee,-ee,q.width()+ee*2,q.height()+ee*2),G.moveTo(q.width()/2,-ee),J.rotateEnabled()&&J.rotateLineVisible()&&G.lineTo(q.width()/2,-J.rotateAnchorOffset()*h.Util._sign(q.height())-ee),G.fillStrokeShape(q)},hitFunc:(G,q)=>{if(!this.shouldOverdrawWholeArea())return;const J=this.padding();G.beginPath(),G.rect(-J,-J,q.width()+J*2,q.height()+J*2),G.fillStrokeShape(q)}});this.add(U),this._proxyDrag(U),U.on("dragstart",G=>{G.cancelBubble=!0}),U.on("dragmove",G=>{G.cancelBubble=!0}),U.on("dragend",G=>{G.cancelBubble=!0}),this.on("dragmove",G=>{this.update()})}_handleMouseDown(U){if(this._transforming)return;this._movingAnchorName=U.target.name().split(" ")[0];const G=this._getNodeRect(),q=G.width,J=G.height,ee=Math.sqrt(Math.pow(q,2)+Math.pow(J,2));this.sin=Math.abs(J/ee),this.cos=Math.abs(q/ee),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const re=U.target.getAbsolutePosition(),Q=U.target.getStage().getPointerPosition();this._anchorDragOffset={x:Q.x-re.x,y:Q.y-re.y},A++,this._fire("transformstart",{evt:U.evt,target:this.getNode()}),this._nodes.forEach(ge=>{ge._fire("transformstart",{evt:U.evt,target:ge})})}_handleMouseMove(U){let G,q,J;const ee=this.findOne("."+this._movingAnchorName),re=ee.getStage();re.setPointersPositions(U);const Q=re.getPointerPosition();let ge={x:Q.x-this._anchorDragOffset.x,y:Q.y-this._anchorDragOffset.y};const N=ee.getAbsolutePosition();this.anchorDragBoundFunc()&&(ge=this.anchorDragBoundFunc()(N,ge,U)),ee.setAbsolutePosition(ge);const L=ee.getAbsolutePosition();if(N.x===L.x&&N.y===L.y)return;if(this._movingAnchorName==="rotater"){const oe=this._getNodeRect();G=ee.x()-oe.width/2,q=-ee.y()+oe.height/2;let W=Math.atan2(-q,G)+Math.PI/2;oe.height<0&&(W-=Math.PI);const ve=p.Konva.getAngle(this.rotation())+W,xe=p.Konva.getAngle(this.rotationSnapTolerance()),ze=P(this.rotationSnaps(),ve,xe)-oe.rotation,De=c(oe,ze);this._fitNodesInto(De,U);return}const H=this.shiftBehavior();let j;H==="inverted"?j=this.keepRatio()&&!U.shiftKey:H==="none"?j=this.keepRatio():j=this.keepRatio()||U.shiftKey;let M=this.centeredScaling()||U.altKey;if(this._movingAnchorName==="top-left"){if(j){const oe=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};J=Math.sqrt(Math.pow(oe.x-ee.x(),2)+Math.pow(oe.y-ee.y(),2));const W=this.findOne(".top-left").x()>oe.x?-1:1,ie=this.findOne(".top-left").y()>oe.y?-1:1;G=J*this.cos*W,q=J*this.sin*ie,this.findOne(".top-left").x(oe.x-G),this.findOne(".top-left").y(oe.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(ee.y());else if(this._movingAnchorName==="top-right"){if(j){const oe=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};J=Math.sqrt(Math.pow(ee.x()-oe.x,2)+Math.pow(oe.y-ee.y(),2));const W=this.findOne(".top-right").x()<oe.x?-1:1,ie=this.findOne(".top-right").y()>oe.y?-1:1;G=J*this.cos*W,q=J*this.sin*ie,this.findOne(".top-right").x(oe.x+G),this.findOne(".top-right").y(oe.y-q)}var Y=ee.position();this.findOne(".top-left").y(Y.y),this.findOne(".bottom-right").x(Y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(ee.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(ee.x());else if(this._movingAnchorName==="bottom-left"){if(j){const oe=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};J=Math.sqrt(Math.pow(oe.x-ee.x(),2)+Math.pow(ee.y()-oe.y,2));const W=oe.x<ee.x()?-1:1,ie=ee.y()<oe.y?-1:1;G=J*this.cos*W,q=J*this.sin*ie,ee.x(oe.x-G),ee.y(oe.y+q)}Y=ee.position(),this.findOne(".top-left").x(Y.x),this.findOne(".bottom-right").y(Y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(ee.y());else if(this._movingAnchorName==="bottom-right"){if(j){const oe=M?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};J=Math.sqrt(Math.pow(ee.x()-oe.x,2)+Math.pow(ee.y()-oe.y,2));const W=this.findOne(".bottom-right").x()<oe.x?-1:1,ie=this.findOne(".bottom-right").y()<oe.y?-1:1;G=J*this.cos*W,q=J*this.sin*ie,this.findOne(".bottom-right").x(oe.x+G),this.findOne(".bottom-right").y(oe.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(M=this.centeredScaling()||U.altKey,M){const oe=this.findOne(".top-left"),W=this.findOne(".bottom-right"),ie=oe.x(),ve=oe.y(),xe=this.getWidth()-W.x(),Ee=this.getHeight()-W.y();W.move({x:-ie,y:-ve}),oe.move({x:xe,y:Ee})}const Z=this.findOne(".top-left").getAbsolutePosition();G=Z.x,q=Z.y;const de=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),me=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:G,y:q,width:de,height:me,rotation:p.Konva.getAngle(this.rotation())},U)}_handleMouseUp(U){this._removeEvents(U)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(U){var G;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();A--,this._fire("transformend",{evt:U,target:q}),(G=this.getLayer())===null||G===void 0||G.batchDraw(),q&&this._nodes.forEach(J=>{var ee;J._fire("transformend",{evt:U,target:J}),(ee=J.getLayer())===null||ee===void 0||ee.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(U,G){const q=this._getNodeRect(),J=1;if(h.Util._inRange(U.width,-this.padding()*2-J,J)){this.update();return}if(h.Util._inRange(U.height,-this.padding()*2-J,J)){this.update();return}const ee=new h.Transform;if(ee.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("left")>=0){const j=ee.point({x:-this.padding()*2,y:0});U.x+=j.x,U.y+=j.y,U.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y}else if(this._movingAnchorName&&U.width<0&&this._movingAnchorName.indexOf("right")>=0){const j=ee.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,U.width+=this.padding()*2}if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("top")>=0){const j=ee.point({x:0,y:-this.padding()*2});U.x+=j.x,U.y+=j.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,U.height+=this.padding()*2}else if(this._movingAnchorName&&U.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const j=ee.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=j.x,this._anchorDragOffset.y-=j.y,U.height+=this.padding()*2}if(this.boundBoxFunc()){const j=this.boundBoxFunc()(q,U);j?U=j:h.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const re=1e7,Q=new h.Transform;Q.translate(q.x,q.y),Q.rotate(q.rotation),Q.scale(q.width/re,q.height/re);const ge=new h.Transform,N=U.width/re,L=U.height/re;this.flipEnabled()===!1?(ge.translate(U.x,U.y),ge.rotate(U.rotation),ge.translate(U.width<0?U.width:0,U.height<0?U.height:0),ge.scale(Math.abs(N),Math.abs(L))):(ge.translate(U.x,U.y),ge.rotate(U.rotation),ge.scale(N,L));const H=ge.multiply(Q.invert());this._nodes.forEach(j=>{var M;const Y=j.getParent().getAbsoluteTransform(),Z=j.getTransform().copy();Z.translate(j.offsetX(),j.offsetY());const de=new h.Transform;de.multiply(Y.copy().invert()).multiply(H).multiply(Y).multiply(Z);const me=de.decompose();j.setAttrs(me),(M=j.getLayer())===null||M===void 0||M.batchDraw()}),this.rotation(h.Util._getRotation(U.rotation)),this._nodes.forEach(j=>{this._fire("transform",{evt:G,target:j}),j._fire("transform",{evt:G,target:j})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(U,G){this.findOne(U).setAttrs(G)}update(){var U;const G=this._getNodeRect();this.rotation(h.Util._getRotation(G.rotation));const q=G.width,J=G.height,ee=this.enabledAnchors(),re=this.resizeEnabled(),Q=this.padding(),ge=this.anchorSize(),N=this.find("._anchor");N.forEach(H=>{H.setAttrs({width:ge,height:ge,offsetX:ge/2,offsetY:ge/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ge/2+Q,offsetY:ge/2+Q,visible:re&&ee.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:ge/2+Q,visible:re&&ee.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:ge/2-Q,offsetY:ge/2+Q,visible:re&&ee.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:J/2,offsetX:ge/2+Q,visible:re&&ee.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:J/2,offsetX:ge/2-Q,visible:re&&ee.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:J,offsetX:ge/2+Q,offsetY:ge/2-Q,visible:re&&ee.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:J,offsetY:ge/2-Q,visible:re&&ee.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:J,offsetX:ge/2-Q,offsetY:ge/2-Q,visible:re&&ee.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*h.Util._sign(J)-Q,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:J,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const L=this.anchorStyleFunc();L&&N.forEach(H=>{L(H)}),(U=this.getLayer())===null||U===void 0||U.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const U=this.findOne("."+this._movingAnchorName);U&&U.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),k.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return R.Node.prototype.toObject.call(this)}clone(U){return R.Node.prototype.clone.call(this,U)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}iu.Transformer=V,V.isTransforming=()=>A>0;function X(z){return z instanceof Array||h.Util.warn("enabledAnchors value should be an array"),z instanceof Array&&z.forEach(function(U){T.indexOf(U)===-1&&h.Util.warn("Unknown anchor name: "+U+". Available names are: "+T.join(", "))}),z||[]}return V.prototype.className="Transformer",(0,S._registerNode)(V),_.Factory.addGetterSetter(V,"enabledAnchors",T,X),_.Factory.addGetterSetter(V,"flipEnabled",!0,(0,y.getBooleanValidator)()),_.Factory.addGetterSetter(V,"resizeEnabled",!0),_.Factory.addGetterSetter(V,"anchorSize",10,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"rotateEnabled",!0),_.Factory.addGetterSetter(V,"rotateLineVisible",!0),_.Factory.addGetterSetter(V,"rotationSnaps",[]),_.Factory.addGetterSetter(V,"rotateAnchorOffset",50,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"rotateAnchorCursor","crosshair"),_.Factory.addGetterSetter(V,"rotationSnapTolerance",5,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"borderEnabled",!0),_.Factory.addGetterSetter(V,"anchorStroke","rgb(0, 161, 255)"),_.Factory.addGetterSetter(V,"anchorStrokeWidth",1,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"anchorFill","white"),_.Factory.addGetterSetter(V,"anchorCornerRadius",0,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"borderStroke","rgb(0, 161, 255)"),_.Factory.addGetterSetter(V,"borderStrokeWidth",1,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"borderDash"),_.Factory.addGetterSetter(V,"keepRatio",!0),_.Factory.addGetterSetter(V,"shiftBehavior","default"),_.Factory.addGetterSetter(V,"centeredScaling",!1),_.Factory.addGetterSetter(V,"ignoreStroke",!1),_.Factory.addGetterSetter(V,"padding",0,(0,y.getNumberValidator)()),_.Factory.addGetterSetter(V,"nodes"),_.Factory.addGetterSetter(V,"node"),_.Factory.addGetterSetter(V,"boundBoxFunc"),_.Factory.addGetterSetter(V,"anchorDragBoundFunc"),_.Factory.addGetterSetter(V,"anchorStyleFunc"),_.Factory.addGetterSetter(V,"shouldOverdrawWholeArea",!1),_.Factory.addGetterSetter(V,"useSingleNodeRotation",!0),_.Factory.backCompat(V,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),iu}var su={},Eh;function p1(){if(Eh)return su;Eh=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Wedge=void 0;const h=Je(),_=_n(),R=qe(),B=$e(),D=qe();let k=class extends _.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.radius(),0,R.Konva.getAngle(this.angle()),this.clockwise()),y.lineTo(0,0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(y){this.radius(y/2)}setHeight(y){this.radius(y/2)}};return su.Wedge=k,k.prototype.className="Wedge",k.prototype._centroid=!0,k.prototype._attrsAffectingSize=["radius"],(0,D._registerNode)(k),h.Factory.addGetterSetter(k,"radius",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"angle",0,(0,B.getNumberValidator)()),h.Factory.addGetterSetter(k,"clockwise",!1),h.Factory.backCompat(k,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),su}var ou={},Ph;function g1(){if(Ph)return ou;Ph=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.Blur=void 0;const h=Je(),_=qt(),R=$e();function B(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const D=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],k=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function p(S,x){const C=S.data,F=S.width,w=S.height;let g,v,E,T,I,f,c,P,A,V,X,z,U,G,q,J,ee,re,Q,ge;const N=x+x+1,L=F-1,H=w-1,j=x+1,M=j*(j+1)/2,Y=new B,Z=D[x],de=k[x];let me=null,oe=Y,W=null,ie=null;for(let ve=1;ve<N;ve++)oe=oe.next=new B,ve===j&&(me=oe);oe.next=Y,E=v=0;for(let ve=0;ve<w;ve++){z=U=G=q=T=I=f=c=0,P=j*(J=C[v]),A=j*(ee=C[v+1]),V=j*(re=C[v+2]),X=j*(Q=C[v+3]),T+=M*J,I+=M*ee,f+=M*re,c+=M*Q,oe=Y;for(let xe=0;xe<j;xe++)oe.r=J,oe.g=ee,oe.b=re,oe.a=Q,oe=oe.next;for(let xe=1;xe<j;xe++)g=v+((L<xe?L:xe)<<2),T+=(oe.r=J=C[g])*(ge=j-xe),I+=(oe.g=ee=C[g+1])*ge,f+=(oe.b=re=C[g+2])*ge,c+=(oe.a=Q=C[g+3])*ge,z+=J,U+=ee,G+=re,q+=Q,oe=oe.next;W=Y,ie=me;for(let xe=0;xe<F;xe++)C[v+3]=Q=c*Z>>de,Q!==0?(Q=255/Q,C[v]=(T*Z>>de)*Q,C[v+1]=(I*Z>>de)*Q,C[v+2]=(f*Z>>de)*Q):C[v]=C[v+1]=C[v+2]=0,T-=P,I-=A,f-=V,c-=X,P-=W.r,A-=W.g,V-=W.b,X-=W.a,g=E+((g=xe+x+1)<L?g:L)<<2,z+=W.r=C[g],U+=W.g=C[g+1],G+=W.b=C[g+2],q+=W.a=C[g+3],T+=z,I+=U,f+=G,c+=q,W=W.next,P+=J=ie.r,A+=ee=ie.g,V+=re=ie.b,X+=Q=ie.a,z-=J,U-=ee,G-=re,q-=Q,ie=ie.next,v+=4;E+=F}for(let ve=0;ve<F;ve++){U=G=q=z=I=f=c=T=0,v=ve<<2,P=j*(J=C[v]),A=j*(ee=C[v+1]),V=j*(re=C[v+2]),X=j*(Q=C[v+3]),T+=M*J,I+=M*ee,f+=M*re,c+=M*Q,oe=Y;for(let Ee=0;Ee<j;Ee++)oe.r=J,oe.g=ee,oe.b=re,oe.a=Q,oe=oe.next;let xe=F;for(let Ee=1;Ee<=x;Ee++)v=xe+ve<<2,T+=(oe.r=J=C[v])*(ge=j-Ee),I+=(oe.g=ee=C[v+1])*ge,f+=(oe.b=re=C[v+2])*ge,c+=(oe.a=Q=C[v+3])*ge,z+=J,U+=ee,G+=re,q+=Q,oe=oe.next,Ee<H&&(xe+=F);v=ve,W=Y,ie=me;for(let Ee=0;Ee<w;Ee++)g=v<<2,C[g+3]=Q=c*Z>>de,Q>0?(Q=255/Q,C[g]=(T*Z>>de)*Q,C[g+1]=(I*Z>>de)*Q,C[g+2]=(f*Z>>de)*Q):C[g]=C[g+1]=C[g+2]=0,T-=P,I-=A,f-=V,c-=X,P-=W.r,A-=W.g,V-=W.b,X-=W.a,g=ve+((g=Ee+j)<H?g:H)*F<<2,T+=z+=W.r=C[g],I+=U+=W.g=C[g+1],f+=G+=W.b=C[g+2],c+=q+=W.a=C[g+3],W=W.next,P+=J=ie.r,A+=ee=ie.g,V+=re=ie.b,X+=Q=ie.a,z-=J,U-=ee,G-=re,q-=Q,ie=ie.next,v+=F}}const y=function(x){const C=Math.round(this.blurRadius());C>0&&p(x,C)};return ou.Blur=y,h.Factory.addGetterSetter(_.Node,"blurRadius",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),ou}var lu={},Nh;function m1(){if(Nh)return lu;Nh=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.Brighten=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=this.brightness()*255,p=D.data,y=p.length;for(let S=0;S<y;S+=4)p[S]+=k,p[S+1]+=k,p[S+2]+=k};return lu.Brighten=B,h.Factory.addGetterSetter(_.Node,"brightness",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),lu}var au={},Rh;function v1(){if(Rh)return au;Rh=1,Object.defineProperty(au,"__esModule",{value:!0}),au.Contrast=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=Math.pow((this.contrast()+100)/100,2),p=D.data,y=p.length;let S=150,x=150,C=150;for(let F=0;F<y;F+=4)S=p[F],x=p[F+1],C=p[F+2],S/=255,S-=.5,S*=k,S+=.5,S*=255,x/=255,x-=.5,x*=k,x+=.5,x*=255,C/=255,C-=.5,C*=k,C+=.5,C*=255,S=S<0?0:S>255?255:S,x=x<0?0:x>255?255:x,C=C<0?0:C>255?255:C,p[F]=S,p[F+1]=x,p[F+2]=C};return au.Contrast=B,h.Factory.addGetterSetter(_.Node,"contrast",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),au}var uu={},Th;function y1(){if(Th)return uu;Th=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.Emboss=void 0;const h=Je(),_=qt(),R=Gt(),B=$e(),D=function(k){const p=this.embossStrength()*10,y=this.embossWhiteLevel()*255,S=this.embossDirection(),x=this.embossBlend(),C=k.data,F=k.width,w=k.height,g=F*4;let v=0,E=0,T=w;switch(S){case"top-left":v=-1,E=-1;break;case"top":v=-1,E=0;break;case"top-right":v=-1,E=1;break;case"right":v=0,E=1;break;case"bottom-right":v=1,E=1;break;case"bottom":v=1,E=0;break;case"bottom-left":v=1,E=-1;break;case"left":v=0,E=-1;break;default:R.Util.error("Unknown emboss direction: "+S)}do{const I=(T-1)*g;let f=v;T+f<1&&(f=0),T+f>w&&(f=0);const c=(T-1+f)*F*4;let P=F;do{const A=I+(P-1)*4;let V=E;P+V<1&&(V=0),P+V>F&&(V=0);const X=c+(P-1+V)*4,z=C[A]-C[X],U=C[A+1]-C[X+1],G=C[A+2]-C[X+2];let q=z;const J=q>0?q:-q,ee=U>0?U:-U,re=G>0?G:-G;if(ee>J&&(q=U),re>J&&(q=G),q*=p,x){const Q=C[A]+q,ge=C[A+1]+q,N=C[A+2]+q;C[A]=Q>255?255:Q<0?0:Q,C[A+1]=ge>255?255:ge<0?0:ge,C[A+2]=N>255?255:N<0?0:N}else{let Q=y-q;Q<0?Q=0:Q>255&&(Q=255),C[A]=C[A+1]=C[A+2]=Q}}while(--P)}while(--T)};return uu.Emboss=D,h.Factory.addGetterSetter(_.Node,"embossStrength",.5,(0,B.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"embossWhiteLevel",.5,(0,B.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"embossDirection","top-left",void 0,h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"embossBlend",!1,void 0,h.Factory.afterSetFilter),uu}var cu={},Fh;function _1(){if(Fh)return cu;Fh=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.Enhance=void 0;const h=Je(),_=qt(),R=$e();function B(k,p,y,S,x){const C=y-p,F=x-S;if(C===0)return S+F/2;if(F===0)return S;let w=(k-p)/C;return w=F*w+S,w}const D=function(k){const p=k.data,y=p.length;let S=p[0],x=S,C,F=p[1],w=F,g,v=p[2],E=v,T;const I=this.enhance();if(I===0)return;for(let z=0;z<y;z+=4)C=p[z+0],C<S?S=C:C>x&&(x=C),g=p[z+1],g<F?F=g:g>w&&(w=g),T=p[z+2],T<v?v=T:T>E&&(E=T);x===S&&(x=255,S=0),w===F&&(w=255,F=0),E===v&&(E=255,v=0);let f,c,P,A,V,X;if(I>0)f=x+I*(255-x),c=S-I*(S-0),P=w+I*(255-w),A=F-I*(F-0),V=E+I*(255-E),X=v-I*(v-0);else{const z=(x+S)*.5;f=x+I*(x-z),c=S+I*(S-z);const U=(w+F)*.5;P=w+I*(w-U),A=F+I*(F-U);const G=(E+v)*.5;V=E+I*(E-G),X=v+I*(v-G)}for(let z=0;z<y;z+=4)p[z+0]=B(p[z+0],S,x,c,f),p[z+1]=B(p[z+1],F,w,A,P),p[z+2]=B(p[z+2],v,E,X,V)};return cu.Enhance=D,h.Factory.addGetterSetter(_.Node,"enhance",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),cu}var du={},Lh;function S1(){if(Lh)return du;Lh=1,Object.defineProperty(du,"__esModule",{value:!0}),du.Grayscale=void 0;const h=function(_){const R=_.data,B=R.length;for(let D=0;D<B;D+=4){const k=.34*R[D]+.5*R[D+1]+.16*R[D+2];R[D]=k,R[D+1]=k,R[D+2]=k}};return du.Grayscale=h,du}var fu={},Mh;function w1(){if(Mh)return fu;Mh=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.HSL=void 0;const h=Je(),_=qt(),R=$e();h.Factory.addGetterSetter(_.Node,"hue",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"saturation",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"luminance",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter);const B=function(D){const k=D.data,p=k.length,y=1,S=Math.pow(2,this.saturation()),x=Math.abs(this.hue()+360)%360,C=this.luminance()*127,F=y*S*Math.cos(x*Math.PI/180),w=y*S*Math.sin(x*Math.PI/180),g=.299*y+.701*F+.167*w,v=.587*y-.587*F+.33*w,E=.114*y-.114*F-.497*w,T=.299*y-.299*F-.328*w,I=.587*y+.413*F+.035*w,f=.114*y-.114*F+.293*w,c=.299*y-.3*F+1.25*w,P=.587*y-.586*F-1.05*w,A=.114*y+.886*F-.2*w;let V,X,z,U;for(let G=0;G<p;G+=4)V=k[G+0],X=k[G+1],z=k[G+2],U=k[G+3],k[G+0]=g*V+v*X+E*z+C,k[G+1]=T*V+I*X+f*z+C,k[G+2]=c*V+P*X+A*z+C,k[G+3]=U};return fu.HSL=B,fu}var hu={},Ah;function x1(){if(Ah)return hu;Ah=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.HSV=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=D.data,p=k.length,y=Math.pow(2,this.value()),S=Math.pow(2,this.saturation()),x=Math.abs(this.hue()+360)%360,C=y*S*Math.cos(x*Math.PI/180),F=y*S*Math.sin(x*Math.PI/180),w=.299*y+.701*C+.167*F,g=.587*y-.587*C+.33*F,v=.114*y-.114*C-.497*F,E=.299*y-.299*C-.328*F,T=.587*y+.413*C+.035*F,I=.114*y-.114*C+.293*F,f=.299*y-.3*C+1.25*F,c=.587*y-.586*C-1.05*F,P=.114*y+.886*C-.2*F;for(let A=0;A<p;A+=4){const V=k[A+0],X=k[A+1],z=k[A+2],U=k[A+3];k[A+0]=w*V+g*X+v*z,k[A+1]=E*V+T*X+I*z,k[A+2]=f*V+c*X+P*z,k[A+3]=U}};return hu.HSV=B,h.Factory.addGetterSetter(_.Node,"hue",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"saturation",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"value",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),hu}var pu={},Oh;function C1(){if(Oh)return pu;Oh=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.Invert=void 0;const h=function(_){const R=_.data,B=R.length;for(let D=0;D<B;D+=4)R[D]=255-R[D],R[D+1]=255-R[D+1],R[D+2]=255-R[D+2]};return pu.Invert=h,pu}var gu={},Dh;function k1(){if(Dh)return gu;Dh=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.Kaleidoscope=void 0;const h=Je(),_=qt(),R=Gt(),B=$e(),D=function(y,S,x){const C=y.data,F=S.data,w=y.width,g=y.height,v=x.polarCenterX||w/2,E=x.polarCenterY||g/2;let T=Math.sqrt(v*v+E*E),I=w-v,f=g-E;const c=Math.sqrt(I*I+f*f);T=c>T?c:T;const P=g,A=w,V=360/A*Math.PI/180;for(let X=0;X<A;X+=1){const z=Math.sin(X*V),U=Math.cos(X*V);for(let G=0;G<P;G+=1){I=Math.floor(v+T*G/P*U),f=Math.floor(E+T*G/P*z);let q=(f*w+I)*4;const J=C[q+0],ee=C[q+1],re=C[q+2],Q=C[q+3];q=(X+G*w)*4,F[q+0]=J,F[q+1]=ee,F[q+2]=re,F[q+3]=Q}}},k=function(y,S,x){const C=y.data,F=S.data,w=y.width,g=y.height,v=x.polarCenterX||w/2,E=x.polarCenterY||g/2;let T=Math.sqrt(v*v+E*E),I=w-v,f=g-E;const c=Math.sqrt(I*I+f*f);T=c>T?c:T;const P=g,A=w,V=0;let X,z;for(I=0;I<w;I+=1)for(f=0;f<g;f+=1){const U=I-v,G=f-E,q=Math.sqrt(U*U+G*G)*P/T;let J=(Math.atan2(G,U)*180/Math.PI+360+V)%360;J=J*A/360,X=Math.floor(J),z=Math.floor(q);let ee=(z*w+X)*4;const re=C[ee+0],Q=C[ee+1],ge=C[ee+2],N=C[ee+3];ee=(f*w+I)*4,F[ee+0]=re,F[ee+1]=Q,F[ee+2]=ge,F[ee+3]=N}},p=function(y){const S=y.width,x=y.height;let C,F,w,g,v,E,T,I,f,c,P=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),V=Math.floor(S*(A%360)/360);if(P<1)return;const X=R.Util.createCanvasElement();X.width=S,X.height=x;const z=X.getContext("2d").getImageData(0,0,S,x);R.Util.releaseCanvas(X),D(y,z,{polarCenterX:S/2,polarCenterY:x/2});let U=S/Math.pow(2,P);for(;U<=8;)U=U*2,P-=1;U=Math.ceil(U);let G=U,q=0,J=G,ee=1;for(V+U>S&&(q=G,J=0,ee=-1),F=0;F<x;F+=1)for(C=q;C!==J;C+=ee)w=Math.round(C+V)%S,f=(S*F+w)*4,v=z.data[f+0],E=z.data[f+1],T=z.data[f+2],I=z.data[f+3],c=(S*F+C)*4,z.data[c+0]=v,z.data[c+1]=E,z.data[c+2]=T,z.data[c+3]=I;for(F=0;F<x;F+=1)for(G=Math.floor(U),g=0;g<P;g+=1){for(C=0;C<G+1;C+=1)f=(S*F+C)*4,v=z.data[f+0],E=z.data[f+1],T=z.data[f+2],I=z.data[f+3],c=(S*F+G*2-C-1)*4,z.data[c+0]=v,z.data[c+1]=E,z.data[c+2]=T,z.data[c+3]=I;G*=2}k(z,y,{})};return gu.Kaleidoscope=p,h.Factory.addGetterSetter(_.Node,"kaleidoscopePower",2,(0,B.getNumberValidator)(),h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"kaleidoscopeAngle",0,(0,B.getNumberValidator)(),h.Factory.afterSetFilter),gu}var mu={},Ih;function E1(){if(Ih)return mu;Ih=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.Mask=void 0;const h=Je(),_=qt(),R=$e();function B(w,g,v){let E=(v*w.width+g)*4;const T=[];return T.push(w.data[E++],w.data[E++],w.data[E++],w.data[E++]),T}function D(w,g){return Math.sqrt(Math.pow(w[0]-g[0],2)+Math.pow(w[1]-g[1],2)+Math.pow(w[2]-g[2],2))}function k(w){const g=[0,0,0];for(let v=0;v<w.length;v++)g[0]+=w[v][0],g[1]+=w[v][1],g[2]+=w[v][2];return g[0]/=w.length,g[1]/=w.length,g[2]/=w.length,g}function p(w,g){const v=B(w,0,0),E=B(w,w.width-1,0),T=B(w,0,w.height-1),I=B(w,w.width-1,w.height-1),f=g||10;if(D(v,E)<f&&D(E,I)<f&&D(I,T)<f&&D(T,v)<f){const c=k([E,v,I,T]),P=[];for(let A=0;A<w.width*w.height;A++){const V=D(c,[w.data[A*4],w.data[A*4+1],w.data[A*4+2]]);P[A]=V<f?0:255}return P}}function y(w,g){for(let v=0;v<w.width*w.height;v++)w.data[4*v+3]=g[v]}function S(w,g,v){const E=[1,1,1,1,0,1,1,1,1],T=Math.round(Math.sqrt(E.length)),I=Math.floor(T/2),f=[];for(let c=0;c<v;c++)for(let P=0;P<g;P++){const A=c*g+P;let V=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const U=c+X-I,G=P+z-I;if(U>=0&&U<v&&G>=0&&G<g){const q=U*g+G,J=E[X*T+z];V+=w[q]*J}}f[A]=V===2040?255:0}return f}function x(w,g,v){const E=[1,1,1,1,1,1,1,1,1],T=Math.round(Math.sqrt(E.length)),I=Math.floor(T/2),f=[];for(let c=0;c<v;c++)for(let P=0;P<g;P++){const A=c*g+P;let V=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const U=c+X-I,G=P+z-I;if(U>=0&&U<v&&G>=0&&G<g){const q=U*g+G,J=E[X*T+z];V+=w[q]*J}}f[A]=V>=1020?255:0}return f}function C(w,g,v){const E=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],T=Math.round(Math.sqrt(E.length)),I=Math.floor(T/2),f=[];for(let c=0;c<v;c++)for(let P=0;P<g;P++){const A=c*g+P;let V=0;for(let X=0;X<T;X++)for(let z=0;z<T;z++){const U=c+X-I,G=P+z-I;if(U>=0&&U<v&&G>=0&&G<g){const q=U*g+G,J=E[X*T+z];V+=w[q]*J}}f[A]=V}return f}const F=function(w){const g=this.threshold();let v=p(w,g);return v&&(v=S(v,w.width,w.height),v=x(v,w.width,w.height),v=C(v,w.width,w.height),y(w,v)),w};return mu.Mask=F,h.Factory.addGetterSetter(_.Node,"threshold",0,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),mu}var vu={},zh;function P1(){if(zh)return vu;zh=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.Noise=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=this.noise()*255,p=D.data,y=p.length,S=k/2;for(let x=0;x<y;x+=4)p[x+0]+=S-2*S*Math.random(),p[x+1]+=S-2*S*Math.random(),p[x+2]+=S-2*S*Math.random()};return vu.Noise=B,h.Factory.addGetterSetter(_.Node,"noise",.2,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),vu}var yu={},Gh;function N1(){if(Gh)return yu;Gh=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Pixelate=void 0;const h=Je(),_=Gt(),R=qt(),B=$e(),D=function(k){let p=Math.ceil(this.pixelSize()),y=k.width,S=k.height,x=Math.ceil(y/p),C=Math.ceil(S/p),F=k.data;if(p<=0){_.Util.error("pixelSize value can not be <= 0");return}for(let w=0;w<x;w+=1)for(let g=0;g<C;g+=1){let v=0,E=0,T=0,I=0;const f=w*p,c=f+p,P=g*p,A=P+p;let V=0;for(let X=f;X<c;X+=1)if(!(X>=y))for(let z=P;z<A;z+=1){if(z>=S)continue;const U=(y*z+X)*4;v+=F[U+0],E+=F[U+1],T+=F[U+2],I+=F[U+3],V+=1}v=v/V,E=E/V,T=T/V,I=I/V;for(let X=f;X<c;X+=1)if(!(X>=y))for(let z=P;z<A;z+=1){if(z>=S)continue;const U=(y*z+X)*4;F[U+0]=v,F[U+1]=E,F[U+2]=T,F[U+3]=I}}};return yu.Pixelate=D,h.Factory.addGetterSetter(R.Node,"pixelSize",8,(0,B.getNumberValidator)(),h.Factory.afterSetFilter),yu}var _u={},Uh;function R1(){if(Uh)return _u;Uh=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.Posterize=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=Math.round(this.levels()*254)+1,p=D.data,y=p.length,S=255/k;for(let x=0;x<y;x+=1)p[x]=Math.floor(p[x]/S)*S};return _u.Posterize=B,h.Factory.addGetterSetter(_.Node,"levels",.5,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),_u}var Su={},jh;function T1(){if(jh)return Su;jh=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.RGB=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=D.data,p=k.length,y=this.red(),S=this.green(),x=this.blue();for(let C=0;C<p;C+=4){const F=(.34*k[C]+.5*k[C+1]+.16*k[C+2])/255;k[C]=F*y,k[C+1]=F*S,k[C+2]=F*x,k[C+3]=k[C+3]}};return Su.RGB=B,h.Factory.addGetterSetter(_.Node,"red",0,function(D){return this._filterUpToDate=!1,D>255?255:D<0?0:Math.round(D)}),h.Factory.addGetterSetter(_.Node,"green",0,function(D){return this._filterUpToDate=!1,D>255?255:D<0?0:Math.round(D)}),h.Factory.addGetterSetter(_.Node,"blue",0,R.RGBComponent,h.Factory.afterSetFilter),Su}var wu={},Bh;function F1(){if(Bh)return wu;Bh=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.RGBA=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=D.data,p=k.length,y=this.red(),S=this.green(),x=this.blue(),C=this.alpha();for(let F=0;F<p;F+=4){const w=1-C;k[F]=y*C+k[F]*w,k[F+1]=S*C+k[F+1]*w,k[F+2]=x*C+k[F+2]*w}};return wu.RGBA=B,h.Factory.addGetterSetter(_.Node,"red",0,function(D){return this._filterUpToDate=!1,D>255?255:D<0?0:Math.round(D)}),h.Factory.addGetterSetter(_.Node,"green",0,function(D){return this._filterUpToDate=!1,D>255?255:D<0?0:Math.round(D)}),h.Factory.addGetterSetter(_.Node,"blue",0,R.RGBComponent,h.Factory.afterSetFilter),h.Factory.addGetterSetter(_.Node,"alpha",1,function(D){return this._filterUpToDate=!1,D>1?1:D<0?0:D}),wu}var xu={},bh;function L1(){if(bh)return xu;bh=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.Sepia=void 0;const h=function(_){const R=_.data,B=R.length;for(let D=0;D<B;D+=4){const k=R[D+0],p=R[D+1],y=R[D+2];R[D+0]=Math.min(255,k*.393+p*.769+y*.189),R[D+1]=Math.min(255,k*.349+p*.686+y*.168),R[D+2]=Math.min(255,k*.272+p*.534+y*.131)}};return xu.Sepia=h,xu}var Cu={},Vh;function M1(){if(Vh)return Cu;Vh=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.Solarize=void 0;const h=function(_){const R=_.data,B=_.width,D=_.height,k=B*4;let p=D;do{const y=(p-1)*k;let S=B;do{const x=y+(S-1)*4;let C=R[x],F=R[x+1],w=R[x+2];C>127&&(C=255-C),F>127&&(F=255-F),w>127&&(w=255-w),R[x]=C,R[x+1]=F,R[x+2]=w}while(--S)}while(--p)};return Cu.Solarize=h,Cu}var ku={},Hh;function A1(){if(Hh)return ku;Hh=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.Threshold=void 0;const h=Je(),_=qt(),R=$e(),B=function(D){const k=this.threshold()*255,p=D.data,y=p.length;for(let S=0;S<y;S+=1)p[S]=p[S]<k?0:255};return ku.Threshold=B,h.Factory.addGetterSetter(_.Node,"threshold",.5,(0,R.getNumberValidator)(),h.Factory.afterSetFilter),ku}var Wh;function O1(){if(Wh)return Ga;Wh=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.Konva=void 0;const h=Xd(),_=t1(),R=r1(),B=i1(),D=s1(),k=o1(),p=l1(),y=c0(),S=tf(),x=d0(),C=a1(),F=u1(),w=c1(),g=d1(),v=f0(),E=f1(),T=h1(),I=p1(),f=g1(),c=m1(),P=v1(),A=y1(),V=_1(),X=S1(),z=w1(),U=x1(),G=C1(),q=k1(),J=E1(),ee=P1(),re=N1(),Q=R1(),ge=T1(),N=F1(),L=L1(),H=M1(),j=A1();return Ga.Konva=h.Konva.Util._assign(h.Konva,{Arc:_.Arc,Arrow:R.Arrow,Circle:B.Circle,Ellipse:D.Ellipse,Image:k.Image,Label:p.Label,Tag:p.Tag,Line:y.Line,Path:S.Path,Rect:x.Rect,RegularPolygon:C.RegularPolygon,Ring:F.Ring,Sprite:w.Sprite,Star:g.Star,Text:v.Text,TextPath:E.TextPath,Transformer:T.Transformer,Wedge:I.Wedge,Filters:{Blur:f.Blur,Brighten:c.Brighten,Contrast:P.Contrast,Emboss:A.Emboss,Enhance:V.Enhance,Grayscale:X.Grayscale,HSL:z.HSL,HSV:U.HSV,Invert:G.Invert,Kaleidoscope:q.Kaleidoscope,Mask:J.Mask,Noise:ee.Noise,Pixelate:re.Pixelate,Posterize:Q.Posterize,RGB:ge.RGB,RGBA:N.RGBA,Sepia:L.Sepia,Solarize:H.Solarize,Threshold:j.Threshold}}),Ga}var D1=jc.exports,qh;function I1(){if(qh)return jc.exports;qh=1,Object.defineProperty(D1,"__esModule",{value:!0});const h=O1();return jc.exports=h.Konva,jc.exports}I1();var Uc={exports:{}},Kh;function z1(){return Kh||(Kh=1,(function(h,_){Object.defineProperty(_,"__esModule",{value:!0}),_.Konva=void 0;var R=Xd();Object.defineProperty(_,"Konva",{enumerable:!0,get:function(){return R.Konva}});const B=Xd();h.exports=B.Konva})(Uc,Uc.exports)),Uc.exports}var G1=z1();const Pu=Qd(G1);var Hd={exports:{}};var Wd,Yh;function U1(){return Yh||(Yh=1,Wd=function(_){var R={},B=bc(),D=Jd(),k=Object.assign;function p(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),A=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=A&&n[A]||n["@@iterator"],typeof n=="function"?n:null)}function X(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case x:return"Portal";case w:return"Profiler";case F:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case v:return(n.displayName||"Context")+".Consumer";case g:return(n._context.displayName||"Context")+".Provider";case E:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case f:return r=n.displayName||null,r!==null?r:X(n.type)||"Memo";case c:r=n._payload,n=n._init;try{return X(n(r))}catch{}}return null}function z(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(r);case 8:return r===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function U(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function G(n){if(U(n)!==n)throw Error(p(188))}function q(n){var r=n.alternate;if(!r){if(r=U(n),r===null)throw Error(p(188));return r!==n?null:n}for(var s=n,l=r;;){var u=s.return;if(u===null)break;var m=u.alternate;if(m===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===s)return G(u),n;if(m===l)return G(u),r;m=m.sibling}throw Error(p(188))}if(s.return!==l.return)s=u,l=m;else{for(var b=!1,ne=u.child;ne;){if(ne===s){b=!0,s=u,l=m;break}if(ne===l){b=!0,l=u,s=m;break}ne=ne.sibling}if(!b){for(ne=m.child;ne;){if(ne===s){b=!0,s=m,l=u;break}if(ne===l){b=!0,l=m,s=u;break}ne=ne.sibling}if(!b)throw Error(p(189))}}if(s.alternate!==l)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?n:r}function J(n){return n=q(n),n!==null?ee(n):null}function ee(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=ee(n);if(r!==null)return r;n=n.sibling}return null}function re(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=re(n);if(r!==null)return r}n=n.sibling}return null}var Q=Array.isArray,ge=_.getPublicInstance,N=_.getRootHostContext,L=_.getChildHostContext,H=_.prepareForCommit,j=_.resetAfterCommit,M=_.createInstance,Y=_.appendInitialChild,Z=_.finalizeInitialChildren,de=_.prepareUpdate,me=_.shouldSetTextContent,oe=_.createTextInstance,W=_.scheduleTimeout,ie=_.cancelTimeout,ve=_.noTimeout,xe=_.isPrimaryRenderer,Ee=_.supportsMutation,ze=_.supportsPersistence,De=_.supportsHydration,et=_.getInstanceFromNode,je=_.preparePortalMount,Lt=_.getCurrentEventPriority,nt=_.detachDeletedInstance,_t=_.supportsMicrotasks,Sr=_.scheduleMicrotask,Et=_.supportsTestSelectors,$n=_.findFiberRoot,lt=_.getBoundingRect,Fn=_.getTextContent,$t=_.isHiddenSubtree,wr=_.matchAccessibilityRole,en=_.setFocusIfFocusable,er=_.setupIntersectionObserver,un=_.appendChild,Un=_.appendChildToContainer,Mt=_.commitTextUpdate,At=_.commitMount,wi=_.commitUpdate,Xs=_.insertBefore,xi=_.insertInContainerBefore,zl=_.removeChild,Qs=_.removeChildFromContainer,Mo=_.resetTextContent,Gl=_.hideInstance,Ul=_.hideTextInstance,jl=_.unhideInstance,ts=_.unhideTextInstance,ns=_.clearContainer,Nu=_.cloneInstance,Bl=_.createContainerChildSet,bl=_.appendChildToContainerChildSet,Ru=_.finalizeContainerChildren,Ao=_.replaceContainerChildren,Oo=_.cloneHiddenInstance,Vl=_.cloneHiddenTextInstance,Js=_.canHydrateInstance,Hl=_.canHydrateTextInstance,Zs=_.canHydrateSuspenseInstance,Tu=_.isSuspenseInstancePending,Ci=_.isSuspenseInstanceFallback,Do=_.getSuspenseInstanceFallbackErrorDetails,Io=_.registerSuspenseInstanceRetry,rs=_.getNextHydratableSibling,qc=_.getFirstHydratableChild,Kc=_.getFirstHydratableChildWithinContainer,Yc=_.getFirstHydratableChildWithinSuspenseInstance,ki=_.hydrateInstance,Fu=_.hydrateTextInstance,Lu=_.hydrateSuspenseInstance,Xc=_.getNextHydratableInstanceAfterSuspenseInstance,Mu=_.commitHydratedContainer,Au=_.commitHydratedSuspenseInstance,Ou=_.clearSuspenseBoundary,Du=_.clearSuspenseBoundaryFromContainer,Qc=_.shouldDeleteUnhydratedTailInstances,Jc=_.didNotMatchHydratedContainerTextInstance,Rt=_.didNotMatchHydratedTextInstance,Wl;function Ei(n){if(Wl===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Wl=r&&r[1]||""}return`
`+Wl+n}var zo=!1;function is(n,r){if(!n||zo)return"";zo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(we){var l=we}Reflect.construct(n,[],r)}else{try{r.call()}catch(we){l=we}n.call(r.prototype)}else{try{throw Error()}catch(we){l=we}n()}}catch(we){if(we&&l&&typeof we.stack=="string"){for(var u=we.stack.split(`
`),m=l.stack.split(`
`),b=u.length-1,ne=m.length-1;1<=b&&0<=ne&&u[b]!==m[ne];)ne--;for(;1<=b&&0<=ne;b--,ne--)if(u[b]!==m[ne]){if(b!==1||ne!==1)do if(b--,ne--,0>ne||u[b]!==m[ne]){var fe=`
`+u[b].replace(" at new "," at ");return n.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",n.displayName)),fe}while(1<=b&&0<=ne);break}}}finally{zo=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?Ei(n):""}var Zc=Object.prototype.hasOwnProperty,Go=[],Ir=-1;function tn(n){return{current:n}}function gt(n){0>Ir||(n.current=Go[Ir],Go[Ir]=null,Ir--)}function Ke(n,r){Ir++,Go[Ir]=n.current,n.current=r}var Zr={},cn=tn(Zr),Ln=tn(!1),xr=Zr;function zr(n,r){var s=n.type.contextTypes;if(!s)return Zr;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var u={},m;for(m in s)u[m]=r[m];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=u),u}function Kt(n){return n=n.childContextTypes,n!=null}function Pi(){gt(Ln),gt(cn)}function Iu(n,r,s){if(cn.current!==Zr)throw Error(p(168));Ke(cn,r),Ke(Ln,s)}function zu(n,r,s){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in r))throw Error(p(108,z(n)||"Unknown",u));return k({},s,l)}function ss(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,xr=cn.current,Ke(cn,n),Ke(Ln,Ln.current),!0}function ql(n,r,s){var l=n.stateNode;if(!l)throw Error(p(169));s?(n=zu(n,r,xr),l.__reactInternalMemoizedMergedChildContext=n,gt(Ln),gt(cn),Ke(cn,n)):gt(Ln),Ke(Ln,s)}var jn=Math.clz32?Math.clz32:Kl,$s=Math.log,$c=Math.LN2;function Kl(n){return n>>>=0,n===0?32:31-($s(n)/$c|0)|0}var tt=64,eo=4194304;function os(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ls(n,r){var s=n.pendingLanes;if(s===0)return 0;var l=0,u=n.suspendedLanes,m=n.pingedLanes,b=s&268435455;if(b!==0){var ne=b&~u;ne!==0?l=os(ne):(m&=b,m!==0&&(l=os(m)))}else b=s&~u,b!==0?l=os(b):m!==0&&(l=os(m));if(l===0)return 0;if(r!==0&&r!==l&&(r&u)===0&&(u=l&-l,m=r&-r,u>=m||u===16&&(m&4194240)!==0))return r;if((l&4)!==0&&(l|=s&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)s=31-jn(r),u=1<<s,l|=n[s],r&=~u;return l}function Gu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,u=n.expirationTimes,m=n.pendingLanes;0<m;){var b=31-jn(m),ne=1<<b,fe=u[b];fe===-1?((ne&s)===0||(ne&l)!==0)&&(u[b]=Gu(ne,r)):fe<=r&&(n.expiredLanes|=ne),m&=~ne}}function Uo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jo(){var n=tt;return tt<<=1,(tt&4194240)===0&&(tt=64),n}function as(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function tr(n,r,s){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-jn(r),n[r]=s}function $r(n,r){var s=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<s;){var u=31-jn(s),m=1<<u;r[u]=0,l[u]=-1,n[u]=-1,s&=~m}}function Cr(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-jn(s),u=1<<l;u&r|n[l]&r&&(n[l]|=r),s&=~u}}var Ye=0;function us(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var kr=D.unstable_scheduleCallback,ju=D.unstable_cancelCallback,Bu=D.unstable_shouldYield,to=D.unstable_requestPaint,Yt=D.unstable_now,Bo=D.unstable_ImmediatePriority,bo=D.unstable_UserBlockingPriority,Vo=D.unstable_NormalPriority,ed=D.unstable_IdlePriority,ei=null,Mn=null;function cs(n){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}}function Ho(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var fr=typeof Object.is=="function"?Object.is:Ho,Gr=null,ds=!1,fs=!1;function Wo(n){Gr===null?Gr=[n]:Gr.push(n)}function bu(n){ds=!0,Wo(n)}function nn(){if(!fs&&Gr!==null){fs=!0;var n=0,r=Ye;try{var s=Gr;for(Ye=1;n<s.length;n++){var l=s[n];do l=l(!0);while(l!==null)}Gr=null,ds=!1}catch(u){throw Gr!==null&&(Gr=Gr.slice(n+1)),kr(Bo,nn),u}finally{Ye=r,fs=!1}}return null}var ti=[],Ur=0,no=null,Ni=0,Sn=[],Bn=0,Ut=null,An=1,hr="";function pr(n,r){ti[Ur++]=Ni,ti[Ur++]=no,no=n,Ni=r}function Vu(n,r,s){Sn[Bn++]=An,Sn[Bn++]=hr,Sn[Bn++]=Ut,Ut=n;var l=An;n=hr;var u=32-jn(l)-1;l&=~(1<<u),s+=1;var m=32-jn(r)+u;if(30<m){var b=u-u%5;m=(l&(1<<b)-1).toString(32),l>>=b,u-=b,An=1<<32-jn(r)+u|s<<u|l,hr=m+n}else An=1<<m|s<<u|l,hr=n}function ro(n){n.return!==null&&(pr(n,1),Vu(n,1,0))}function io(n){for(;n===no;)no=ti[--Ur],ti[Ur]=null,Ni=ti[--Ur],ti[Ur]=null;for(;n===Ut;)Ut=Sn[--Bn],Sn[Bn]=null,hr=Sn[--Bn],Sn[Bn]=null,An=Sn[--Bn],Sn[Bn]=null}var rn=null,wn=null,mt=!1,so=!1,gr=null;function Hu(n,r){var s=Jn(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=n,r=n.deletions,r===null?(n.deletions=[s],n.flags|=16):r.push(s)}function qo(n,r){switch(n.tag){case 5:return r=Js(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,rn=n,wn=qc(r),!0):!1;case 6:return r=Hl(r,n.pendingProps),r!==null?(n.stateNode=r,rn=n,wn=null,!0):!1;case 13:if(r=Zs(r),r!==null){var s=Ut!==null?{id:An,overflow:hr}:null;return n.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Jn(18,null,null,0),s.stateNode=r,s.return=n,n.child=s,rn=n,wn=null,!0}return!1;default:return!1}}function Yl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xl(n){if(mt){var r=wn;if(r){var s=r;if(!qo(n,r)){if(Yl(n))throw Error(p(418));r=rs(s);var l=rn;r&&qo(n,r)?Hu(l,s):(n.flags=n.flags&-4097|2,mt=!1,rn=n)}}else{if(Yl(n))throw Error(p(418));n.flags=n.flags&-4097|2,mt=!1,rn=n}}}function Wu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Ko(n){if(!De||n!==rn)return!1;if(!mt)return Wu(n),mt=!0,!1;if(n.tag!==3&&(n.tag!==5||Qc(n.type)&&!me(n.type,n.memoizedProps))){var r=wn;if(r){if(Yl(n))throw qu(),Error(p(418));for(;r;)Hu(n,r),r=rs(r)}}if(Wu(n),n.tag===13){if(!De)throw Error(p(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(p(317));wn=Xc(n)}else wn=rn?rs(n.stateNode):null;return!0}function qu(){for(var n=wn;n;)n=rs(n)}function Ri(){De&&(wn=rn=null,so=mt=!1)}function Ql(n){gr===null?gr=[n]:gr.push(n)}var td=y.ReactCurrentBatchConfig;function Yo(n,r){if(fr(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Zc.call(r,u)||!fr(n[u],r[u]))return!1}return!0}function nd(n){switch(n.tag){case 5:return Ei(n.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return n=is(n.type,!1),n;case 11:return n=is(n.type.render,!1),n;case 1:return n=is(n.type,!0),n;default:return""}}function Ti(n,r,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var l=s.stateNode}if(!l)throw Error(p(147,n));var u=l,m=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(b){var ne=u.refs;b===null?delete ne[m]:ne[m]=b},r._stringRef=m,r)}if(typeof n!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,n))}return n}function Xo(n,r){throw n=Object.prototype.toString.call(r),Error(p(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Ku(n){var r=n._init;return r(n._payload)}function Yu(n){function r(ue,se){if(n){var he=ue.deletions;he===null?(ue.deletions=[se],ue.flags|=16):he.push(se)}}function s(ue,se){if(!n)return null;for(;se!==null;)r(ue,se),se=se.sibling;return null}function l(ue,se){for(ue=new Map;se!==null;)se.key!==null?ue.set(se.key,se):ue.set(se.index,se),se=se.sibling;return ue}function u(ue,se){return ue=_i(ue,se),ue.index=0,ue.sibling=null,ue}function m(ue,se,he){return ue.index=he,n?(he=ue.alternate,he!==null?(he=he.index,he<se?(ue.flags|=2,se):he):(ue.flags|=2,se)):(ue.flags|=1048576,se)}function b(ue){return n&&ue.alternate===null&&(ue.flags|=2),ue}function ne(ue,se,he,Ne){return se===null||se.tag!==6?(se=zs(he,ue.mode,Ne),se.return=ue,se):(se=u(se,he),se.return=ue,se)}function fe(ue,se,he,Ne){var Ie=he.type;return Ie===C?Fe(ue,se,he.props.children,Ne,he.key):se!==null&&(se.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===c&&Ku(Ie)===se.type)?(Ne=u(se,he.props),Ne.ref=Ti(ue,se,he),Ne.return=ue,Ne):(Ne=Nl(he.type,he.key,he.props,null,ue.mode,Ne),Ne.ref=Ti(ue,se,he),Ne.return=ue,Ne)}function we(ue,se,he,Ne){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=Rl(he,ue.mode,Ne),se.return=ue,se):(se=u(se,he.children||[]),se.return=ue,se)}function Fe(ue,se,he,Ne,Ie){return se===null||se.tag!==7?(se=ln(he,ue.mode,Ne,Ie),se.return=ue,se):(se=u(se,he),se.return=ue,se)}function be(ue,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=zs(""+se,ue.mode,he),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return he=Nl(se.type,se.key,se.props,null,ue.mode,he),he.ref=Ti(ue,null,se),he.return=ue,he;case x:return se=Rl(se,ue.mode,he),se.return=ue,se;case c:var Ne=se._init;return be(ue,Ne(se._payload),he)}if(Q(se)||V(se))return se=ln(se,ue.mode,he,null),se.return=ue,se;Xo(ue,se)}return null}function Pe(ue,se,he,Ne){var Ie=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Ie!==null?null:ne(ue,se,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return he.key===Ie?fe(ue,se,he,Ne):null;case x:return he.key===Ie?we(ue,se,he,Ne):null;case c:return Ie=he._init,Pe(ue,se,Ie(he._payload),Ne)}if(Q(he)||V(he))return Ie!==null?null:Fe(ue,se,he,Ne,null);Xo(ue,he)}return null}function pt(ue,se,he,Ne,Ie){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ue=ue.get(he)||null,ne(se,ue,""+Ne,Ie);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case S:return ue=ue.get(Ne.key===null?he:Ne.key)||null,fe(se,ue,Ne,Ie);case x:return ue=ue.get(Ne.key===null?he:Ne.key)||null,we(se,ue,Ne,Ie);case c:var We=Ne._init;return pt(ue,se,he,We(Ne._payload),Ie)}if(Q(Ne)||V(Ne))return ue=ue.get(he)||null,Fe(se,ue,Ne,Ie,null);Xo(se,Ne)}return null}function ot(ue,se,he,Ne){for(var Ie=null,We=null,Ve=se,Ze=se=0,Ht=null;Ve!==null&&Ze<he.length;Ze++){Ve.index>Ze?(Ht=Ve,Ve=null):Ht=Ve.sibling;var Qe=Pe(ue,Ve,he[Ze],Ne);if(Qe===null){Ve===null&&(Ve=Ht);break}n&&Ve&&Qe.alternate===null&&r(ue,Ve),se=m(Qe,se,Ze),We===null?Ie=Qe:We.sibling=Qe,We=Qe,Ve=Ht}if(Ze===he.length)return s(ue,Ve),mt&&pr(ue,Ze),Ie;if(Ve===null){for(;Ze<he.length;Ze++)Ve=be(ue,he[Ze],Ne),Ve!==null&&(se=m(Ve,se,Ze),We===null?Ie=Ve:We.sibling=Ve,We=Ve);return mt&&pr(ue,Ze),Ie}for(Ve=l(ue,Ve);Ze<he.length;Ze++)Ht=pt(Ve,ue,Ze,he[Ze],Ne),Ht!==null&&(n&&Ht.alternate!==null&&Ve.delete(Ht.key===null?Ze:Ht.key),se=m(Ht,se,Ze),We===null?Ie=Ht:We.sibling=Ht,We=Ht);return n&&Ve.forEach(function(mn){return r(ue,mn)}),mt&&pr(ue,Ze),Ie}function Nn(ue,se,he,Ne){var Ie=V(he);if(typeof Ie!="function")throw Error(p(150));if(he=Ie.call(he),he==null)throw Error(p(151));for(var We=Ie=null,Ve=se,Ze=se=0,Ht=null,Qe=he.next();Ve!==null&&!Qe.done;Ze++,Qe=he.next()){Ve.index>Ze?(Ht=Ve,Ve=null):Ht=Ve.sibling;var mn=Pe(ue,Ve,Qe.value,Ne);if(mn===null){Ve===null&&(Ve=Ht);break}n&&Ve&&mn.alternate===null&&r(ue,Ve),se=m(mn,se,Ze),We===null?Ie=mn:We.sibling=mn,We=mn,Ve=Ht}if(Qe.done)return s(ue,Ve),mt&&pr(ue,Ze),Ie;if(Ve===null){for(;!Qe.done;Ze++,Qe=he.next())Qe=be(ue,Qe.value,Ne),Qe!==null&&(se=m(Qe,se,Ze),We===null?Ie=Qe:We.sibling=Qe,We=Qe);return mt&&pr(ue,Ze),Ie}for(Ve=l(ue,Ve);!Qe.done;Ze++,Qe=he.next())Qe=pt(Ve,ue,Ze,Qe.value,Ne),Qe!==null&&(n&&Qe.alternate!==null&&Ve.delete(Qe.key===null?Ze:Qe.key),se=m(Qe,se,Ze),We===null?Ie=Qe:We.sibling=Qe,We=Qe);return n&&Ve.forEach(function(ld){return r(ue,ld)}),mt&&pr(ue,Ze),Ie}function Ar(ue,se,he,Ne){if(typeof he=="object"&&he!==null&&he.type===C&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case S:e:{for(var Ie=he.key,We=se;We!==null;){if(We.key===Ie){if(Ie=he.type,Ie===C){if(We.tag===7){s(ue,We.sibling),se=u(We,he.props.children),se.return=ue,ue=se;break e}}else if(We.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===c&&Ku(Ie)===We.type){s(ue,We.sibling),se=u(We,he.props),se.ref=Ti(ue,We,he),se.return=ue,ue=se;break e}s(ue,We);break}else r(ue,We);We=We.sibling}he.type===C?(se=ln(he.props.children,ue.mode,Ne,he.key),se.return=ue,ue=se):(Ne=Nl(he.type,he.key,he.props,null,ue.mode,Ne),Ne.ref=Ti(ue,se,he),Ne.return=ue,ue=Ne)}return b(ue);case x:e:{for(We=he.key;se!==null;){if(se.key===We)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){s(ue,se.sibling),se=u(se,he.children||[]),se.return=ue,ue=se;break e}else{s(ue,se);break}else r(ue,se);se=se.sibling}se=Rl(he,ue.mode,Ne),se.return=ue,ue=se}return b(ue);case c:return We=he._init,Ar(ue,se,We(he._payload),Ne)}if(Q(he))return ot(ue,se,he,Ne);if(V(he))return Nn(ue,se,he,Ne);Xo(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(s(ue,se.sibling),se=u(se,he),se.return=ue,ue=se):(s(ue,se),se=zs(he,ue.mode,Ne),se.return=ue,ue=se),b(ue)):s(ue,se)}return Ar}var Fi=Yu(!0),Xu=Yu(!1),Qo=tn(null),Jo=null,hs=null,Jl=null;function Zl(){Jl=hs=Jo=null}function Qu(n,r,s){xe?(Ke(Qo,r._currentValue),r._currentValue=s):(Ke(Qo,r._currentValue2),r._currentValue2=s)}function oo(n){var r=Qo.current;gt(Qo),xe?n._currentValue=r:n._currentValue2=r}function Li(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function ps(n,r){Jo=n,Jl=hs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Bt=!0),n.firstContext=null)}function bn(n){var r=xe?n._currentValue:n._currentValue2;if(Jl!==n)if(n={context:n,memoizedValue:r,next:null},hs===null){if(Jo===null)throw Error(p(308));hs=n,Jo.dependencies={lanes:0,firstContext:n}}else hs=hs.next=n;return r}var ni=null;function Zo(n){ni===null?ni=[n]:ni.push(n)}function $l(n,r,s,l){var u=r.interleaved;return u===null?(s.next=s,Zo(r)):(s.next=u.next,u.next=s),r.interleaved=s,mr(n,l)}function mr(n,r){n.lanes|=r;var s=n.alternate;for(s!==null&&(s.lanes|=r),s=n,n=n.return;n!==null;)n.childLanes|=r,s=n.alternate,s!==null&&(s.childLanes|=r),s=n,n=n.return;return s.tag===3?s.stateNode:null}var Vn=!1;function ea(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ju(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function jr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Br(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var u=l.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),l.pending=r,mr(n,s)}return u=l.interleaved,u===null?(r.next=r,Zo(l)):(r.next=u.next,u.next=r),l.interleaved=r,mr(n,s)}function lo(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Cr(n,s)}}function gs(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var b={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};m===null?u=m=b:m=m.next=b,s=s.next}while(s!==null);m===null?u=m=r:m=m.next=r}else u=m=r;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:l.shared,effects:l.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}function ri(n,r,s,l){var u=n.updateQueue;Vn=!1;var m=u.firstBaseUpdate,b=u.lastBaseUpdate,ne=u.shared.pending;if(ne!==null){u.shared.pending=null;var fe=ne,we=fe.next;fe.next=null,b===null?m=we:b.next=we,b=fe;var Fe=n.alternate;Fe!==null&&(Fe=Fe.updateQueue,ne=Fe.lastBaseUpdate,ne!==b&&(ne===null?Fe.firstBaseUpdate=we:ne.next=we,Fe.lastBaseUpdate=fe))}if(m!==null){var be=u.baseState;b=0,Fe=we=fe=null,ne=m;do{var Pe=ne.lane,pt=ne.eventTime;if((l&Pe)===Pe){Fe!==null&&(Fe=Fe.next={eventTime:pt,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var ot=n,Nn=ne;switch(Pe=r,pt=s,Nn.tag){case 1:if(ot=Nn.payload,typeof ot=="function"){be=ot.call(pt,be,Pe);break e}be=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Nn.payload,Pe=typeof ot=="function"?ot.call(pt,be,Pe):ot,Pe==null)break e;be=k({},be,Pe);break e;case 2:Vn=!0}}ne.callback!==null&&ne.lane!==0&&(n.flags|=64,Pe=u.effects,Pe===null?u.effects=[ne]:Pe.push(ne))}else pt={eventTime:pt,lane:Pe,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Fe===null?(we=Fe=pt,fe=be):Fe=Fe.next=pt,b|=Pe;if(ne=ne.next,ne===null){if(ne=u.shared.pending,ne===null)break;Pe=ne,ne=Pe.next,Pe.next=null,u.lastBaseUpdate=Pe,u.shared.pending=null}}while(!0);if(Fe===null&&(fe=be),u.baseState=fe,u.firstBaseUpdate=we,u.lastBaseUpdate=Fe,r=u.shared.interleaved,r!==null){u=r;do b|=u.lane,u=u.next;while(u!==r)}else m===null&&(u.shared.lanes=0);qr|=b,n.lanes=b,n.memoizedState=be}}function Zu(n,r,s){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(p(191,u));u.call(l)}}}var ii={},nr=tn(ii),ms=tn(ii),si=tn(ii);function rr(n){if(n===ii)throw Error(p(174));return n}function $o(n,r){Ke(si,r),Ke(ms,n),Ke(nr,ii),n=N(r),gt(nr),Ke(nr,n)}function Mi(){gt(nr),gt(ms),gt(si)}function ta(n){var r=rr(si.current),s=rr(nr.current);r=L(s,n.type,r),s!==r&&(Ke(ms,n),Ke(nr,r))}function na(n){ms.current===n&&(gt(nr),gt(ms))}var kt=tn(0);function el(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Tu(s)||Ci(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ra=[];function ia(){for(var n=0;n<ra.length;n++){var r=ra[n];xe?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}ra.length=0}var On=y.ReactCurrentDispatcher,Ai=y.ReactCurrentBatchConfig,oi=0,St=null,Ot=null,jt=null,vs=!1,ao=!1,uo=0,ys=0;function Xt(){throw Error(p(321))}function Oi(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!fr(n[s],r[s]))return!1;return!0}function co(n,r,s,l,u,m){if(oi=m,St=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,On.current=n===null||n.memoizedState===null?pa:ga,n=s(l,u),ao){m=0;do{if(ao=!1,uo=0,25<=m)throw Error(p(301));m+=1,jt=Ot=null,r.updateQueue=null,On.current=ma,n=s(l,u)}while(ao)}if(On.current=Ui,r=Ot!==null&&Ot.next!==null,oi=0,jt=Ot=St=null,vs=!1,r)throw Error(p(300));return n}function tl(){var n=uo!==0;return uo=0,n}function Hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?St.memoizedState=jt=n:jt=jt.next=n,jt}function sn(){if(Ot===null){var n=St.alternate;n=n!==null?n.memoizedState:null}else n=Ot.next;var r=jt===null?St.memoizedState:jt.next;if(r!==null)jt=r,Ot=n;else{if(n===null)throw Error(p(310));Ot=n,n={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},jt===null?St.memoizedState=jt=n:jt=jt.next=n}return jt}function Di(n,r){return typeof r=="function"?r(n):r}function nl(n){var r=sn(),s=r.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=n;var l=Ot,u=l.baseQueue,m=s.pending;if(m!==null){if(u!==null){var b=u.next;u.next=m.next,m.next=b}l.baseQueue=u=m,s.pending=null}if(u!==null){m=u.next,l=l.baseState;var ne=b=null,fe=null,we=m;do{var Fe=we.lane;if((oi&Fe)===Fe)fe!==null&&(fe=fe.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),l=we.hasEagerState?we.eagerState:n(l,we.action);else{var be={lane:Fe,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};fe===null?(ne=fe=be,b=l):fe=fe.next=be,St.lanes|=Fe,qr|=Fe}we=we.next}while(we!==null&&we!==m);fe===null?b=l:fe.next=ne,fr(l,r.memoizedState)||(Bt=!0),r.memoizedState=l,r.baseState=b,r.baseQueue=fe,s.lastRenderedState=l}if(n=s.interleaved,n!==null){u=n;do m=u.lane,St.lanes|=m,qr|=m,u=u.next;while(u!==n)}else u===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function _s(n){var r=sn(),s=r.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=n;var l=s.dispatch,u=s.pending,m=r.memoizedState;if(u!==null){s.pending=null;var b=u=u.next;do m=n(m,b.action),b=b.next;while(b!==u);fr(m,r.memoizedState)||(Bt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function sa(){}function oa(n,r){var s=St,l=sn(),u=r(),m=!fr(l.memoizedState,u);if(m&&(l.memoizedState=u,Bt=!0),l=l.queue,sl(ua.bind(null,s,l,n),[n]),l.getSnapshot!==r||m||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,Ii(9,aa.bind(null,s,l,u,r),void 0,null),ct===null)throw Error(p(349));(oi&30)!==0||la(s,r,u)}return u}function la(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=St.updateQueue,r===null?(r={lastEffect:null,stores:null},St.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function aa(n,r,s,l){r.value=s,r.getSnapshot=l,ca(r)&&br(n)}function ua(n,r,s){return s(function(){ca(r)&&br(n)})}function ca(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!fr(n,s)}catch{return!0}}function br(n){var r=mr(n,1);r!==null&&pn(r,n,1,-1)}function rl(n){var r=Hn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:n},r.queue=n,n=n.dispatch=rd.bind(null,St,n),[r.memoizedState,n]}function Ii(n,r,s,l){return n={tag:n,create:r,destroy:s,deps:l,next:null},r=St.updateQueue,r===null?(r={lastEffect:null,stores:null},St.updateQueue=r,r.lastEffect=n.next=n):(s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n)),n}function $u(){return sn().memoizedState}function il(n,r,s,l){var u=Hn();St.flags|=n,u.memoizedState=Ii(1|r,s,void 0,l===void 0?null:l)}function li(n,r,s,l){var u=sn();l=l===void 0?null:l;var m=void 0;if(Ot!==null){var b=Ot.memoizedState;if(m=b.destroy,l!==null&&Oi(l,b.deps)){u.memoizedState=Ii(r,s,m,l);return}}St.flags|=n,u.memoizedState=Ii(1|r,s,m,l)}function ec(n,r){return il(8390656,8,n,r)}function sl(n,r){return li(2048,8,n,r)}function da(n,r){return li(4,2,n,r)}function dt(n,r){return li(4,4,n,r)}function ol(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function fo(n,r,s){return s=s!=null?s.concat([n]):null,li(4,4,ol.bind(null,r,n),s)}function zi(){}function fa(n,r){var s=sn();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Oi(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function ll(n,r){var s=sn();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&Oi(r,l[1])?l[0]:(n=n(),s.memoizedState=[n,r],n)}function Ss(n,r,s){return(oi&21)===0?(n.baseState&&(n.baseState=!1,Bt=!0),n.memoizedState=s):(fr(s,r)||(s=jo(),St.lanes|=s,qr|=s,n.baseState=!0),r)}function al(n,r){var s=Ye;Ye=s!==0&&4>s?s:4,n(!0);var l=Ai.transition;Ai.transition={};try{n(!1),r()}finally{Ye=s,Ai.transition=l}}function Gi(){return sn().memoizedState}function tc(n,r,s){var l=Vt(n);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},nc(n))ha(r,s);else if(s=$l(n,r,s,l),s!==null){var u=vt();pn(s,n,l,u),ho(s,r,l)}}function rd(n,r,s){var l=Vt(n),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(nc(n))ha(r,u);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,ne=m(b,s);if(u.hasEagerState=!0,u.eagerState=ne,fr(ne,b)){var fe=r.interleaved;fe===null?(u.next=u,Zo(r)):(u.next=fe.next,fe.next=u),r.interleaved=u;return}}catch{}finally{}s=$l(n,r,u,l),s!==null&&(u=vt(),pn(s,n,l,u),ho(s,r,l))}}function nc(n){var r=n.alternate;return n===St||r!==null&&r===St}function ha(n,r){ao=vs=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function ho(n,r,s){if((s&4194240)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Cr(n,s)}}var Ui={readContext:bn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},pa={readContext:bn,useCallback:function(n,r){return Hn().memoizedState=[n,r===void 0?null:r],n},useContext:bn,useEffect:ec,useImperativeHandle:function(n,r,s){return s=s!=null?s.concat([n]):null,il(4194308,4,ol.bind(null,r,n),s)},useLayoutEffect:function(n,r){return il(4194308,4,n,r)},useInsertionEffect:function(n,r){return il(4,2,n,r)},useMemo:function(n,r){var s=Hn();return r=r===void 0?null:r,n=n(),s.memoizedState=[n,r],n},useReducer:function(n,r,s){var l=Hn();return r=s!==void 0?s(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=tc.bind(null,St,n),[l.memoizedState,n]},useRef:function(n){var r=Hn();return n={current:n},r.memoizedState=n},useState:rl,useDebugValue:zi,useDeferredValue:function(n){return Hn().memoizedState=n},useTransition:function(){var n=rl(!1),r=n[0];return n=al.bind(null,n[1]),Hn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,s){var l=St,u=Hn();if(mt){if(s===void 0)throw Error(p(407));s=s()}else{if(s=r(),ct===null)throw Error(p(349));(oi&30)!==0||la(l,r,s)}u.memoizedState=s;var m={value:s,getSnapshot:r};return u.queue=m,ec(ua.bind(null,l,m,n),[n]),l.flags|=2048,Ii(9,aa.bind(null,l,m,s,r),void 0,null),s},useId:function(){var n=Hn(),r=ct.identifierPrefix;if(mt){var s=hr,l=An;s=(l&~(1<<32-jn(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=uo++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=ys++,r=":"+r+"r"+s.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},ga={readContext:bn,useCallback:fa,useContext:bn,useEffect:sl,useImperativeHandle:fo,useInsertionEffect:da,useLayoutEffect:dt,useMemo:ll,useReducer:nl,useRef:$u,useState:function(){return nl(Di)},useDebugValue:zi,useDeferredValue:function(n){var r=sn();return Ss(r,Ot.memoizedState,n)},useTransition:function(){var n=nl(Di)[0],r=sn().memoizedState;return[n,r]},useMutableSource:sa,useSyncExternalStore:oa,useId:Gi,unstable_isNewReconciler:!1},ma={readContext:bn,useCallback:fa,useContext:bn,useEffect:sl,useImperativeHandle:fo,useInsertionEffect:da,useLayoutEffect:dt,useMemo:ll,useReducer:_s,useRef:$u,useState:function(){return _s(Di)},useDebugValue:zi,useDeferredValue:function(n){var r=sn();return Ot===null?r.memoizedState=n:Ss(r,Ot.memoizedState,n)},useTransition:function(){var n=_s(Di)[0],r=sn().memoizedState;return[n,r]},useMutableSource:sa,useSyncExternalStore:oa,useId:Gi,unstable_isNewReconciler:!1};function Wn(n,r){if(n&&n.defaultProps){r=k({},r),n=n.defaultProps;for(var s in n)r[s]===void 0&&(r[s]=n[s]);return r}return r}function va(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:k({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var po={isMounted:function(n){return(n=n._reactInternals)?U(n)===n:!1},enqueueSetState:function(n,r,s){n=n._reactInternals;var l=vt(),u=Vt(n),m=jr(l,u);m.payload=r,s!=null&&(m.callback=s),r=Br(n,m,u),r!==null&&(pn(r,n,u,l),lo(r,n,u))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=vt(),u=Vt(n),m=jr(l,u);m.tag=1,m.payload=r,s!=null&&(m.callback=s),r=Br(n,m,u),r!==null&&(pn(r,n,u,l),lo(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=vt(),l=Vt(n),u=jr(s,l);u.tag=2,r!=null&&(u.callback=r),r=Br(n,u,l),r!==null&&(pn(r,n,l,s),lo(r,n,l))}};function rc(n,r,s,l,u,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!Yo(s,l)||!Yo(u,m):!0}function ic(n,r,s){var l=!1,u=Zr,m=r.contextType;return typeof m=="object"&&m!==null?m=bn(m):(u=Kt(r)?xr:cn.current,l=r.contextTypes,m=(l=l!=null)?zr(n,u):Zr),r=new r(s,m),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=po,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=u,n.__reactInternalMemoizedMaskedChildContext=m),r}function ul(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&po.enqueueReplaceState(r,r.state,null)}function Er(n,r,s,l){var u=n.stateNode;u.props=s,u.state=n.memoizedState,u.refs={},ea(n);var m=r.contextType;typeof m=="object"&&m!==null?u.context=bn(m):(m=Kt(r)?xr:cn.current,u.context=zr(n,m)),u.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(va(n,r,m,s),u.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&po.enqueueReplaceState(u,u.state,null),ri(n,s,u,l),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308)}function ji(n,r){try{var s="",l=r;do s+=nd(l),l=l.return;while(l);var u=s}catch(m){u=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:r,stack:u,digest:null}}function ai(n,r,s){return{value:n,source:null,stack:s??null,digest:r??null}}function ir(n,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var go=typeof WeakMap=="function"?WeakMap:Map;function Pr(n,r,s){s=jr(-1,s),s.tag=3,s.payload={element:null};var l=r.value;return s.callback=function(){Nt||(Nt=!0,Dt=l),ir(n,r)},s}function cl(n,r,s){s=jr(-1,s),s.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=r.value;s.payload=function(){return l(u)},s.callback=function(){ir(n,r)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(s.callback=function(){ir(n,r),typeof l!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),s}function sc(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new go;var u=new Set;l.set(r,u)}else u=l.get(r),u===void 0&&(u=new Set,l.set(r,u));u.has(s)||(u.add(s),n=hc.bind(null,n,r,s),r.then(n,n))}function oc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function ui(n,r,s,l,u){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=jr(-1,1),r.tag=2,Br(s,r,1))),s.lanes|=1),n):(n.flags|=65536,n.lanes=u,n)}var mo=y.ReactCurrentOwner,Bt=!1;function Qt(n,r,s,l){r.child=n===null?Xu(r,null,s,l):Fi(r,n.child,s,l)}function dl(n,r,s,l,u){s=s.render;var m=r.ref;return ps(r,u),l=co(n,r,s,l,m,u),s=tl(),n!==null&&!Bt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~u,Hr(n,r,u)):(mt&&s&&ro(r),r.flags|=1,Qt(n,r,l,u),r.child)}function Bi(n,r,s,l,u){if(n===null){var m=s.type;return typeof m=="function"&&!Ds(m)&&m.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=m,Vr(n,r,m,l,u)):(n=Nl(s.type,null,l,r,r.mode,u),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,(n.lanes&u)===0){var b=m.memoizedProps;if(s=s.compare,s=s!==null?s:Yo,s(b,l)&&n.ref===r.ref)return Hr(n,r,u)}return r.flags|=1,n=_i(m,l),n.ref=r.ref,n.return=r,r.child=n}function Vr(n,r,s,l,u){if(n!==null){var m=n.memoizedProps;if(Yo(m,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=m,(n.lanes&u)!==0)(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,Hr(n,r,u)}return Nr(n,r,s,l,u)}function ft(n,r,s){var l=r.pendingProps,u=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(gi,bt),bt|=s;else{if((s&1073741824)===0)return n=m!==null?m.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ke(gi,bt),bt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:s,Ke(gi,bt),bt|=l}else m!==null?(l=m.baseLanes|s,r.memoizedState=null):l=s,Ke(gi,bt),bt|=l;return Qt(n,r,u,s),r.child}function ut(n,r){var s=r.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Nr(n,r,s,l,u){var m=Kt(s)?xr:cn.current;return m=zr(r,m),ps(r,u),s=co(n,r,s,l,m,u),l=tl(),n!==null&&!Bt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~u,Hr(n,r,u)):(mt&&l&&ro(r),r.flags|=1,Qt(n,r,s,u),r.child)}function on(n,r,s,l,u){if(Kt(s)){var m=!0;ss(r)}else m=!1;if(ps(r,u),r.stateNode===null)vo(n,r),ic(r,s,l),Er(r,s,l,u),l=!0;else if(n===null){var b=r.stateNode,ne=r.memoizedProps;b.props=ne;var fe=b.context,we=s.contextType;typeof we=="object"&&we!==null?we=bn(we):(we=Kt(s)?xr:cn.current,we=zr(r,we));var Fe=s.getDerivedStateFromProps,be=typeof Fe=="function"||typeof b.getSnapshotBeforeUpdate=="function";be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(ne!==l||fe!==we)&&ul(r,b,l,we),Vn=!1;var Pe=r.memoizedState;b.state=Pe,ri(r,l,b,u),fe=r.memoizedState,ne!==l||Pe!==fe||Ln.current||Vn?(typeof Fe=="function"&&(va(r,s,Fe,l),fe=r.memoizedState),(ne=Vn||rc(r,s,ne,l,Pe,fe,we))?(be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=fe),b.props=l,b.state=fe,b.context=we,l=ne):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{b=r.stateNode,Ju(n,r),ne=r.memoizedProps,we=r.type===r.elementType?ne:Wn(r.type,ne),b.props=we,be=r.pendingProps,Pe=b.context,fe=s.contextType,typeof fe=="object"&&fe!==null?fe=bn(fe):(fe=Kt(s)?xr:cn.current,fe=zr(r,fe));var pt=s.getDerivedStateFromProps;(Fe=typeof pt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(ne!==be||Pe!==fe)&&ul(r,b,l,fe),Vn=!1,Pe=r.memoizedState,b.state=Pe,ri(r,l,b,u);var ot=r.memoizedState;ne!==be||Pe!==ot||Ln.current||Vn?(typeof pt=="function"&&(va(r,s,pt,l),ot=r.memoizedState),(we=Vn||rc(r,s,we,l,Pe,ot,fe)||!1)?(Fe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,ot,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,ot,fe)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ot),b.props=l,b.state=ot,b.context=fe,l=we):(typeof b.componentDidUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||ne===n.memoizedProps&&Pe===n.memoizedState||(r.flags|=1024),l=!1)}return dn(n,r,s,l,m,u)}function dn(n,r,s,l,u,m){ut(n,r);var b=(r.flags&128)!==0;if(!l&&!b)return u&&ql(r,s,!1),Hr(n,r,m);l=r.stateNode,mo.current=r;var ne=b&&typeof s.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&b?(r.child=Fi(r,n.child,null,m),r.child=Fi(r,null,ne,m)):Qt(n,r,ne,m),r.memoizedState=l.state,u&&ql(r,s,!0),r.child}function ci(n){var r=n.stateNode;r.pendingContext?Iu(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Iu(n,r.context,!1),$o(n,r.containerInfo)}function bi(n,r,s,l,u){return Ri(),Ql(u),r.flags|=256,Qt(n,r,s,l),r.child}var fn={dehydrated:null,treeContext:null,retryLane:0};function ws(n){return{baseLanes:n,cachePool:null,transitions:null}}function ya(n,r,s){var l=r.pendingProps,u=kt.current,m=!1,b=(r.flags&128)!==0,ne;if((ne=b)||(ne=n!==null&&n.memoizedState===null?!1:(u&2)!==0),ne?(m=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(u|=1),Ke(kt,u&1),n===null)return Xl(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:Ci(n)?r.lanes=8:r.lanes=1073741824,null):(b=l.children,n=l.fallback,m?(l=r.mode,m=r.child,b={mode:"hidden",children:b},(l&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=b):m=Is(b,l,0,null),n=ln(n,l,s,null),m.return=r,n.return=r,m.sibling=n,r.child=m,r.child.memoizedState=ws(s),r.memoizedState=fn,n):fl(r,b));if(u=n.memoizedState,u!==null&&(ne=u.dehydrated,ne!==null))return lc(n,r,b,l,ne,u,s);if(m){m=l.fallback,b=r.mode,u=n.child,ne=u.sibling;var fe={mode:"hidden",children:l.children};return(b&1)===0&&r.child!==u?(l=r.child,l.childLanes=0,l.pendingProps=fe,r.deletions=null):(l=_i(u,fe),l.subtreeFlags=u.subtreeFlags&14680064),ne!==null?m=_i(ne,m):(m=ln(m,b,s,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,b=n.child.memoizedState,b=b===null?ws(s):{baseLanes:b.baseLanes|s,cachePool:null,transitions:b.transitions},m.memoizedState=b,m.childLanes=n.childLanes&~s,r.memoizedState=fn,l}return m=n.child,n=m.sibling,l=_i(m,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=s),l.return=r,l.sibling=null,n!==null&&(s=r.deletions,s===null?(r.deletions=[n],r.flags|=16):s.push(n)),r.child=l,r.memoizedState=null,l}function fl(n,r){return r=Is({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Vi(n,r,s,l){return l!==null&&Ql(l),Fi(r,n.child,null,s),n=fl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lc(n,r,s,l,u,m,b){if(s)return r.flags&256?(r.flags&=-257,l=ai(Error(p(422))),Vi(n,r,b,l)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(m=l.fallback,u=r.mode,l=Is({mode:"visible",children:l.children},u,0,null),m=ln(m,u,b,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,(r.mode&1)!==0&&Fi(r,n.child,null,b),r.child.memoizedState=ws(b),r.memoizedState=fn,m);if((r.mode&1)===0)return Vi(n,r,b,null);if(Ci(u))return l=Do(u).digest,m=Error(p(419)),l=ai(m,l,void 0),Vi(n,r,b,l);if(s=(b&n.childLanes)!==0,Bt||s){if(l=ct,l!==null){switch(b&-b){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|b))!==0?0:u,u!==0&&u!==m.retryLane&&(m.retryLane=u,mr(n,u),pn(l,n,u,-1))}return Os(),l=ai(Error(p(421))),Vi(n,r,b,l)}return Tu(u)?(r.flags|=128,r.child=n.child,r=gc.bind(null,n),Io(u,r),null):(n=m.treeContext,De&&(wn=Yc(u),rn=r,mt=!0,gr=null,so=!1,n!==null&&(Sn[Bn++]=An,Sn[Bn++]=hr,Sn[Bn++]=Ut,An=n.id,hr=n.overflow,Ut=r)),r=fl(r,l.children),r.flags|=4096,r)}function Rr(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Li(n.return,r,s)}function xs(n,r,s,l,u){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=s,m.tailMode=u)}function hl(n,r,s){var l=r.pendingProps,u=l.revealOrder,m=l.tail;if(Qt(n,r,l.children,s),l=kt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rr(n,s,r);else if(n.tag===19)Rr(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(Ke(kt,l),(r.mode&1)===0)r.memoizedState=null;else switch(u){case"forwards":for(s=r.child,u=null;s!==null;)n=s.alternate,n!==null&&el(n)===null&&(u=s),s=s.sibling;s=u,s===null?(u=r.child,r.child=null):(u=s.sibling,s.sibling=null),xs(r,!1,u,s,m);break;case"backwards":for(s=null,u=r.child,r.child=null;u!==null;){if(n=u.alternate,n!==null&&el(n)===null){r.child=u;break}n=u.sibling,u.sibling=s,s=u,u=n}xs(r,!0,s,null,m);break;case"together":xs(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vo(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Hr(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,(s&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(p(153));if(r.child!==null){for(n=r.child,s=_i(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=_i(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function di(n,r,s){switch(r.tag){case 3:ci(r),Ri();break;case 5:ta(r);break;case 1:Kt(r.type)&&ss(r);break;case 4:$o(r,r.stateNode.containerInfo);break;case 10:Qu(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ke(kt,kt.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?ya(n,r,s):(Ke(kt,kt.current&1),n=Hr(n,r,s),n!==null?n.sibling:null);Ke(kt,kt.current&1);break;case 19:if(l=(s&r.childLanes)!==0,(n.flags&128)!==0){if(l)return hl(n,r,s);r.flags|=128}var u=r.memoizedState;if(u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ke(kt,kt.current),l)break;return null;case 22:case 23:return r.lanes=0,ft(n,r,s)}return Hr(n,r,s)}function xn(n){n.flags|=4}function Hi(n,r){if(n!==null&&n.child===r.child)return!0;if((r.flags&16)!==0)return!1;for(n=r.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}var fi,hi,Cn,kn;if(Ee)fi=function(n,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)Y(n,s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},hi=function(){},Cn=function(n,r,s,l,u){if(n=n.memoizedProps,n!==l){var m=r.stateNode,b=rr(nr.current);s=de(m,s,n,l,u,b),(r.updateQueue=s)&&xn(r)}},kn=function(n,r,s,l){s!==l&&xn(r)};else if(ze){fi=function(n,r,s,l){for(var u=r.child;u!==null;){if(u.tag===5){var m=u.stateNode;s&&l&&(m=Oo(m,u.type,u.memoizedProps,u)),Y(n,m)}else if(u.tag===6)m=u.stateNode,s&&l&&(m=Vl(m,u.memoizedProps,u)),Y(n,m);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)m=u.child,m!==null&&(m.return=u),fi(n,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}};var pi=function(n,r,s,l){for(var u=r.child;u!==null;){if(u.tag===5){var m=u.stateNode;s&&l&&(m=Oo(m,u.type,u.memoizedProps,u)),bl(n,m)}else if(u.tag===6)m=u.stateNode,s&&l&&(m=Vl(m,u.memoizedProps,u)),bl(n,m);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)m=u.child,m!==null&&(m.return=u),pi(n,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}};hi=function(n,r){var s=r.stateNode;if(!Hi(n,r)){n=s.containerInfo;var l=Bl(n);pi(l,r,!1,!1),s.pendingChildren=l,xn(r),Ru(n,l)}},Cn=function(n,r,s,l,u){var m=n.stateNode,b=n.memoizedProps;if((n=Hi(n,r))&&b===l)r.stateNode=m;else{var ne=r.stateNode,fe=rr(nr.current),we=null;b!==l&&(we=de(ne,s,b,l,u,fe)),n&&we===null?r.stateNode=m:(m=Nu(m,we,s,b,l,r,n,ne),Z(m,s,l,u,fe)&&xn(r),r.stateNode=m,n?xn(r):fi(m,r,!1,!1))}},kn=function(n,r,s,l){s!==l?(n=rr(si.current),s=rr(nr.current),r.stateNode=oe(l,n,s,r),xn(r)):r.stateNode=n.stateNode}}else hi=function(){},Cn=function(){},kn=function(){};function qn(n,r){if(!mt)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function wt(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var u=n.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=n,u=u.sibling;else for(u=n.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=n,u=u.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function Wi(n,r,s){var l=r.pendingProps;switch(io(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return Kt(r.type)&&Pi(),wt(r),null;case 3:return s=r.stateNode,Mi(),gt(Ln),gt(cn),ia(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Ko(r)?xn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gr!==null&&(El(gr),gr=null))),hi(n,r),wt(r),null;case 5:na(r),s=rr(si.current);var u=r.type;if(n!==null&&r.stateNode!=null)Cn(n,r,u,l,s),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(p(166));return wt(r),null}if(n=rr(nr.current),Ko(r)){if(!De)throw Error(p(175));n=ki(r.stateNode,r.type,r.memoizedProps,s,n,r,!so),r.updateQueue=n,n!==null&&xn(r)}else{var m=M(u,l,s,n,r);fi(m,r,!1,!1),r.stateNode=m,Z(m,u,l,s,n)&&xn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wt(r),null;case 6:if(n&&r.stateNode!=null)kn(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(p(166));if(n=rr(si.current),s=rr(nr.current),Ko(r)){if(!De)throw Error(p(176));if(n=r.stateNode,s=r.memoizedProps,(l=Fu(n,s,r,!so))&&(u=rn,u!==null))switch(u.tag){case 3:Jc(u.stateNode.containerInfo,n,s,(u.mode&1)!==0);break;case 5:Rt(u.type,u.memoizedProps,u.stateNode,n,s,(u.mode&1)!==0)}l&&xn(r)}else r.stateNode=oe(l,n,s,r)}return wt(r),null;case 13:if(gt(kt),l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(mt&&wn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)qu(),Ri(),r.flags|=98560,u=!1;else if(u=Ko(r),l!==null&&l.dehydrated!==null){if(n===null){if(!u)throw Error(p(318));if(!De)throw Error(p(344));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(p(317));Lu(u,r)}else Ri(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),u=!1}else gr!==null&&(El(gr),gr=null),u=!0;if(!u)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(kt.current&1)!==0?Ct===0&&(Ct=3):Os())),r.updateQueue!==null&&(r.flags|=4),wt(r),null);case 4:return Mi(),hi(n,r),n===null&&je(r.stateNode.containerInfo),wt(r),null;case 10:return oo(r.type._context),wt(r),null;case 17:return Kt(r.type)&&Pi(),wt(r),null;case 19:if(gt(kt),u=r.memoizedState,u===null)return wt(r),null;if(l=(r.flags&128)!==0,m=u.rendering,m===null)if(l)qn(u,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=el(n),m!==null){for(r.flags|=128,qn(u,!1),n=m.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)l=s,u=n,l.flags&=14680066,m=l.alternate,m===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,u=m.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s=s.sibling;return Ke(kt,kt.current&1|2),r.child}n=n.sibling}u.tail!==null&&Yt()>ko&&(r.flags|=128,l=!0,qn(u,!1),r.lanes=4194304)}else{if(!l)if(n=el(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),qn(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!mt)return wt(r),null}else 2*Yt()-u.renderingStartTime>ko&&s!==1073741824&&(r.flags|=128,l=!0,qn(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Yt(),r.sibling=null,n=kt.current,Ke(kt,l?n&1|2:n&1),r):(wt(r),null);case 22:case 23:return Pl(),s=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(r.flags|=8192),s&&(r.mode&1)!==0?(bt&1073741824)!==0&&(wt(r),Ee&&r.subtreeFlags&6&&(r.flags|=8192)):wt(r),null;case 24:return null;case 25:return null}throw Error(p(156,r.tag))}function ac(n,r){switch(io(r),r.tag){case 1:return Kt(r.type)&&Pi(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Mi(),gt(Ln),gt(cn),ia(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return na(r),null;case 13:if(gt(kt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(p(340));Ri()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return gt(kt),null;case 4:return Mi(),null;case 10:return oo(r.type._context),null;case 22:case 23:return Pl(),null;case 24:return null;default:return null}}var Cs=!1,Jt=!1,Kn=typeof WeakSet=="function"?WeakSet:Set,ke=null;function st(n,r){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){yt(n,r,l)}else s.current=null}function Yn(n,r,s){try{s()}catch(l){yt(n,r,l)}}var _a=!1;function uc(n,r){for(H(n.containerInfo),ke=r;ke!==null;)if(n=ke,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,ke=r;else for(;ke!==null;){n=ke;try{var s=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var l=s.memoizedProps,u=s.memoizedState,m=n.stateNode,b=m.getSnapshotBeforeUpdate(n.elementType===n.type?l:Wn(n.type,l),u);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:Ee&&ns(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ne){yt(n,n.return,ne)}if(r=n.sibling,r!==null){r.return=n.return,ke=r;break}ke=n.return}return s=_a,_a=!1,s}function qi(n,r,s){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&n)===n){var m=u.destroy;u.destroy=void 0,m!==void 0&&Yn(r,s,m)}u=u.next}while(u!==l)}}function ks(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var l=s.create;s.destroy=l()}s=s.next}while(s!==r)}}function pl(n){var r=n.ref;if(r!==null){var s=n.stateNode;switch(n.tag){case 5:n=ge(s);break;default:n=s}typeof r=="function"?r(n):r.current=n}}function yo(n){var r=n.alternate;r!==null&&(n.alternate=null,yo(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&nt(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Sa(n){return n.tag===5||n.tag===3||n.tag===4}function Ki(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Sa(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _o(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?xi(s,n,r):Un(s,n);else if(l!==4&&(n=n.child,n!==null))for(_o(n,r,s),n=n.sibling;n!==null;)_o(n,r,s),n=n.sibling}function wa(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?Xs(s,n,r):un(s,n);else if(l!==4&&(n=n.child,n!==null))for(wa(n,r,s),n=n.sibling;n!==null;)wa(n,r,s),n=n.sibling}var Tt=null,Dn=!1;function vr(n,r,s){for(s=s.child;s!==null;)gl(n,r,s),s=s.sibling}function gl(n,r,s){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(ei,s)}catch{}switch(s.tag){case 5:Jt||st(s,r);case 6:if(Ee){var l=Tt,u=Dn;Tt=null,vr(n,r,s),Tt=l,Dn=u,Tt!==null&&(Dn?Qs(Tt,s.stateNode):zl(Tt,s.stateNode))}else vr(n,r,s);break;case 18:Ee&&Tt!==null&&(Dn?Du(Tt,s.stateNode):Ou(Tt,s.stateNode));break;case 4:Ee?(l=Tt,u=Dn,Tt=s.stateNode.containerInfo,Dn=!0,vr(n,r,s),Tt=l,Dn=u):(ze&&(l=s.stateNode.containerInfo,u=Bl(l),Ao(l,u)),vr(n,r,s));break;case 0:case 11:case 14:case 15:if(!Jt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var m=u,b=m.destroy;m=m.tag,b!==void 0&&((m&2)!==0||(m&4)!==0)&&Yn(s,r,b),u=u.next}while(u!==l)}vr(n,r,s);break;case 1:if(!Jt&&(st(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(ne){yt(s,r,ne)}vr(n,r,s);break;case 21:vr(n,r,s);break;case 22:s.mode&1?(Jt=(l=Jt)||s.memoizedState!==null,vr(n,r,s),Jt=l):vr(n,r,s);break;default:vr(n,r,s)}}function Yi(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new Kn),r.forEach(function(l){var u=id.bind(null,n,l);s.has(l)||(s.add(l),l.then(u,u))})}}function sr(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var m=n,b=r;if(Ee){var ne=b;e:for(;ne!==null;){switch(ne.tag){case 5:Tt=ne.stateNode,Dn=!1;break e;case 3:Tt=ne.stateNode.containerInfo,Dn=!0;break e;case 4:Tt=ne.stateNode.containerInfo,Dn=!0;break e}ne=ne.return}if(Tt===null)throw Error(p(160));gl(m,b,u),Tt=null,Dn=!1}else gl(m,b,u);var fe=u.alternate;fe!==null&&(fe.return=null),u.return=null}catch(we){yt(u,r,we)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)So(r,n),r=r.sibling}function So(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(sr(r,n),Xn(n),l&4){try{qi(3,n,n.return),ks(3,n)}catch(Pe){yt(n,n.return,Pe)}try{qi(5,n,n.return)}catch(Pe){yt(n,n.return,Pe)}}break;case 1:sr(r,n),Xn(n),l&512&&s!==null&&st(s,s.return);break;case 5:if(sr(r,n),Xn(n),l&512&&s!==null&&st(s,s.return),Ee){if(n.flags&32){var u=n.stateNode;try{Mo(u)}catch(Pe){yt(n,n.return,Pe)}}if(l&4&&(u=n.stateNode,u!=null)){var m=n.memoizedProps;if(s=s!==null?s.memoizedProps:m,l=n.type,r=n.updateQueue,n.updateQueue=null,r!==null)try{wi(u,r,l,s,m,n)}catch(Pe){yt(n,n.return,Pe)}}}break;case 6:if(sr(r,n),Xn(n),l&4&&Ee){if(n.stateNode===null)throw Error(p(162));u=n.stateNode,m=n.memoizedProps,s=s!==null?s.memoizedProps:m;try{Mt(u,s,m)}catch(Pe){yt(n,n.return,Pe)}}break;case 3:if(sr(r,n),Xn(n),l&4){if(Ee&&De&&s!==null&&s.memoizedState.isDehydrated)try{Mu(r.containerInfo)}catch(Pe){yt(n,n.return,Pe)}if(ze){u=r.containerInfo,m=r.pendingChildren;try{Ao(u,m)}catch(Pe){yt(n,n.return,Pe)}}}break;case 4:if(sr(r,n),Xn(n),l&4&&ze){m=n.stateNode,u=m.containerInfo,m=m.pendingChildren;try{Ao(u,m)}catch(Pe){yt(n,n.return,Pe)}}break;case 13:sr(r,n),Xn(n),u=n.child,u.flags&8192&&(m=u.memoizedState!==null,u.stateNode.isHidden=m,!m||u.alternate!==null&&u.alternate.memoizedState!==null||(Fs=Yt())),l&4&&Yi(n);break;case 22:var b=s!==null&&s.memoizedState!==null;if(n.mode&1?(Jt=(s=Jt)||b,sr(r,n),Jt=s):sr(r,n),Xn(n),l&8192){if(s=n.memoizedState!==null,(n.stateNode.isHidden=s)&&!b&&(n.mode&1)!==0)for(ke=n,l=n.child;l!==null;){for(r=ke=l;ke!==null;){b=ke;var ne=b.child;switch(b.tag){case 0:case 11:case 14:case 15:qi(4,b,b.return);break;case 1:st(b,b.return);var fe=b.stateNode;if(typeof fe.componentWillUnmount=="function"){var we=b,Fe=b.return;try{var be=we;fe.props=be.memoizedProps,fe.state=be.memoizedState,fe.componentWillUnmount()}catch(Pe){yt(we,Fe,Pe)}}break;case 5:st(b,b.return);break;case 22:if(b.memoizedState!==null){yl(r);continue}}ne!==null?(ne.return=b,ke=ne):yl(r)}l=l.sibling}if(Ee){e:if(l=null,Ee)for(r=n;;){if(r.tag===5){if(l===null){l=r;try{u=r.stateNode,s?Gl(u):jl(r.stateNode,r.memoizedProps)}catch(Pe){yt(n,n.return,Pe)}}}else if(r.tag===6){if(l===null)try{m=r.stateNode,s?Ul(m):ts(m,r.memoizedProps)}catch(Pe){yt(n,n.return,Pe)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:sr(r,n),Xn(n),l&4&&Yi(n);break;case 21:break;default:sr(r,n),Xn(n)}}function Xn(n){var r=n.flags;if(r&2){try{if(Ee){e:{for(var s=n.return;s!==null;){if(Sa(s)){var l=s;break e}s=s.return}throw Error(p(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Mo(u),l.flags&=-33);var m=Ki(n);wa(n,m,u);break;case 3:case 4:var b=l.stateNode.containerInfo,ne=Ki(n);_o(n,ne,b);break;default:throw Error(p(161))}}}catch(fe){yt(n,n.return,fe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Es(n,r,s){ke=n,ml(n)}function ml(n,r,s){for(var l=(n.mode&1)!==0;ke!==null;){var u=ke,m=u.child;if(u.tag===22&&l){var b=u.memoizedState!==null||Cs;if(!b){var ne=u.alternate,fe=ne!==null&&ne.memoizedState!==null||Jt;ne=Cs;var we=Jt;if(Cs=b,(Jt=fe)&&!we)for(ke=u;ke!==null;)b=ke,fe=b.child,b.tag===22&&b.memoizedState!==null?_l(u):fe!==null?(fe.return=b,ke=fe):_l(u);for(;m!==null;)ke=m,ml(m),m=m.sibling;ke=u,Cs=ne,Jt=we}vl(n)}else(u.subtreeFlags&8772)!==0&&m!==null?(m.return=u,ke=m):vl(n)}}function vl(n){for(;ke!==null;){var r=ke;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Jt||ks(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Jt)if(s===null)l.componentDidMount();else{var u=r.elementType===r.type?s.memoizedProps:Wn(r.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Zu(r,m,l);break;case 3:var b=r.updateQueue;if(b!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=ge(r.child.stateNode);break;case 1:s=r.child.stateNode}Zu(r,b,s)}break;case 5:var ne=r.stateNode;s===null&&r.flags&4&&At(ne,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&r.memoizedState===null){var fe=r.alternate;if(fe!==null){var we=fe.memoizedState;if(we!==null){var Fe=we.dehydrated;Fe!==null&&Au(Fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}Jt||r.flags&512&&pl(r)}catch(be){yt(r,r.return,be)}}if(r===n){ke=null;break}if(s=r.sibling,s!==null){s.return=r.return,ke=s;break}ke=r.return}}function yl(n){for(;ke!==null;){var r=ke;if(r===n){ke=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ke=s;break}ke=r.return}}function _l(n){for(;ke!==null;){var r=ke;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ks(4,r)}catch(fe){yt(r,s,fe)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var u=r.return;try{l.componentDidMount()}catch(fe){yt(r,u,fe)}}var m=r.return;try{pl(r)}catch(fe){yt(r,m,fe)}break;case 5:var b=r.return;try{pl(r)}catch(fe){yt(r,b,fe)}}}catch(fe){yt(r,r.return,fe)}if(r===n){ke=null;break}var ne=r.sibling;if(ne!==null){ne.return=r.return,ke=ne;break}ke=r.return}}var Wr=0,En=1,Tr=2,Ps=3,wo=4;if(typeof Symbol=="function"&&Symbol.for){var Qn=Symbol.for;Wr=Qn("selector.component"),En=Qn("selector.has_pseudo_class"),Tr=Qn("selector.role"),Ps=Qn("selector.test_id"),wo=Qn("selector.text")}function Fr(n){var r=et(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(p(364));return r}if(n=$n(n),n===null)throw Error(p(362));return n.stateNode.current}function xo(n,r){switch(r.$$typeof){case Wr:if(n.type===r.value)return!0;break;case En:e:{r=r.value,n=[n,0];for(var s=0;s<n.length;){var l=n[s++],u=n[s++],m=r[u];if(l.tag!==5||!$t(l)){for(;m!=null&&xo(l,m);)u++,m=r[u];if(u===r.length){r=!0;break e}else for(l=l.child;l!==null;)n.push(l,u),l=l.sibling}}r=!1}return r;case Tr:if(n.tag===5&&wr(n.stateNode,r.value))return!0;break;case wo:if((n.tag===5||n.tag===6)&&(n=Fn(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case Ps:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(p(365))}return!1}function Sl(n){switch(n.$$typeof){case Wr:return"<"+(X(n.value)||"Unknown")+">";case En:return":has("+(Sl(n)||"")+")";case Tr:return'[role="'+n.value+'"]';case wo:return'"'+n.value+'"';case Ps:return'[data-testname="'+n.value+'"]';default:throw Error(p(365))}}function Lr(n,r){var s=[];n=[n,0];for(var l=0;l<n.length;){var u=n[l++],m=n[l++],b=r[m];if(u.tag!==5||!$t(u)){for(;b!=null&&xo(u,b);)m++,b=r[m];if(m===r.length)s.push(u);else for(u=u.child;u!==null;)n.push(u,m),u=u.sibling}}return s}function Mr(n,r){if(!Et)throw Error(p(363));n=Fr(n),n=Lr(n,r),r=[],n=Array.from(n);for(var s=0;s<n.length;){var l=n[s++];if(l.tag===5)$t(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)n.push(l),l=l.sibling}return r}var wl=Math.ceil,Co=y.ReactCurrentDispatcher,Ns=y.ReactCurrentOwner,Pt=y.ReactCurrentBatchConfig,He=0,ct=null,xt=null,Ft=0,bt=0,gi=tn(0),Ct=0,Rs=null,qr=0,ht=0,Ts=0,Xi=null,hn=null,Fs=0,ko=1/0,Pn=null;function at(){ko=Yt()+500}var Nt=!1,Dt=null,yr=null,mi=!1,or=null,xl=0,It=0,Eo=null,Ls=-1,Ms=0;function vt(){return(He&6)!==0?Yt():Ls!==-1?Ls:Ls=Yt()}function Vt(n){return(n.mode&1)===0?1:(He&2)!==0&&Ft!==0?Ft&-Ft:td.transition!==null?(Ms===0&&(Ms=jo()),Ms):(n=Ye,n!==0?n:Lt())}function pn(n,r,s,l){if(50<It)throw It=0,Eo=null,Error(p(185));tr(n,s,l),((He&2)===0||n!==ct)&&(n===ct&&((He&2)===0&&(ht|=s),Ct===4&&Kr(n,Ft)),gn(n,l),s===1&&He===0&&(r.mode&1)===0&&(at(),ds&&nn()))}function gn(n,r){var s=n.callbackNode;Uu(n,r);var l=ls(n,n===ct?Ft:0);if(l===0)s!==null&&ju(s),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(s!=null&&ju(s),r===1)n.tag===0?bu(xa.bind(null,n)):Wo(xa.bind(null,n)),_t?Sr(function(){(He&6)===0&&nn()}):kr(Bo,nn),s=null;else{switch(us(l)){case 1:s=Bo;break;case 4:s=bo;break;case 16:s=Vo;break;case 536870912:s=ed;break;default:s=Vo}s=Ta(s,Cl.bind(null,n))}n.callbackPriority=r,n.callbackNode=s}}function Cl(n,r){if(Ls=-1,Ms=0,(He&6)!==0)throw Error(p(327));var s=n.callbackNode;if(Yr()&&n.callbackNode!==s)return null;var l=ls(n,n===ct?Ft:0);if(l===0)return null;if((l&30)!==0||(l&n.expiredLanes)!==0||r)r=Qi(n,l);else{r=l;var u=He;He|=2;var m=ka();(ct!==n||Ft!==r)&&(Pn=null,at(),vi(n,r));do try{Ea();break}catch(ne){As(n,ne)}while(!0);Zl(),Co.current=m,He=u,xt!==null?r=0:(ct=null,Ft=0,r=Ct)}if(r!==0){if(r===2&&(u=Uo(n),u!==0&&(l=u,r=kl(n,u))),r===1)throw s=Rs,vi(n,0),Kr(n,l),gn(n,Yt()),s;if(r===6)Kr(n,l);else{if(u=n.current.alternate,(l&30)===0&&!cc(u)&&(r=Qi(n,l),r===2&&(m=Uo(n),m!==0&&(l=m,r=kl(n,m))),r===1))throw s=Rs,vi(n,0),Kr(n,l),gn(n,Yt()),s;switch(n.finishedWork=u,n.finishedLanes=l,r){case 0:case 1:throw Error(p(345));case 2:yi(n,hn,Pn);break;case 3:if(Kr(n,l),(l&130023424)===l&&(r=Fs+500-Yt(),10<r)){if(ls(n,0)!==0)break;if(u=n.suspendedLanes,(u&l)!==l){vt(),n.pingedLanes|=n.suspendedLanes&u;break}n.timeoutHandle=W(yi.bind(null,n,hn,Pn),r);break}yi(n,hn,Pn);break;case 4:if(Kr(n,l),(l&4194240)===l)break;for(r=n.eventTimes,u=-1;0<l;){var b=31-jn(l);m=1<<b,b=r[b],b>u&&(u=b),l&=~m}if(l=u,l=Yt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*wl(l/1960))-l,10<l){n.timeoutHandle=W(yi.bind(null,n,hn,Pn),l);break}yi(n,hn,Pn);break;case 5:yi(n,hn,Pn);break;default:throw Error(p(329))}}}return gn(n,Yt()),n.callbackNode===s?Cl.bind(null,n):null}function kl(n,r){var s=Xi;return n.current.memoizedState.isDehydrated&&(vi(n,r).flags|=256),n=Qi(n,r),n!==2&&(r=hn,hn=s,r!==null&&El(r)),n}function El(n){hn===null?hn=n:hn.push.apply(hn,n)}function cc(n){for(var r=n;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],m=u.getSnapshot;u=u.value;try{if(!fr(m(),u))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(n,r){for(r&=~Ts,r&=~ht,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var s=31-jn(r),l=1<<s;n[s]=-1,r&=~l}}function xa(n){if((He&6)!==0)throw Error(p(327));Yr();var r=ls(n,0);if((r&1)===0)return gn(n,Yt()),null;var s=Qi(n,r);if(n.tag!==0&&s===2){var l=Uo(n);l!==0&&(r=l,s=kl(n,l))}if(s===1)throw s=Rs,vi(n,0),Kr(n,r),gn(n,Yt()),s;if(s===6)throw Error(p(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,yi(n,hn,Pn),gn(n,Yt()),null}function Ca(n){or!==null&&or.tag===0&&(He&6)===0&&Yr();var r=He;He|=1;var s=Pt.transition,l=Ye;try{if(Pt.transition=null,Ye=1,n)return n()}finally{Ye=l,Pt.transition=s,He=r,(He&6)===0&&nn()}}function Pl(){bt=gi.current,gt(gi)}function vi(n,r){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==ve&&(n.timeoutHandle=ve,ie(s)),xt!==null)for(s=xt.return;s!==null;){var l=s;switch(io(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Pi();break;case 3:Mi(),gt(Ln),gt(cn),ia();break;case 5:na(l);break;case 4:Mi();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:oo(l.type._context);break;case 22:case 23:Pl()}s=s.return}if(ct=n,xt=n=_i(n.current,null),Ft=bt=r,Ct=0,Rs=null,Ts=ht=qr=0,hn=Xi=null,ni!==null){for(r=0;r<ni.length;r++)if(s=ni[r],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,m=s.pending;if(m!==null){var b=m.next;m.next=u,l.next=b}s.pending=l}ni=null}return n}function As(n,r){do{var s=xt;try{if(Zl(),On.current=Ui,vs){for(var l=St.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}vs=!1}if(oi=0,jt=Ot=St=null,ao=!1,uo=0,Ns.current=null,s===null||s.return===null){Ct=1,Rs=r,xt=null;break}e:{var m=n,b=s.return,ne=s,fe=r;if(r=Ft,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var we=fe,Fe=ne,be=Fe.tag;if((Fe.mode&1)===0&&(be===0||be===11||be===15)){var Pe=Fe.alternate;Pe?(Fe.updateQueue=Pe.updateQueue,Fe.memoizedState=Pe.memoizedState,Fe.lanes=Pe.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var pt=oc(b);if(pt!==null){pt.flags&=-257,ui(pt,b,ne,m,r),pt.mode&1&&sc(m,we,r),r=pt,fe=we;var ot=r.updateQueue;if(ot===null){var Nn=new Set;Nn.add(fe),r.updateQueue=Nn}else ot.add(fe);break e}else{if((r&1)===0){sc(m,we,r),Os();break e}fe=Error(p(426))}}else if(mt&&ne.mode&1){var Ar=oc(b);if(Ar!==null){(Ar.flags&65536)===0&&(Ar.flags|=256),ui(Ar,b,ne,m,r),Ql(ji(fe,ne));break e}}m=fe=ji(fe,ne),Ct!==4&&(Ct=2),Xi===null?Xi=[m]:Xi.push(m),m=b;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var ue=Pr(m,fe,r);gs(m,ue);break e;case 1:ne=fe;var se=m.type,he=m.stateNode;if((m.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(yr===null||!yr.has(he)))){m.flags|=65536,r&=-r,m.lanes|=r;var Ne=cl(m,ne,r);gs(m,Ne);break e}}m=m.return}while(m!==null)}Na(s)}catch(Ie){r=Ie,xt===s&&s!==null&&(xt=s=s.return);continue}break}while(!0)}function ka(){var n=Co.current;return Co.current=Ui,n===null?Ui:n}function Os(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),ct===null||(qr&268435455)===0&&(ht&268435455)===0||Kr(ct,Ft)}function Qi(n,r){var s=He;He|=2;var l=ka();(ct!==n||Ft!==r)&&(Pn=null,vi(n,r));do try{dc();break}catch(u){As(n,u)}while(!0);if(Zl(),He=s,Co.current=l,xt!==null)throw Error(p(261));return ct=null,Ft=0,Ct}function dc(){for(;xt!==null;)Pa(xt)}function Ea(){for(;xt!==null&&!Bu();)Pa(xt)}function Pa(n){var r=mc(n.alternate,n,bt);n.memoizedProps=n.pendingProps,r===null?Na(n):xt=r,Ns.current=null}function Na(n){var r=n;do{var s=r.alternate;if(n=r.return,(r.flags&32768)===0){if(s=Wi(s,r,bt),s!==null){xt=s;return}}else{if(s=ac(s,r),s!==null){s.flags&=32767,xt=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,xt=null;return}}if(r=r.sibling,r!==null){xt=r;return}xt=r=n}while(r!==null);Ct===0&&(Ct=5)}function yi(n,r,s){var l=Ye,u=Pt.transition;try{Pt.transition=null,Ye=1,fc(n,r,s,l)}finally{Pt.transition=u,Ye=l}return null}function fc(n,r,s,l){do Yr();while(or!==null);if((He&6)!==0)throw Error(p(327));s=n.finishedWork;var u=n.finishedLanes;if(s===null)return null;if(n.finishedWork=null,n.finishedLanes=0,s===n.current)throw Error(p(177));n.callbackNode=null,n.callbackPriority=0;var m=s.lanes|s.childLanes;if($r(n,m),n===ct&&(xt=ct=null,Ft=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||mi||(mi=!0,Ta(Vo,function(){return Yr(),null})),m=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||m){m=Pt.transition,Pt.transition=null;var b=Ye;Ye=1;var ne=He;He|=4,Ns.current=null,uc(n,s),So(s,n),j(n.containerInfo),n.current=s,Es(s),to(),He=ne,Ye=b,Pt.transition=m}else n.current=s;if(mi&&(mi=!1,or=n,xl=u),m=n.pendingLanes,m===0&&(yr=null),cs(s.stateNode),gn(n,Yt()),r!==null)for(l=n.onRecoverableError,s=0;s<r.length;s++)u=r[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Nt)throw Nt=!1,n=Dt,Dt=null,n;return(xl&1)!==0&&n.tag!==0&&Yr(),m=n.pendingLanes,(m&1)!==0?n===Eo?It++:(It=0,Eo=n):It=0,nn(),null}function Yr(){if(or!==null){var n=us(xl),r=Pt.transition,s=Ye;try{if(Pt.transition=null,Ye=16>n?16:n,or===null)var l=!1;else{if(n=or,or=null,xl=0,(He&6)!==0)throw Error(p(331));var u=He;for(He|=4,ke=n.current;ke!==null;){var m=ke,b=m.child;if((ke.flags&16)!==0){var ne=m.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var we=ne[fe];for(ke=we;ke!==null;){var Fe=ke;switch(Fe.tag){case 0:case 11:case 15:qi(8,Fe,m)}var be=Fe.child;if(be!==null)be.return=Fe,ke=be;else for(;ke!==null;){Fe=ke;var Pe=Fe.sibling,pt=Fe.return;if(yo(Fe),Fe===we){ke=null;break}if(Pe!==null){Pe.return=pt,ke=Pe;break}ke=pt}}}var ot=m.alternate;if(ot!==null){var Nn=ot.child;if(Nn!==null){ot.child=null;do{var Ar=Nn.sibling;Nn.sibling=null,Nn=Ar}while(Nn!==null)}}ke=m}}if((m.subtreeFlags&2064)!==0&&b!==null)b.return=m,ke=b;else e:for(;ke!==null;){if(m=ke,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:qi(9,m,m.return)}var ue=m.sibling;if(ue!==null){ue.return=m.return,ke=ue;break e}ke=m.return}}var se=n.current;for(ke=se;ke!==null;){b=ke;var he=b.child;if((b.subtreeFlags&2064)!==0&&he!==null)he.return=b,ke=he;else e:for(b=se;ke!==null;){if(ne=ke,(ne.flags&2048)!==0)try{switch(ne.tag){case 0:case 11:case 15:ks(9,ne)}}catch(Ie){yt(ne,ne.return,Ie)}if(ne===b){ke=null;break e}var Ne=ne.sibling;if(Ne!==null){Ne.return=ne.return,ke=Ne;break e}ke=ne.return}}if(He=u,nn(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(ei,n)}catch{}l=!0}return l}finally{Ye=s,Pt.transition=r}}return!1}function Ra(n,r,s){r=ji(s,r),r=Pr(n,r,1),n=Br(n,r,1),r=vt(),n!==null&&(tr(n,1,r),gn(n,r))}function yt(n,r,s){if(n.tag===3)Ra(n,n,s);else for(;r!==null;){if(r.tag===3){Ra(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){n=ji(s,n),n=cl(r,n,1),r=Br(r,n,1),n=vt(),r!==null&&(tr(r,1,n),gn(r,n));break}}r=r.return}}function hc(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),r=vt(),n.pingedLanes|=n.suspendedLanes&s,ct===n&&(Ft&s)===s&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>Yt()-Fs?vi(n,0):Ts|=s),gn(n,r)}function pc(n,r){r===0&&((n.mode&1)===0?r=1:(r=eo,eo<<=1,(eo&130023424)===0&&(eo=4194304)));var s=vt();n=mr(n,r),n!==null&&(tr(n,r,s),gn(n,s))}function gc(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),pc(n,s)}function id(n,r){var s=0;switch(n.tag){case 13:var l=n.stateNode,u=n.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(p(314))}l!==null&&l.delete(r),pc(n,s)}var mc;mc=function(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps||Ln.current)Bt=!0;else{if((n.lanes&s)===0&&(r.flags&128)===0)return Bt=!1,di(n,r,s);Bt=(n.flags&131072)!==0}else Bt=!1,mt&&(r.flags&1048576)!==0&&Vu(r,Ni,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;vo(n,r),n=r.pendingProps;var u=zr(r,cn.current);ps(r,s),u=co(null,r,l,n,u,s);var m=tl();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Kt(l)?(m=!0,ss(r)):m=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ea(r),u.updater=po,r.stateNode=u,u._reactInternals=r,Er(r,l,n,s),r=dn(null,r,l,!0,m,s)):(r.tag=0,mt&&m&&ro(r),Qt(null,r,u,s),r=r.child),r;case 16:l=r.elementType;e:{switch(vo(n,r),n=r.pendingProps,u=l._init,l=u(l._payload),r.type=l,u=r.tag=sd(l),n=Wn(l,n),u){case 0:r=Nr(null,r,l,n,s);break e;case 1:r=on(null,r,l,n,s);break e;case 11:r=dl(null,r,l,n,s);break e;case 14:r=Bi(null,r,l,Wn(l.type,n),s);break e}throw Error(p(306,l,""))}return r;case 0:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),Nr(n,r,l,u,s);case 1:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),on(n,r,l,u,s);case 3:e:{if(ci(r),n===null)throw Error(p(387));l=r.pendingProps,m=r.memoizedState,u=m.element,Ju(n,r),ri(r,l,null,s);var b=r.memoizedState;if(l=b.element,De&&m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){u=ji(Error(p(423)),r),r=bi(n,r,l,s,u);break e}else if(l!==u){u=ji(Error(p(424)),r),r=bi(n,r,l,s,u);break e}else for(De&&(wn=Kc(r.stateNode.containerInfo),rn=r,mt=!0,gr=null,so=!1),s=Xu(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ri(),l===u){r=Hr(n,r,s);break e}Qt(n,r,l,s)}r=r.child}return r;case 5:return ta(r),n===null&&Xl(r),l=r.type,u=r.pendingProps,m=n!==null?n.memoizedProps:null,b=u.children,me(l,u)?b=null:m!==null&&me(l,m)&&(r.flags|=32),ut(n,r),Qt(n,r,b,s),r.child;case 6:return n===null&&Xl(r),null;case 13:return ya(n,r,s);case 4:return $o(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Fi(r,null,l,s):Qt(n,r,l,s),r.child;case 11:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),dl(n,r,l,u,s);case 7:return Qt(n,r,r.pendingProps,s),r.child;case 8:return Qt(n,r,r.pendingProps.children,s),r.child;case 12:return Qt(n,r,r.pendingProps.children,s),r.child;case 10:e:{if(l=r.type._context,u=r.pendingProps,m=r.memoizedProps,b=u.value,Qu(r,l,b),m!==null)if(fr(m.value,b)){if(m.children===u.children&&!Ln.current){r=Hr(n,r,s);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var ne=m.dependencies;if(ne!==null){b=m.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===l){if(m.tag===1){fe=jr(-1,s&-s),fe.tag=2;var we=m.updateQueue;if(we!==null){we=we.shared;var Fe=we.pending;Fe===null?fe.next=fe:(fe.next=Fe.next,Fe.next=fe),we.pending=fe}}m.lanes|=s,fe=m.alternate,fe!==null&&(fe.lanes|=s),Li(m.return,s,r),ne.lanes|=s;break}fe=fe.next}}else if(m.tag===10)b=m.type===r.type?null:m.child;else if(m.tag===18){if(b=m.return,b===null)throw Error(p(341));b.lanes|=s,ne=b.alternate,ne!==null&&(ne.lanes|=s),Li(b,s,r),b=m.sibling}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}Qt(n,r,u.children,s),r=r.child}return r;case 9:return u=r.type,l=r.pendingProps.children,ps(r,s),u=bn(u),l=l(u),r.flags|=1,Qt(n,r,l,s),r.child;case 14:return l=r.type,u=Wn(l,r.pendingProps),u=Wn(l.type,u),Bi(n,r,l,u,s);case 15:return Vr(n,r,r.type,r.pendingProps,s);case 17:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Wn(l,u),vo(n,r),r.tag=1,Kt(l)?(n=!0,ss(r)):n=!1,ps(r,s),ic(r,l,u),Er(r,l,u,s),dn(null,r,l,!0,n,s);case 19:return hl(n,r,s);case 22:return ft(n,r,s)}throw Error(p(156,r.tag))};function Ta(n,r){return kr(n,r)}function vc(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,r,s,l){return new vc(n,r,s,l)}function Ds(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sd(n){if(typeof n=="function")return Ds(n)?1:0;if(n!=null){if(n=n.$$typeof,n===E)return 11;if(n===f)return 14}return 2}function _i(n,r){var s=n.alternate;return s===null?(s=Jn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}function Nl(n,r,s,l,u,m){var b=2;if(l=n,typeof n=="function")Ds(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case C:return ln(s.children,u,m,r);case F:b=8,u|=8;break;case w:return n=Jn(12,s,r,u|2),n.elementType=w,n.lanes=m,n;case T:return n=Jn(13,s,r,u),n.elementType=T,n.lanes=m,n;case I:return n=Jn(19,s,r,u),n.elementType=I,n.lanes=m,n;case P:return Is(s,u,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case g:b=10;break e;case v:b=9;break e;case E:b=11;break e;case f:b=14;break e;case c:b=16,l=null;break e}throw Error(p(130,n==null?n:typeof n,""))}return r=Jn(b,s,r,u),r.elementType=n,r.type=l,r.lanes=m,r}function ln(n,r,s,l){return n=Jn(7,n,l,r),n.lanes=s,n}function Is(n,r,s,l){return n=Jn(22,n,l,r),n.elementType=P,n.lanes=s,n.stateNode={isHidden:!1},n}function zs(n,r,s){return n=Jn(6,n,null,r),n.lanes=s,n}function Rl(n,r,s){return r=Jn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function yc(n,r,s,l,u){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=as(0),this.expirationTimes=as(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.identifierPrefix=l,this.onRecoverableError=u,De&&(this.mutableSourceEagerHydrationData=null)}function Fa(n,r,s,l,u,m,b,ne,fe){return n=new yc(n,r,s,ne,fe),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Jn(3,null,null,r),n.current=m,m.stateNode=n,m.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea(m),n}function Tl(n){if(!n)return Zr;n=n._reactInternals;e:{if(U(n)!==n||n.tag!==1)throw Error(p(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(p(171))}if(n.tag===1){var s=n.type;if(Kt(s))return zu(n,s,r)}return r}function Ji(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(p(188)):(n=Object.keys(n).join(","),Error(p(268,n)));return n=J(r),n===null?null:n.stateNode}function Fl(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Gs(n,r){Fl(n,r),(n=n.alternate)&&Fl(n,r)}function od(n){return n=J(n),n===null?null:n.stateNode}function _c(){return null}return R.attemptContinuousHydration=function(n){if(n.tag===13){var r=mr(n,134217728);if(r!==null){var s=vt();pn(r,n,134217728,s)}Gs(n,134217728)}},R.attemptDiscreteHydration=function(n){if(n.tag===13){var r=mr(n,1);if(r!==null){var s=vt();pn(r,n,1,s)}Gs(n,1)}},R.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Vt(n),s=mr(n,r);if(s!==null){var l=vt();pn(s,n,r,l)}Gs(n,r)}},R.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var s=os(r.pendingLanes);s!==0&&(Cr(r,s|1),gn(r,Yt()),(He&6)===0&&(at(),nn()))}break;case 13:Ca(function(){var l=mr(n,1);if(l!==null){var u=vt();pn(l,n,1,u)}}),Gs(n,1)}},R.batchedUpdates=function(n,r){var s=He;He|=1;try{return n(r)}finally{He=s,He===0&&(at(),ds&&nn())}},R.createComponentSelector=function(n){return{$$typeof:Wr,value:n}},R.createContainer=function(n,r,s,l,u,m,b){return Fa(n,r,!1,null,s,l,u,m,b)},R.createHasPseudoClassSelector=function(n){return{$$typeof:En,value:n}},R.createHydrationContainer=function(n,r,s,l,u,m,b,ne,fe){return n=Fa(s,l,!0,n,u,m,b,ne,fe),n.context=Tl(null),s=n.current,l=vt(),u=Vt(s),m=jr(l,u),m.callback=r??null,Br(s,m,u),n.current.lanes=u,tr(n,u,l),gn(n,l),n},R.createPortal=function(n,r,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:l==null?null:""+l,children:n,containerInfo:r,implementation:s}},R.createRoleSelector=function(n){return{$$typeof:Tr,value:n}},R.createTestNameSelector=function(n){return{$$typeof:Ps,value:n}},R.createTextSelector=function(n){return{$$typeof:wo,value:n}},R.deferredUpdates=function(n){var r=Ye,s=Pt.transition;try{return Pt.transition=null,Ye=16,n()}finally{Ye=r,Pt.transition=s}},R.discreteUpdates=function(n,r,s,l,u){var m=Ye,b=Pt.transition;try{return Pt.transition=null,Ye=1,n(r,s,l,u)}finally{Ye=m,Pt.transition=b,He===0&&at()}},R.findAllNodes=Mr,R.findBoundingRects=function(n,r){if(!Et)throw Error(p(363));r=Mr(n,r),n=[];for(var s=0;s<r.length;s++)n.push(lt(r[s]));for(r=n.length-1;0<r;r--){s=n[r];for(var l=s.x,u=l+s.width,m=s.y,b=m+s.height,ne=r-1;0<=ne;ne--)if(r!==ne){var fe=n[ne],we=fe.x,Fe=we+fe.width,be=fe.y,Pe=be+fe.height;if(l>=we&&m>=be&&u<=Fe&&b<=Pe){n.splice(r,1);break}else if(l!==we||s.width!==fe.width||Pe<m||be>b){if(!(m!==be||s.height!==fe.height||Fe<l||we>u)){we>l&&(fe.width+=we-l,fe.x=l),Fe<u&&(fe.width=u-we),n.splice(r,1);break}}else{be>m&&(fe.height+=be-m,fe.y=m),Pe<b&&(fe.height=b-be),n.splice(r,1);break}}}return n},R.findHostInstance=Ji,R.findHostInstanceWithNoPortals=function(n){return n=q(n),n=n!==null?re(n):null,n===null?null:n.stateNode},R.findHostInstanceWithWarning=function(n){return Ji(n)},R.flushControlled=function(n){var r=He;He|=1;var s=Pt.transition,l=Ye;try{Pt.transition=null,Ye=1,n()}finally{Ye=l,Pt.transition=s,He=r,He===0&&(at(),nn())}},R.flushPassiveEffects=Yr,R.flushSync=Ca,R.focusWithin=function(n,r){if(!Et)throw Error(p(363));for(n=Fr(n),r=Lr(n,r),r=Array.from(r),n=0;n<r.length;){var s=r[n++];if(!$t(s)){if(s.tag===5&&en(s.stateNode))return!0;for(s=s.child;s!==null;)r.push(s),s=s.sibling}}return!1},R.getCurrentUpdatePriority=function(){return Ye},R.getFindAllNodesFailureDescription=function(n,r){if(!Et)throw Error(p(363));var s=0,l=[];n=[Fr(n),0];for(var u=0;u<n.length;){var m=n[u++],b=n[u++],ne=r[b];if((m.tag!==5||!$t(m))&&(xo(m,ne)&&(l.push(Sl(ne)),b++,b>s&&(s=b)),b<r.length))for(m=m.child;m!==null;)n.push(m,b),m=m.sibling}if(s<r.length){for(n=[];s<r.length;s++)n.push(Sl(r[s]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},R.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return ge(n.child.stateNode);default:return n.child.stateNode}},R.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:od,findFiberByHostInstance:n.findFiberByHostInstance||_c,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{ei=r.inject(n),Mn=r}catch{}n=!!r.checkDCE}}return n},R.isAlreadyRendering=function(){return!1},R.observeVisibleRects=function(n,r,s,l){if(!Et)throw Error(p(363));n=Mr(n,r);var u=er(n,s,l).disconnect;return{disconnect:function(){u()}}},R.registerMutableSourceForHydration=function(n,r){var s=r._getVersion;s=s(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,s]:n.mutableSourceEagerHydrationData.push(r,s)},R.runWithPriority=function(n,r){var s=Ye;try{return Ye=n,r()}finally{Ye=s}},R.shouldError=function(){return null},R.shouldSuspend=function(){return!1},R.updateContainer=function(n,r,s,l){var u=r.current,m=vt(),b=Vt(u);return s=Tl(s),r.context===null?r.context=s:r.pendingContext=s,r=jr(m,b),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=Br(u,r,b),n!==null&&(pn(n,u,b,m),lo(n,u,b)),b},R}),Wd}var Xh;function j1(){return Xh||(Xh=1,Hd.exports=U1()),Hd.exports}var B1=j1();const b1=Qd(B1);var qd={exports:{}},Ks={};var Qh;function V1(){return Qh||(Qh=1,Ks.ConcurrentRoot=1,Ks.ContinuousEventPriority=4,Ks.DefaultEventPriority=16,Ks.DiscreteEventPriority=1,Ks.IdleEventPriority=536870912,Ks.LegacyRoot=0),Ks}var Jh;function H1(){return Jh||(Jh=1,qd.exports=V1()),qd.exports}var h0=H1(),W1=qe();const Zh={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let $h=!1,e0=!1;const nf=".react-konva-event",q1=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,K1=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Y1={};function Wc(h,_,R=Y1){if(!$h&&"zIndex"in _&&(console.warn(K1),$h=!0),!e0&&_.draggable){var B=_.x!==void 0||_.y!==void 0,D=_.onDragEnd||_.onDragMove;B&&!D&&(console.warn(q1),e0=!0)}for(var k in R)if(!Zh[k]){var p=k.slice(0,2)==="on",y=R[k]!==_[k];if(p&&y){var S=k.substr(2).toLowerCase();S.substr(0,7)==="content"&&(S="content"+S.substr(7,1).toUpperCase()+S.substr(8)),h.off(S,R[k])}var x=!_.hasOwnProperty(k);x&&h.setAttr(k,void 0)}var C=_._useStrictMode,F={},w=!1;const g={};for(var k in _)if(!Zh[k]){var p=k.slice(0,2)==="on",v=R[k]!==_[k];if(p&&v){var S=k.substr(2).toLowerCase();S.substr(0,7)==="content"&&(S="content"+S.substr(7,1).toUpperCase()+S.substr(8)),_[k]&&(g[S]=_[k])}!p&&(_[k]!==R[k]||C&&_[k]!==h.getAttr(k))&&(w=!0,F[k]=_[k])}w&&(h.setAttrs(F),Ys(h));for(var S in g)h.on(S+nf,g[S])}function Ys(h){if(!W1.Konva.autoDrawEnabled){var _=h.getLayer()||h.getStage();_&&_.batchDraw()}}var Kd=Jd();const p0={},X1={};Pu.Node.prototype._applyProps=Wc;function Q1(h,_){if(typeof _=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${_}`);return}h.add(_),Ys(h)}function J1(h,_,R){let B=Pu[h];B||(console.error(`Konva has no node with the type ${h}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${h}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),B=Pu.Group);const D={},k={};for(var p in _){var y=p.slice(0,2)==="on";y?k[p]=_[p]:D[p]=_[p]}const S=new B(D);return Wc(S,k),S}function Z1(h,_,R){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${h}"`)}function $1(h,_,R){return!1}function ep(h){return h}function tp(){return null}function np(){return null}function rp(h,_,R,B){return X1}function ip(){}function sp(h){}function op(h,_){return!1}function lp(){return p0}function ap(){return p0}const up=setTimeout,cp=clearTimeout,dp=-1;function fp(h,_){return!1}const hp=!1,pp=!0,gp=!0;function mp(h,_){_.parent===h?_.moveToTop():h.add(_),Ys(h)}function vp(h,_){_.parent===h?_.moveToTop():h.add(_),Ys(h)}function g0(h,_,R){_._remove(),h.add(_),_.setZIndex(R.getZIndex()),Ys(h)}function yp(h,_,R){g0(h,_,R)}function _p(h,_){_.destroy(),_.off(nf),Ys(h)}function Sp(h,_){_.destroy(),_.off(nf),Ys(h)}function wp(h,_,R){console.error(`Text components are not yet supported in ReactKonva. You text is: "${R}"`)}function xp(h,_,R){}function Cp(h,_,R,B,D){Wc(h,D,B)}function kp(h){h.hide(),Ys(h)}function Ep(h){}function Pp(h,_){(_.visible==null||_.visible)&&h.show()}function Np(h,_){}function Rp(h){}function Tp(){}const Fp=()=>h0.DefaultEventPriority,Lp=Object.freeze(Object.defineProperty({__proto__:null,appendChild:mp,appendChildToContainer:vp,appendInitialChild:Q1,cancelTimeout:cp,clearContainer:Rp,commitMount:xp,commitTextUpdate:wp,commitUpdate:Cp,createInstance:J1,createTextInstance:Z1,detachDeletedInstance:Tp,finalizeInitialChildren:$1,getChildHostContext:ap,getCurrentEventPriority:Fp,getPublicInstance:ep,getRootHostContext:lp,hideInstance:kp,hideTextInstance:Ep,idlePriority:Kd.unstable_IdlePriority,insertBefore:g0,insertInContainerBefore:yp,isPrimaryRenderer:hp,noTimeout:dp,now:Kd.unstable_now,prepareForCommit:tp,preparePortalMount:np,prepareUpdate:rp,removeChild:_p,removeChildFromContainer:Sp,resetAfterCommit:ip,resetTextContent:sp,run:Kd.unstable_runWithPriority,scheduleTimeout:up,shouldDeprioritizeSubtree:op,shouldSetTextContent:fp,supportsMutation:gp,unhideInstance:Pp,unhideTextInstance:Np,warnsIfNotActing:pp},Symbol.toStringTag,{value:"Module"}));var Mp=Object.defineProperty,Ap=Object.defineProperties,Op=Object.getOwnPropertyDescriptors,t0=Object.getOwnPropertySymbols,Dp=Object.prototype.hasOwnProperty,Ip=Object.prototype.propertyIsEnumerable,n0=(h,_,R)=>_ in h?Mp(h,_,{enumerable:!0,configurable:!0,writable:!0,value:R}):h[_]=R,r0=(h,_)=>{for(var R in _||(_={}))Dp.call(_,R)&&n0(h,R,_[R]);if(t0)for(var R of t0(_))Ip.call(_,R)&&n0(h,R,_[R]);return h},zp=(h,_)=>Ap(h,Op(_)),i0,s0;typeof window<"u"&&((i0=window.document)!=null&&i0.createElement||((s0=window.navigator)==null?void 0:s0.product)==="ReactNative")?Re.useLayoutEffect:Re.useEffect;function m0(h,_,R){if(!h)return;if(R(h)===!0)return h;let B=h.child;for(;B;){const D=m0(B,_,R);if(D)return D;B=B.sibling}}function v0(h){try{return Object.defineProperties(h,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return h}}const o0=console.error;console.error=function(){const h=[...arguments].join("");if(h?.startsWith("Warning:")&&h.includes("useContext")){console.error=o0;return}return o0.apply(this,arguments)};const rf=v0(Re.createContext(null));class y0 extends Re.Component{render(){return Re.createElement(rf.Provider,{value:this._reactInternals},this.props.children)}}function Gp(){const h=Re.useContext(rf);if(h===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _=Re.useId();return Re.useMemo(()=>{for(const B of[h,h?.alternate]){if(!B)continue;const D=m0(B,!1,k=>{let p=k.memoizedState;for(;p;){if(p.memoizedState===_)return!0;p=p.next}});if(D)return D}},[h,_])}function Up(){const h=Gp(),[_]=Re.useState(()=>new Map);_.clear();let R=h;for(;R;){if(R.type&&typeof R.type=="object"){const D=R.type._context===void 0&&R.type.Provider===R.type?R.type:R.type._context;D&&D!==rf&&!_.has(D)&&_.set(D,Re.useContext(v0(D)))}R=R.return}return _}function jp(){const h=Up();return Re.useMemo(()=>Array.from(h.keys()).reduce((_,R)=>B=>Re.createElement(_,null,Re.createElement(R.Provider,zp(r0({},B),{value:h.get(R)}))),_=>Re.createElement(y0,r0({},_))),[h])}function Bp(h){const _=Gn.useRef({});return Gn.useLayoutEffect(()=>{_.current=h}),Gn.useLayoutEffect(()=>()=>{_.current={}},[]),_.current}const bp=h=>{const _=Gn.useRef(null),R=Gn.useRef(null),B=Gn.useRef(null),D=Bp(h),k=jp(),p=y=>{const{forwardedRef:S}=h;S&&(typeof S=="function"?S(y):S.current=y)};return Gn.useLayoutEffect(()=>(R.current=new Pu.Stage({width:h.width,height:h.height,container:_.current}),p(R.current),B.current=Eu.createContainer(R.current,h0.LegacyRoot,!1,null),Eu.updateContainer(Gn.createElement(k,{},h.children),B.current),()=>{Pu.isBrowser&&(p(null),Eu.updateContainer(null,B.current,null),R.current.destroy())}),[]),Gn.useLayoutEffect(()=>{p(R.current),Wc(R.current,h,D),Eu.updateContainer(Gn.createElement(k,{},h.children),B.current,null)}),Gn.createElement("div",{ref:_,id:h.id,accessKey:h.accessKey,className:h.className,role:h.role,style:h.style,tabIndex:h.tabIndex,title:h.title})},Vp="Layer",Hp="Group",Wp="Line",_0="Image",qp="Transformer",Eu=b1(Lp);Eu.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Gn.version,rendererPackageName:"react-konva"});const Kp=Gn.forwardRef((h,_)=>Gn.createElement(y0,{},Gn.createElement(bp,{...h,forwardedRef:_}))),Yp=Gn.memo(({item:h,onDelete:_,onSelect:R,isSelected:B,onUpdate:D,snapEnabled:k,gridSpacing:p})=>{const[y,S]=Re.useState(null),[x,C]=Re.useState(!0),F=Re.useRef(),w=Re.useRef(),g=Re.useRef(h);if(Re.useEffect(()=>{g.current=h},[h]),Re.useEffect(()=>{const T=new window.Image;T.src=Bc(h.image),T.onload=()=>{S(T),C(!1)},T.onerror=()=>{console.error(`Failed to load image: ${h.image}`),C(!1)}},[h.image]),Re.useEffect(()=>{B&&w.current&&F.current&&(w.current.nodes([F.current]),w.current.getLayer().batchDraw())},[B,h.width,h.height]),x)return null;const v=T=>{let I=T.target.x(),f=T.target.y();k&&(I=Math.round(I/p)*p,f=Math.round(f/p)*p,T.target.x(I),T.target.y(f)),g.current.x=I,g.current.y=f,D(g.current)},E=()=>{if(F.current){const T=F.current,I=T.scaleX(),f=T.scaleY(),c=Math.max(I,f),P=Math.max(20,g.current.width*c),A=Math.max(20,g.current.height*c);T.scaleX(1),T.scaleY(1),g.current.x=T.x(),g.current.y=T.y(),g.current.rotation=T.rotation(),g.current.width=P,g.current.height=A,D(g.current)}};return pe.jsxs(pe.Fragment,{children:[pe.jsx(_0,{ref:F,image:y,x:h.x,y:h.y,width:h.width,height:h.height,rotation:h.rotation,draggable:!0,onDragEnd:v,onClick:()=>R(h.id),onTap:()=>R(h.id),onContextMenu:T=>{T.evt.preventDefault(),_(h.id)},stroke:B?"#CBB8F9":void 0,strokeWidth:B?2:0,shadowColor:B?"#A5CAFE":void 0,shadowBlur:B?8:0,shadowOpacity:B?.6:0,name:"furniture-item"}),B&&pe.jsx(qp,{ref:w,keepRatio:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(T,I)=>{if(I.width<20||I.height<20)return T;const f=T.width/T.height,c=I.width/I.height;return Math.abs(f-c)>1e-4&&(I.height=I.width/f),I},rotationSnaps:[0,90,180,270],onTransformEnd:E})]})}),S0=Re.forwardRef(({furniture:h,onUpdateFurniture:_,stageRef:R,background:B,scale:D=1,showGrid:k=!1,isPanning:p=!1,snapEnabled:y=!1},S)=>{const x=Re.useRef(),[C,F]=Re.useState(null),w=Re.useRef(),[g,v]=Re.useState(null),[E,T]=Re.useState({width:1200,height:800}),I=Re.useRef(1),f=Re.useCallback(()=>{if(!w.current)return;const G=w.current.offsetWidth,q=w.current.offsetHeight,J=40,ee=G-J*2,re=q-J*2;if(g){const Q=B.width,ge=B.height,N=Math.min(ee/Q,re/ge);I.current=N,T({width:Q,height:ge})}else I.current=1,T({width:ee,height:re})},[g,B]);Re.useEffect(()=>{if(B){const G=new window.Image;G.src=Bc(B.image),G.onload=()=>{v(G)},G.onerror=()=>{console.error(`Failed to load background: ${B.image}`)}}else v(null),I.current=1},[B]),Re.useEffect(()=>{f()},[f]),Re.useEffect(()=>{R&&x.current&&(R.current=x.current)},[R]),Re.useEffect(()=>{const G=()=>{f()};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[f]);const c=G=>{const q=h.filter(J=>J.id!==G);_(q),F(null)},P=G=>{const q=G.target,J=q?.hasName?.("furniture-item"),ee=q?.getParent?.()&&q.getParent().getClassName()==="Transformer";!J&&!ee&&F(null)},A=G=>{if(G.key==="Delete"&&C)c(C);else if((G.key==="r"||G.key==="R")&&C){const q=h.find(J=>J.id===C);q&&(q.rotation=(q.rotation+45)%360,_([...h]))}};Re.useEffect(()=>(window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)),[C,h]);const V=50,X=D*I.current,z=X>0?V/X:V,U=[];if(k){for(let G=0;G<=E.width;G+=z)U.push({points:[G,0,G,E.height]});for(let G=0;G<=E.height;G+=z)U.push({points:[0,G,E.width,G]})}return pe.jsxs("div",{ref:w,className:"flex-1 bg-gray-50 relative overflow-hidden flex items-center justify-center",children:[pe.jsx("div",{className:"absolute top-6 left-6 text-xs text-gray-500 pointer-events-none z-10 bg-white px-3 py-2 rounded border border-gray-200",children:pe.jsx("p",{children:"Arrastra muebles  R = rotar  Supr = eliminar"})}),pe.jsx(Kp,{ref:x,width:E.width,height:E.height,scaleX:D*I.current,scaleY:D*I.current,draggable:p,onMouseDown:P,onTouchStart:P,style:{background:g?"transparent":"#ffffff",cursor:p?"grab":"default"},children:pe.jsxs(Vp,{children:[g&&pe.jsx(_0,{image:g,x:0,y:0,width:E.width,height:E.height}),k&&pe.jsx(Hp,{listening:!1,children:U.map((G,q)=>pe.jsx(Wp,{points:G.points,stroke:"#e2e8f0",strokeWidth:1,perfectDrawEnabled:!1},q))}),h.map(G=>pe.jsx(Yp,{item:G,onDelete:c,onSelect:F,isSelected:C===G.id,snapEnabled:y,gridSpacing:z,onUpdate:q=>{const J=h.map(ee=>ee.id===q.id?q:ee);_(J)}},G.id))]})})]})});S0.displayName="CanvasEditor";const Xp=({onSelectBackground:h,currentBackground:_})=>{const[R,B]=Re.useState([]),[D,k]=Re.useState(!0),[p,y]=Re.useState([]),S=Re.useRef(null);Re.useEffect(()=>{fetch("https://key-studios.github.io/muba-test//backgrounds.json").then(f=>f.json()).then(f=>{B(f.backgrounds),k(!1)}).catch(f=>{console.error("Error loading backgrounds:",f),k(!1)});const I=localStorage.getItem("uploadedBackgrounds");I&&y(JSON.parse(I))},[]);const x=I=>{const f=I.target.files;if(f){for(let c=0;c<f.length;c++){const P=f[c];if(!P.type.startsWith("image/")){alert("Por favor sube solo archivos de imagen");continue}const A=new FileReader;A.onload=V=>{const X=V.target.result,z=new Image;z.onload=()=>{const U={id:`uploaded-${Date.now()}-${Math.random()}`,name:P.name.replace(/\.[^/.]+$/,""),image:X,width:z.width,height:z.height,isUploaded:!0},G=[...p,U];y(G),localStorage.setItem("uploadedBackgrounds",JSON.stringify(G)),h(U)},z.src=X},A.readAsDataURL(P)}S.current&&(S.current.value="")}},C=I=>{const f=p.filter(c=>c.id!==I);y(f),localStorage.setItem("uploadedBackgrounds",JSON.stringify(f)),_?.id===I&&h(null)},[F,w]=Re.useState(!0),g=Re.useRef(null),v=Re.useRef(null),E=()=>{g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{w(!1)},2500)};Re.useEffect(()=>{const I=f=>{f.clientY<140&&(w(!0),E())};return window.addEventListener("mousemove",I),()=>window.removeEventListener("mousemove",I)},[]),Re.useEffect(()=>{const I=v.current;if(!I)return;const f=()=>{w(!0),E()};return I.addEventListener("mouseenter",f),I.addEventListener("focusin",f),I.addEventListener("mousemove",f),()=>{I.removeEventListener("mouseenter",f),I.removeEventListener("focusin",f),I.removeEventListener("mousemove",f)}},[]);const T=`bg-gray-100 border border-border rounded-xl px-6 py-4 shadow-md transition-all duration-500 ease-out ${F?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}`;return pe.jsxs("div",{ref:v,className:T,children:[pe.jsxs("div",{className:"flex items-center justify-between mb-3",children:[pe.jsx("h3",{className:"text-sm font-medium text-text",children:"Fondos"}),pe.jsx("button",{onClick:()=>S.current?.click(),className:"text-xs px-2 py-1 bg-gray-200 hover:bg-gray-300 text-text rounded-md transition-colors border border-border",title:"Sube tus propias imgenes",children:"+ Subir"}),pe.jsx("input",{ref:S,type:"file",multiple:!0,accept:"image/*",onChange:x,className:"hidden"})]}),pe.jsxs("div",{className:"flex gap-2 flex-wrap",children:[pe.jsx("button",{onClick:()=>h(null),className:`px-3 py-1.5 text-sm rounded-md transition-all border ${_===null?"bg-gray-300 text-text border-border shadow-inner":"bg-surface text-text border-border hover:bg-gray-200"}`,children:"Sin fondo"}),R.map(I=>pe.jsx("button",{onClick:()=>h(I),className:`px-3 py-1.5 text-sm rounded-md transition-all border ${_?.id===I.id?"bg-gray-300 text-text border-border shadow-inner":"bg-surface text-text border-border hover:bg-gray-200"}`,title:I.name,children:I.name},I.id)),p.map(I=>pe.jsxs("div",{className:"relative group",title:I.name,children:[pe.jsx("button",{onClick:()=>h(I),className:`px-3 py-1.5 text-sm rounded-md transition-all border ${_?.id===I.id?"bg-gray-300 text-text border-border shadow-inner":"bg-surface text-text border-border hover:bg-gray-200"}`,children:I.name.length>10?I.name.substring(0,10)+"...":I.name}),pe.jsx("button",{onClick:()=>C(I.id),className:"absolute -top-2 -right-2 bg-danger text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow",title:"Eliminar",children:""})]},I.id))]}),p.length>0&&pe.jsxs("div",{className:"text-xs text-text-subtle mt-3",children:[p.length," fondo(s) subido(s)"]})]})},Qp=({onExport:h,onZoomIn:_,onZoomOut:R,onZoomReset:B,scale:D,showGrid:k,onToggleGrid:p,isPanning:y,onTogglePan:S,snapEnabled:x,onToggleSnap:C,scenes:F,activeSceneId:w,onCreateScene:g,onSelectScene:v,onRenameScene:E,onDeleteScene:T})=>{const[I,f]=Re.useState(!1),c=F.find(Q=>Q.id===w),[P,A]=Re.useState(c?.name||""),V=()=>{A(c?.name||""),f(!0)},X=()=>{c&&P.trim()&&E(c.id,P.trim()),f(!1)},z=()=>{f(!1)},[U,G]=Re.useState(!0),q=Re.useRef(null),J=Re.useRef(null);Re.useEffect(()=>{const Q=ge=>{ge.clientY<100&&(G(!0),ee())};return window.addEventListener("mousemove",Q),()=>window.removeEventListener("mousemove",Q)},[]);const ee=()=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{G(!1)},2500)};Re.useEffect(()=>{const Q=J.current;if(!Q)return;const ge=()=>{G(!0),ee()};return Q.addEventListener("mouseenter",ge),Q.addEventListener("focusin",ge),Q.addEventListener("mousemove",ge),()=>{Q.removeEventListener("mouseenter",ge),Q.removeEventListener("focusin",ge),Q.removeEventListener("mousemove",ge)}},[]);const re=`flex items-center gap-3 px-6 py-3 border border-border rounded-xl bg-gray-100 text-sm shadow-md transition-transform duration-500 ease-out ${U?"translate-y-0 opacity-100":"-translate-y-full opacity-0 pointer-events-none"}`;return pe.jsxs("div",{ref:J,className:re,children:[pe.jsx("div",{className:"flex items-center gap-2",children:pe.jsx("button",{onClick:h,className:"px-3 py-1.5 rounded-lg bg-gray-200 hover:bg-gray-300 text-text font-medium shadow-sm transition-colors",children:"Exportar"})}),pe.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[pe.jsx("button",{onClick:R,className:"px-2 py-1 rounded-md border border-border bg-surface hover:bg-gray-200",children:"-"}),pe.jsxs("span",{className:"min-w-[60px] text-center text-text-subtle",children:[Math.round(D*100),"%"]}),pe.jsx("button",{onClick:_,className:"px-2 py-1 rounded-md border border-border bg-surface hover:bg-gray-200",children:"+"}),pe.jsx("button",{onClick:B,className:"px-2 py-1 rounded-md border border-border bg-surface hover:bg-gray-200",children:"Reset"})]}),pe.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[pe.jsx("button",{onClick:p,className:`px-3 py-1.5 rounded-md border border-border ${k?"bg-gray-300 text-text shadow-inner":"bg-surface hover:bg-gray-200 text-text"} transition`,children:"Grid"}),pe.jsx("button",{onClick:C,className:`px-3 py-1.5 rounded-md border border-border ${x?"bg-gray-300 text-text shadow-inner":"bg-surface hover:bg-gray-200 text-text"} transition`,children:"Snap"}),pe.jsx("button",{onClick:S,className:`px-3 py-1.5 rounded-md border border-border ${y?"bg-gray-300 text-text shadow-inner":"bg-surface hover:bg-gray-200 text-text"} transition`,children:"Pan"})]}),pe.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[pe.jsx("select",{value:w||"",onChange:Q=>v(Q.target.value),className:"px-2 py-1 border border-border rounded-md bg-surface focus:outline-none focus:ring-2 focus:ring-gray-300 text-sm",children:F.map(Q=>pe.jsx("option",{value:Q.id,children:Q.name},Q.id))}),I?pe.jsxs("div",{className:"flex items-center gap-1",children:[pe.jsx("input",{value:P,onChange:Q=>A(Q.target.value),className:"px-2 py-1 border border-border rounded bg-surface w-32",autoFocus:!0}),pe.jsx("button",{onClick:X,className:"px-2 py-1 rounded border border-border bg-surface hover:bg-accent-soft",children:"OK"}),pe.jsx("button",{onClick:z,className:"px-2 py-1 rounded border border-border bg-surface hover:bg-accent-soft",children:"X"})]}):pe.jsxs(pe.Fragment,{children:[pe.jsx("button",{onClick:V,className:"px-2 py-1 rounded-md border border-border bg-surface hover:bg-gray-200",children:"Renombrar"}),pe.jsx("button",{onClick:g,className:"px-2 py-1 rounded-md border border-border bg-surface hover:bg-gray-200",children:"Nueva"}),F.length>1&&pe.jsx("button",{onClick:()=>T(w),className:"px-2 py-1 rounded-md border border-danger bg-danger text-white hover:opacity-90",children:"Eliminar"})]})]}),pe.jsx("div",{className:"flex items-center gap-2 ml-auto",children:pe.jsxs("span",{className:"text-text-subtle",children:["Escenas: ",F.length]})})]})},Jp=({scenes:h,activeSceneId:_,onCreate:R,onSelect:B,onRename:D,onDelete:k,onClose:p})=>{const[y,S]=Re.useState(null),[x,C]=Re.useState(""),F=v=>{S(v.id),C(v.name)},w=()=>{y&&x.trim()&&D(y,x.trim()),S(null),C("")},g=()=>{S(null),C("")};return pe.jsxs("div",{className:"rounded-xl shadow-2xl bg-pastel-lilac border border-border w-72 max-h-[80vh] flex flex-col overflow-hidden animate-fade-in",children:[pe.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-pastel-peach",children:[pe.jsx("h2",{className:"text-sm font-semibold text-text",children:"Escenas"}),pe.jsx("button",{onClick:p,className:"text-xs px-2 py-1 rounded-md bg-surface border border-border hover:bg-pastel-peach/40",children:"Cerrar"})]}),pe.jsxs("div",{className:"p-4 space-y-3 overflow-y-auto bg-pastel-lilac",children:[h.map(v=>pe.jsxs("div",{className:`rounded-lg border ${v.id===_?"border-pastel-lilac bg-pastel-lilac/20":"border-border bg-surface"} p-2 flex flex-col gap-2`,children:[pe.jsxs("div",{className:"flex items-center justify-between",children:[pe.jsx("button",{onClick:()=>B(v.id),className:`text-xs font-medium truncate text-left flex-1 ${v.id===_?"text-text":"text-text-subtle hover:text-text"}`,title:v.name,children:v.name}),h.length>1&&pe.jsx("button",{onClick:()=>k(v.id),className:"text-[10px] px-1 py-0.5 rounded bg-danger text-white ml-2 hover:opacity-90",title:"Eliminar",children:""})]}),y===v.id?pe.jsxs("div",{className:"flex items-center gap-1",children:[pe.jsx("input",{value:x,onChange:E=>C(E.target.value),className:"flex-1 px-2 py-1 text-xs rounded border border-border bg-surface",autoFocus:!0}),pe.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 rounded border border-border bg-pastel-green hover:bg-pastel-green",children:"OK"}),pe.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 rounded border border-border bg-pastel-rose hover:bg-pastel-rose",children:"X"})]}):pe.jsx("div",{className:"flex gap-2",children:pe.jsx("button",{onClick:()=>F(v),className:"flex-1 text-[10px] px-2 py-1 rounded border border-border bg-surface hover:bg-pastel-lilac/40",children:"Renombrar"})})]},v.id)),h.length===0&&pe.jsx("p",{className:"text-xs text-text-subtle",children:"No hay escenas"})]}),pe.jsxs("div",{className:"p-3 border-t border-border flex items-center justify-between bg-pastel-peach",children:[pe.jsxs("span",{className:"text-[11px] text-text-subtle",children:["Total: ",h.length]}),pe.jsx("button",{onClick:R,className:"text-xs px-3 py-1 rounded-md bg-pastel-lilac hover:bg-pastel-peach text-text border border-border",children:"Nueva"})]})]})},Zp=async h=>{if(h?.current)try{const _=h.current.toDataURL({pixelRatio:2}),R=document.createElement("a");R.href=_,R.download=`diseo-espacios-${new Date().getTime()}.png`,document.body.appendChild(R),R.click(),document.body.removeChild(R)}catch(_){console.error("Error exporting canvas:",_),alert("Error al exportar la imagen. Por favor intenta de nuevo.")}};function $p(){const[h,_]=Re.useState([]),[R,B]=Re.useState([]),[D,k]=Re.useState(null),p=Re.useRef(),[y,S]=Re.useState(!0),[x,C]=Re.useState(!1),[F,w]=Re.useState(!1),[g,v]=Re.useState(!0),[E,T]=Re.useState({toolbar:!1,catalog:!1,backgrounds:!1,scenes:!1}),I=Re.useRef(null);Re.useEffect(()=>{fetch("https://key-studios.github.io/muba-test//furniture.json").then(L=>L.json()).then(L=>{_(L.categories),S(!1)}).catch(L=>{console.error("Error loading furniture catalog:",L),S(!1)})},[]),Re.useEffect(()=>{const L=localStorage.getItem("muba_scenes_v1");if(L)try{const j=JSON.parse(L);if(Array.isArray(j)&&j.length){B(j),k(j[0].id);return}}catch(j){console.error("Error parsing scenes",j)}const H={id:`scene-${Date.now()}`,name:"Escena 1",furniture:[],background:null,scale:1,showGrid:!1,snapEnabled:!1};B([H]),k(H.id)},[]),Re.useEffect(()=>{R.length&&(I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{localStorage.setItem("muba_scenes_v1",JSON.stringify(R))},400))},[R]);const f=R.find(L=>L.id===D)||null,c=L=>{B(H=>H.map(j=>j.id===D?{...j,...L}:j))},P=()=>{const L=R.length+1,H={id:`scene-${Date.now()}-${Math.random()}`,name:`Escena ${L}`,furniture:[],background:null,scale:f?f.scale:1,showGrid:f?f.showGrid:!1,snapEnabled:f?f.snapEnabled:!1};B(j=>[...j,H]),k(H.id)},A=L=>{k(L)},V=(L,H)=>{B(j=>j.map(M=>M.id===L?{...M,name:H}:M))},X=L=>{R.length<=1||(B(H=>H.filter(j=>j.id!==L)),D===L&&k(H=>R.filter(M=>M.id!==L)[0]?.id||null))},z=L=>{L.preventDefault(),L.stopPropagation();try{const H=JSON.parse(L.dataTransfer.getData("application/json"));let j=50,M=50;if(p.current&&f){const me=p.current.container().getBoundingClientRect();j=(L.clientX-me.left)/f.scale,M=(L.clientY-me.top)/f.scale}const Y=Math.round(H.width*(f?.scale||1)),Z=Math.round(H.height*(f?.scale||1)),de={id:`furniture-${Date.now()}-${Math.random()}`,name:H.name,image:H.image,width:Y,height:Z,x:j,y:M,rotation:0,baseWidth:H.width,baseHeight:H.height};f&&c({furniture:[...f.furniture,de]})}catch(H){console.error("Error parsing drag data:",H)}},U=L=>{L.preventDefault(),L.stopPropagation(),L.dataTransfer.dropEffect="copy"},G=()=>{if(!f||f.furniture.length===0){alert("Por favor aade muebles al canvas antes de exportar.");return}Zp(p)},q=()=>f&&c({scale:Math.min(3,f.scale+.1)}),J=()=>f&&c({scale:Math.max(.3,f.scale-.1)}),ee=()=>f&&c({scale:1}),re=()=>f&&c({showGrid:!f.showGrid}),Q=()=>C(L=>!L),ge=()=>f&&c({snapEnabled:!f.snapEnabled});if(y)return pe.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:pe.jsxs("div",{className:"text-center",children:[pe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),pe.jsx("p",{className:"text-gray-600",children:"Cargando catlogo..."})]})});const N=L=>T(H=>({...H,[L]:!H[L]}));return pe.jsxs("div",{className:"relative h-screen w-screen overflow-hidden bg-surface",children:[pe.jsx("div",{className:"hidden sm:flex fixed top-3 left-1/2 -translate-x-1/2 z-50 flex-col items-center gap-2",children:pe.jsx("button",{onClick:()=>N("toolbar"),className:"btn-base btn-primary",children:"Toolbar"})}),pe.jsx("div",{className:"hidden sm:flex fixed top-1/2 right-3 -translate-y-1/2 z-50 flex-col gap-2",children:pe.jsx("button",{onClick:()=>N("catalog"),className:"btn-base btn-secondary",children:"Catlogo"})}),pe.jsx("div",{className:"hidden sm:flex fixed top-1/2 left-3 -translate-y-1/2 z-50 flex-col gap-2",children:pe.jsx("button",{onClick:()=>N("backgrounds"),className:"btn-base btn-tertiary",children:"Fondos"})}),pe.jsxs("div",{className:"hidden sm:flex fixed bottom-3 left-1/2 -translate-x-1/2 z-50 flex-col gap-2",children:[pe.jsx("button",{onClick:()=>N("scenes"),className:"btn-base btn-scenes",children:"Escenas"}),pe.jsx("button",{onClick:G,className:"btn-base btn-export",children:"Exportar"})]}),pe.jsx("div",{className:"sm:hidden fixed bottom-4 right-4 z-50 w-40 h-40 pointer-events-none",children:pe.jsxs("div",{className:"relative w-full h-full",children:[pe.jsx("button",{onClick:()=>N("toolbar"),className:"absolute top-0 left-0 btn-base btn-primary btn-mobile pointer-events-auto",children:"Toolbar"}),pe.jsx("button",{onClick:()=>N("catalog"),className:"absolute top-12 left-0 btn-base btn-secondary btn-mobile pointer-events-auto",children:"Catlogo"}),pe.jsx("button",{onClick:()=>N("backgrounds"),className:"absolute top-12 left-20 btn-base btn-tertiary btn-mobile pointer-events-auto",children:"Fondos"}),pe.jsx("button",{onClick:()=>N("scenes"),className:"absolute top-24 left-0 btn-base btn-scenes btn-mobile pointer-events-auto",children:"Escenas"}),pe.jsx("button",{onClick:G,className:"absolute top-24 left-20 btn-base btn-export btn-mobile pointer-events-auto",children:"Exportar"})]})}),E.catalog&&pe.jsx("div",{className:"fixed bottom-40 right-4 z-40 sm:bottom-auto sm:top-1/2 sm:right-20 sm:-translate-y-1/2",children:pe.jsx(J0,{categories:h,onAddFurniture:()=>{},existingFurniture:f?f.furniture.length:0,hidden:!1,onToggle:()=>N("catalog")})}),E.toolbar&&pe.jsx("div",{className:"fixed bottom-[calc(40px+12rem)] right-4 z-40 w-[85vw] max-w-[420px] sm:bottom-auto sm:top-14 sm:left-1/2 sm:right-auto sm:-translate-x-1/2 sm:w-[900px] sm:max-w-[95vw]",children:pe.jsx(Qp,{onExport:G,onZoomIn:q,onZoomOut:J,onZoomReset:ee,scale:f?f.scale:1,showGrid:f?f.showGrid:!1,onToggleGrid:re,isPanning:x,onTogglePan:Q,snapEnabled:f?f.snapEnabled:!1,onToggleSnap:ge,scenes:R,activeSceneId:D,onCreateScene:P,onSelectScene:A,onRenameScene:V,onDeleteScene:X})}),E.backgrounds&&pe.jsx("div",{className:"fixed bottom-24 right-4 z-40 w-[85vw] max-w-[420px] sm:bottom-auto sm:top-1/2 sm:left-20 sm:right-auto sm:-translate-y-1/2 sm:w-[420px] sm:max-w-[90vw]",children:pe.jsx(Xp,{onSelectBackground:L=>f&&c({background:L}),currentBackground:f?f.background:null})}),E.scenes&&pe.jsx("div",{className:"fixed bottom-60 right-4 z-40 sm:bottom-20 sm:left-1/2 sm:right-auto sm:-translate-x-1/2",children:pe.jsx(Jp,{scenes:R,activeSceneId:D,onCreate:P,onSelect:A,onRename:V,onDelete:X,onClose:()=>N("scenes")})}),pe.jsx("div",{className:"absolute inset-0 pt-0 flex items-end justify-center",onDrop:z,onDragOver:U,children:pe.jsx("div",{className:"w-full h-full",children:f&&pe.jsx(S0,{furniture:f.furniture,onUpdateFurniture:L=>c({furniture:L}),stageRef:p,background:f.background,scale:f.scale,showGrid:f.showGrid,isPanning:x,snapEnabled:f.snapEnabled})})})]})}Q0.createRoot(document.getElementById("root")).render(pe.jsx(Re.StrictMode,{children:pe.jsx($p,{})}));
